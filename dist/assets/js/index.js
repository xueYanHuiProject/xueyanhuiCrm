webpackJsonp([1],Array(82).concat([function(e,t,a){"use strict";function n(e){a(156)}function i(e){a(174)}function r(e){a(177)}function l(e){a(176)}function o(e){a(178)}function s(e){a(175)}function c(e){a(155)}function u(e){a(180)}function d(e){a(183)}function m(e){a(182)}function p(e){a(185)}function f(e){a(184)}function g(e){a(186)}function h(e){a(188)}function v(e){a(187)}function b(e){a(189)}function I(e){a(190)}function C(e){a(192)}function T(e){a(191)}function _(e){a(193)}function O(e){a(195)}function y(e){a(194)}function k(e){a(197)}function S(e){a(196)}function x(e){a(198),a(199)}function D(e){a(201)}function $(e){a(200)}function w(e){a(203)}function L(e){a(202)}function U(e){a(205)}function N(e){a(204)}function P(e){a(206)}function z(e){a(207)}function F(e){a(208)}function E(e){a(210)}function R(e){a(209)}function B(e){a(212)}function q(e){a(211)}function j(e){a(214)}function H(e){a(213)}function M(e){a(215)}function A(e){a(216)}function X(e){a(218)}function V(e){a(217)}function W(e){a(220)}function J(e){a(219)}function Z(e){a(222)}function G(e){a(221)}function Y(e){a(223)}function K(e){a(224)}function Q(e){a(225)}function ee(e){a(226)}function te(e){a(227)}function ae(e){a(228)}function ne(e){a(229)}function ie(e){a(230)}function re(e){a(232),a(233)}function le(e){a(234),a(235)}function oe(e){a(239)}function se(e){a(238)}Object.defineProperty(t,"__esModule",{value:!0});var ce=a(2),ue=a(85),de=a.n(ue),me=a(86),pe=a(87),fe=a.n(pe),ge=a(89),he=a.n(ge),ve=a(10),be=localStorage.getItem("nowTabData")?JSON.parse(localStorage.getItem("nowTabData")):{},Ie={toggleOnOff:!0,nowTabData:be,columnList:[],Context:!1,recommendDialog:!1,outLoginDialogOnOff:!1,loginOnOff:localStorage.getItem("adminId")?localStorage.getItem("adminId"):""},Ce=Ie,Te={toggleSide:function(e,t){e.toggleOnOff=!e.toggleOnOff},login:function(e,t){e.loginOnOff=t},outLogin:function(e){e.outLoginDialogOnOff=!1,localStorage.clear(),e.loginOnOff=""},cancelOutLogin:function(e){e.outLoginDialogOnOff=!1},outLoginOne:function(e){e.outLoginDialogOnOff=!0},addTab:function(e,t){var a=JSON.parse(JSON.stringify(e.nowTabData));a[t.routerName]||(a[t.routerName]=t),e.nowTabData=a},deleteTab:function(e,t){var a=JSON.parse(JSON.stringify(e.nowTabData));console.log(t.routerName),delete a[t.routerName],e.nowTabData=a,console.log(e.nowTabData)},ContextOn:function(e){e.Context=!0},ContextOff:function(e){e.Context=!1},saveColumnList:function(e,t){console.log(t,"列表列表列表列表"),e.columnList=t},showRecommend:function(e){e.recommendDialog=!0,console.log(e.recommendDialog)},hideRecommend:function(e){e.recommendDialog=!1},test:function(e,t){console.log(e,t)}},_e=Te,Oe={toggleSide:function(e){var t=e.commit;e.state;t("toggleSide")},login:function(e,t){var a=e.commit;e.state;a("login",t)},cancelOutLogin:function(e){(0,e.commit)("cancelOutLogin")},outLoginOne:function(e){var t=e.commit;e.state;t("outLoginOne")},saveColumnList:function(e,t){var a=e.commit;e.state;a("saveColumnList",t)},outLogin:function(e){var t=e.commit;e.state;t("outLogin")},addTab:function(e,t){var a=e.commit;e.state;a("addTab",t)},deleteTab:function(e,t){var a=e.commit;e.state;a("deleteTab",t)},ContextOn:function(e,t){var a=e.commit;e.state;a("ContextOn")},ContextOff:function(e,t){var a=e.commit;e.state;a("ContextOff")},showRecommend:function(e,t){var a=e.commit;e.state;a("showRecommend")},hideRecommend:function(e,t){var a=e.commit;e.state;a("hideRecommend")}},ye=Oe,ke={toggleOnOff:function(e){return e.toggleOnOff},nowTabData:function(e){return e.nowTabData},columnList:function(e){return e.columnList},Context:function(e){return e.Context},loginOnOff:function(e){return e.loginOnOff},outLoginDialogOnOff:function(e){return e.outLoginDialogOnOff},tab2Data:function(e){return e.tab2Data},recommendDialog:function(e){return e.recommendDialog}},Se=ke;ce.default.use(ve.a);var xe=new ve.a.Store({state:Ce,mutations:_e,actions:ye,getters:Se}),De=(a(150),a(151),a(152),a(153),a(154),function(e){return/^\d+$/g.test(e)}),$e=function(e){return/^[\u4e00-\u9fa5\s\.·-]{1,25}$|^[\@A-Za-z_\s\.·-]{1,50}$|^[A-Za-z\u4e00-\u9fa5]{1,20}$|^[\u4e00-\u9fa5A-Za-z]{1,20}$/.test(e)},we=function(e){return/^1\d{10}$/.test(e)},Le=function(e){return new RegExp("(?=.*[0-9])(?=.*[a-zA-Z]).{8,30}").test(e)},Ue=function(e){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(e)},Ne=function(e){return/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)},Pe=a(1),ze=a.n(Pe),Fe=a(54),Ee=a.n(Fe),Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Be={data:function(){var e=this,t=function(t,a,n){""===a?n(new Error("请输入账号")):(console.log(e.ruleForm2.checkPass),""!==e.ruleForm2.checkPass&&e.$refs.ruleForm2.validateField("checkPass"),n())},a=function(e,t,a){""===t?a(new Error("请输入密码")):a()},n=function(t,a,n){""===a?n(new Error("请输入名字")):(console.log(e.registerForm.registerName,a,$e(a)),$e(a)?(e.$refs.registerForm.validateField("registerEmail"),n()):n(new Error("请输入正确的名字")))},i=function(t,a,n){""===a?n(new Error("请输入邮件")):(Ue(a)?e.$refs.registerForm.validateField("registerPhoneNum"):n(new Error("请输入正确的邮件")),n())},r=function(t,a,n){""===a?n(new Error("请输入身份号")):(Ne(a)?e.$refs.registerForm.validateField("registerGrade"):n(new Error("请输入正确的身份号")),n())},l=function(t,a,n){""===a?n(new Error("请选择管理员级别")):(e.$refs.registerForm.validateField("registerPassWord"),n())};return{options:[{value:"0",label:"超级管理员"},{value:"1",label:"高级管理员"},{value:"2",label:"普通管理员"}],ruleForm2:{pass:"",checkPass:""},registerForm:{registerName:"",registerEmail:"",registerPhoneNum:"",registerIdentityNum:"",registerGrade:"",registerPassWord:"",gender:"1"},registerRules:{registerName:[{validator:n,trigger:"blur"}],registerEmail:[{validator:i,trigger:"blur"}],registerPhoneNum:[{validator:function(t,a,n){""===a?n(new Error("请输入手机号")):(we(a)?e.$refs.registerForm.validateField("registerIdentityNum"):n(new Error("请输入正确的手机号")),n())},trigger:"blur"}],registerIdentityNum:[{validator:r,trigger:"blur"}],registerPassWord:[{validator:function(e,t,a){""===t?a(new Error("请输入密码")):(Le(t)||a(new Error("密码中必须包含字母（不区分大小写）、数字，至少8个字符，最多30个字符")),a())},trigger:"blur"}],registerGrade:[{validator:l,trigger:"change"}]},rules2:{pass:[{validator:t,trigger:"blur"}],checkPass:[{validator:a,trigger:"blur"}]},registerOnOff:!1}},methods:Re({},Object(ve.b)(["login"]),{submitRegisterForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.error("请填写正确的注册信息"),!1;t.registerAdmin()})},registerAdmin:function(){var e=this;ze()({method:"post",url:"/api/sysUser/insert",headers:{"X-Requested-With":"XMLHttpRequest"},data:{grade:e.registerForm.registerGrade,realName:e.registerForm.registerName,loginName:e.registerForm.registerName,email:e.registerForm.registerEmail,phoneNum:e.registerForm.registerPhoneNum,identityNum:e.registerForm.registerIdentityNum,passWord:Ee()(e.registerForm.registerPassWord),gender:e.registerForm.gender}}).then(function(t){var a=t.data;console.log(a),a.success&&200===a.code&&(e.registerOnOff=!1),console.log(t.data)})},checkLogin:function(){var e=this;ze.a.post("/api/sysUser/login",{phoneNum:e.ruleForm2.pass,password:Ee()(e.ruleForm2.checkPass)}).then(function(t){console.log(t);var a=t.data;if(console.log(a),a.success){var n=parseInt(a.code,10),i="";switch(n){case 200:i="登录成功";break;case 201:i="用户名不存在";break;case 202:i="密码错误";break;case 203:i="您暂未通过审核";break;case 204:i="重名";break;case 500:i="登录失败"}200===n?(e.$message({type:"success",message:i}),setTimeout(function(){location.reload()},1e3)):e.$message.error(i),e.login(a.result.id),localStorage.setItem("userName",a.result.realName),localStorage.setItem("adminId",a.result.id),localStorage.setItem("grade",a.result.grade),localStorage.setItem("phoneNum",a.result.phoneNum),localStorage.setItem("password",a.result.password)}else e.$message.error("登录失败！")}).catch(function(e){console.log(e)})},goRegister:function(){this.registerOnOff=!0},goLogin:function(){this.registerOnOff=!1},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.error("请填写正确的登录信息"),!1;t.checkLogin()})},resetForm:function(e){this.$refs[e].resetFields()}})},qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminLogin"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:!e.registerOnOff,expression:"!registerOnOff"}],ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"账号",prop:"pass"}},[a("el-input",{attrs:{type:"email","auto-complete":"off",placeholder:"请输入您的邮箱/手机号/身份证号"},model:{value:e.ruleForm2.pass,callback:function(t){e.$set(e.ruleForm2,"pass",t)},expression:"ruleForm2.pass"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"checkPass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请输入您的密码"},model:{value:e.ruleForm2.checkPass,callback:function(t){e.$set(e.ruleForm2,"checkPass",t)},expression:"ruleForm2.checkPass"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm2")}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(t){return t.stopPropagation(),e.goRegister(t)}}},[e._v("注册")])],1)],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.registerOnOff,expression:"registerOnOff"}],ref:"registerForm",staticClass:"demo-ruleForm",attrs:{model:e.registerForm,"status-icon":"",rules:e.registerRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"registerName"}},[a("el-input",{attrs:{type:"name","auto-complete":"off",placeholder:"请输入姓名"},model:{value:e.registerForm.registerName,callback:function(t){e.$set(e.registerForm,"registerName",t)},expression:"registerForm.registerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"E-mail",prop:"registerEmail"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入邮箱"},model:{value:e.registerForm.registerEmail,callback:function(t){e.$set(e.registerForm,"registerEmail",t)},expression:"registerForm.registerEmail"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"registerPhoneNum"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入手机号"},model:{value:e.registerForm.registerPhoneNum,callback:function(t){e.$set(e.registerForm,"registerPhoneNum",t)},expression:"registerForm.registerPhoneNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号",prop:"registerIdentityNum"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入身份证号"},model:{value:e.registerForm.registerIdentityNum,callback:function(t){e.$set(e.registerForm,"registerIdentityNum",t)},expression:"registerForm.registerIdentityNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"管理级别",prop:"registerGrade"}},[a("el-select",{staticStyle:{width:"256px"},attrs:{clearable:"",placeholder:"请选择","auto-complete":"off"},model:{value:e.registerForm.registerGrade,callback:function(t){e.$set(e.registerForm,"registerGrade",t)},expression:"registerForm.registerGrade"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.registerForm.gender,callback:function(t){e.$set(e.registerForm,"gender",t)},expression:"registerForm.gender"}},[a("el-radio",{attrs:{label:"1"}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"registerPassWord"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请输入密码"},model:{value:e.registerForm.registerPassWord,callback:function(t){e.$set(e.registerForm,"registerPassWord",t)},expression:"registerForm.registerPassWord"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),e.submitRegisterForm("registerForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("registerForm")}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(t){return t.stopPropagation(),e.goLogin(t)}}},[e._v("登录")])],1)],1)],1)},je=[],He={render:qe,staticRenderFns:je},Me=He,Ae=a(0),Xe=n,Ve=Ae(Be,Me,!1,Xe,null,null),We=Ve.exports,Je={result:{des:"整个后台管理系统侧边栏结构原型",tabList:[{index:"0",title:"会员管理",icon:"el-icon-ump-VIP",tabList:[{index:"0-1",title:"会员统计",icon:"el-icon-ump-VIP",routerName:"001"},{index:"0-2",title:"会员反馈",icon:"el-icon-ump-ico_feedback",routerName:"002"},{index:"0-3",title:"会员加盟",icon:"el-icon-ump-Audit",routerName:"003"},{index:"0-4",title:"发票管理",icon:"el-icon-s-ticket",routerName:"004"}]},{index:"1",title:"订单管理",icon:"el-icon-sell",tabList:[{index:"1-1",title:"订单统计",icon:"el-icon-shopping-cart-full",routerName:"011"},{index:"1-2",title:"仪器预约",icon:"el-icon-present",routerName:"012"},{index:"1-3",title:"需求统计",icon:"el-icon-pie-chart",routerName:"013"}]},{index:"2",title:"CMS管理",icon:"el-icon-ump-heads",tabList:[{index:"2-1",title:"仪器管理",icon:"el-icon-video-camera-solid",routerName:"021"},{index:"2-2",title:"需求模板",icon:"el-icon-notebook-2",routerName:"022"},{index:"2-3",title:"产品统计",icon:"el-icon-notebook-1",routerName:"023"},{index:"2-5",title:"积分规则",icon:"el-icon-document-copy",routerName:"025"},{index:"2-6",title:"优惠券",icon:"el-icon-s-ticket",routerName:"026"},{index:"2-4",title:"合作高校",icon:"el-icon-school",routerName:"024"}]},{index:"3",title:"建站管理",icon:"el-icon-ump-web2",tabList:[{index:"3-1",title:"首页轮播",icon:"el-icon-picture",routerName:"031"},{index:"3-2",title:"栏目管理",icon:"el-icon-s-promotion",routerName:"032"},{index:"3-3",title:"企业简介",icon:"el-icon-reading",routerName:"033"},{index:"3-4",title:"联系我们",icon:"el-icon-phone",routerName:"034"}]},{index:"5",title:"系统管理",icon:"el-icon-setting",tabList:[{index:"5-1",title:"管理员统计",auth:0,icon:"el-icon-ump-password",routerName:"052"},{index:"5-2",title:"修改密码",icon:"el-icon-ump-password",routerName:"053"},{index:"5-3",title:"退出登录",icon:"el-icon-ump-exittoapp",routerName:"054",eventFn:"outLoginOne"}]}]}},Ze=Je,Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ye={computed:Ge({},Object(ve.c)(["toggleOnOff","columnList"])),mounted:function(){var e=this;e.getSideData(),setTimeout(function(){console.log(e.columnList)},2e3)},methods:Ge({},Object(ve.b)(["addTab","outLoginOne","saveColumnList"]),{getSideData:function(){var e=this;e.tabList=Ze.result;var t=[];console.log(Ze.result);for(var a=0;a<Ze.result.tabList.length;a++){for(var n=Ze.result.tabList[a],i=[],r=0;r<n.tabList.length;r++){var l=parseInt(localStorage.getItem("grade"),10),o=n.tabList[r];if(0===l)i.push(o);else if(1===l){if(0===parseInt(o.auth,10))continue;i.push(o)}else if(2===l){if(0===parseInt(o.auth,10))continue;i.push(o)}}console.log(i),n.tabList=i,t.push(n)}console.log(t),e.saveColumnList(t)},runFn:function(e){var t=this;t[e.eventFn]&&t[e.eventFn]()},routerDirec:function(e){var t=this;t.addTab(e),t.$router.push({path:"/"+e.routerName})},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)}})},Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aside",{staticClass:"adminSide",class:{active:!e.toggleOnOff}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1-4-1",collapse:e.toggleOnOff,"text-color":"#BFCBD9"},on:{open:e.handleOpen,close:e.handleClose}},e._l(e.columnList,function(t,n){return a("el-submenu",{key:t.index,attrs:{index:n+""}},[a("template",{slot:"title"},[a("i",{class:t.icon}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])]),e._v(" "),e._l(t.tabList,function(t,i){return a("el-menu-item",{key:t.index,attrs:{index:n+"-"+i},nativeOn:{click:function(a){return a.stopPropagation(),e.routerDirec(t)},mouseup:function(a){return a.stopPropagation(),e.runFn(t)}}},[a("i",{class:t.icon}),e._v("\n                "+e._s(t.title)+"\n            ")])})],2)}),1)],1)},Qe=[],et={render:Ke,staticRenderFns:Qe},tt=et,at=a(0),nt=i,it=at(Ye,tt,!1,nt,null,null),rt=it.exports,lt={data:function(){return{styleJson:{left:0,top:0}}},methods:{closeTab:function(e){var t=this;switch(e){case 0:t.$emit("deleteIt");break;case 1:t.$emit("deleteOthers");break;case 2:t.$emit("deleteAll")}}}},ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"contextMenu"},[a("li",{on:{mouseup:function(t){return t.stopPropagation(),e.closeTab(0)}}},[e._v("关闭")]),e._v(" "),a("li",{on:{mouseup:function(t){return t.stopPropagation(),e.closeTab(1)}}},[e._v("关闭其他")]),e._v(" "),a("li",{on:{mouseup:function(t){return t.stopPropagation(),e.closeTab(2)}}},[e._v("关闭所有")])])},st=[],ct={render:ot,staticRenderFns:st},ut=ct,dt=a(0),mt=r,pt=dt(lt,ut,!1,mt,"data-v-363f7754",null),ft=pt.exports,gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ht={data:function(){return{list:{},editableTabsValue:"2",tabIndex:2,routeOnOff:!0,editOnOff:!0,contextData:null,styleJson:{position:"absolute",left:0,top:0}}},computed:gt({},Object(ve.c)(["Context","loginOnOff","nowTabData"])),components:{ContextCom:ft},watch:{loginOnOff:function(e,t){var a=this;0===e.length&&a.closeAll()},$route:function(e){console.log(e);var t=this,a=e.path.split("/");console.log(a),!function(e){return""!==e&&null!=e&&!isNaN(e)}(a[1])?t.routeOnOff=!1:t.routeOnOff=!0}},methods:gt({},Object(ve.b)(["deleteTab","ContextOff","ContextOn","outLogin"]),{closeAll:function(){var e=this;for(var t in e.nowTabData)e.closeTab(e.nowTabData[t])},closeIt:function(){var e=this;e.closeTab(e.contextData)},closeOthers:function(){var e=this;for(var t in e.nowTabData)e.nowTabData[t].routerName!==e.contextData.routerName&&e.closeTab(e.nowTabData[t])},rightClose:function(e,t){var a=this;a.contextData=t,a.styleJson.left=e.clientX+"px",a.styleJson.top=e.offsetY+"px",a.ContextOn()},runFn:function(e){var t=this;t[e.eventFn]&&t[e.eventFn]()},closeTab:function(e){var t=this,a=this.$route.path.substring(1,1e3);this.deleteTab(e);var n="";if(e.routerName&&a===e.routerName){for(var i in t.nowTabData)n=i;n.length?t.$router.push({path:t.nowTabData[n].routerName}):t.$router.push({path:"/index"})}t.ContextOff()}})},vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{directives:[{name:"show",rawName:"v-show",value:e.routeOnOff,expression:"routeOnOff"}],staticClass:"el-tabs__header"},[a("ul",{staticClass:"adminTabList"},[e._l(e.nowTabData,function(t,n){return a("router-link",{key:n,staticClass:"el-tabs__item",attrs:{tag:"li","active-class":"is-active",to:"/"+t.routerName},nativeOn:{contextmenu:function(a){return a.preventDefault(),e.rightClose(a,t)},mouseup:function(a){return a.stopPropagation(),e.runFn(t)}}},[e._v("\n            "+e._s(t.title)),a("span",{staticClass:"el-icon-close",on:{click:function(a){return a.stopPropagation(),e.closeTab(t)}}})])}),e._v(" "),a("ContextCom",{directives:[{name:"show",rawName:"v-show",value:e.Context,expression:"Context"}],style:e.styleJson,on:{deleteAll:e.closeAll,deleteIt:e.closeIt,deleteOthers:e.closeOthers}})],2)])},bt=[],It={render:vt,staticRenderFns:bt},Ct=It,Tt=a(0),_t=l,Ot=Tt(ht,Ct,!1,_t,null,null),yt=Ot.exports,kt=function(e){return"string"==typeof e&&0===e.length||void 0===e||"undefined"===e||"null"===e||void 0===e||null==e},St=function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},xt=function(e,t){var a=function(e){return parseInt(e,10)<10?"0"+parseInt(e,10):parseInt(e,10)};return 0===t?e.getFullYear()+"-"+a(e.getMonth()+1)+"-"+a(e.getDate())+" "+a(e.getHours())+":"+a(e.getMinutes())+":"+a(e.getSeconds()):e.getFullYear()+"-"+a(e.getMonth()+1)+"-"+a(e.getDate())+" 23:59:59"},Dt=function(e){for(var t in e)return!1;return!0},$t={name:"hamburger",props:{isActive:{type:Boolean,default:!1}}},wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("svg",{staticClass:"hamburger",class:{"is-active":e.isActive},attrs:{t:"1492500959545",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1691","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"64",height:"64"}},[a("path",{attrs:{d:"M966.8023 568.849776 57.196677 568.849776c-31.397081 0-56.850799-25.452695-56.850799-56.850799l0 0c0-31.397081 25.452695-56.849776 56.850799-56.849776l909.605623 0c31.397081 0 56.849776 25.452695 56.849776 56.849776l0 0C1023.653099 543.397081 998.200404 568.849776 966.8023 568.849776z","p-id":"1692"}}),e._v(" "),a("path",{attrs:{d:"M966.8023 881.527125 57.196677 881.527125c-31.397081 0-56.850799-25.452695-56.850799-56.849776l0 0c0-31.397081 25.452695-56.849776 56.850799-56.849776l909.605623 0c31.397081 0 56.849776 25.452695 56.849776 56.849776l0 0C1023.653099 856.07443 998.200404 881.527125 966.8023 881.527125z","p-id":"1693"}}),e._v(" "),a("path",{attrs:{d:"M966.8023 256.17345 57.196677 256.17345c-31.397081 0-56.850799-25.452695-56.850799-56.849776l0 0c0-31.397081 25.452695-56.850799 56.850799-56.850799l909.605623 0c31.397081 0 56.849776 25.452695 56.849776 56.850799l0 0C1023.653099 230.720755 998.200404 256.17345 966.8023 256.17345z","p-id":"1694"}})])])},Lt=[],Ut={render:wt,staticRenderFns:Lt},Nt=Ut,Pt=a(0),zt=o,Ft=Pt($t,Nt,!1,zt,"data-v-1d0b0a6e",null),Et=Ft.exports,Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Bt={data:function(){return{list:{}}},computed:Rt({},Object(ve.c)(["toggleOnOff","nowTabData","loginOnOff"]),{marTop:function(){var e=this;return console.log(Dt(e.nowTabData)),!Dt(e.nowTabData)}}),watch:{nowTabData:function(e){var t=this;console.log(Dt(t.nowTabData)),console.log(e),t.loginOnOff?localStorage.setItem("nowTabData",JSON.stringify(e)):localStorage.clear()}},methods:Rt({},Object(ve.b)(["toggleSide"])),components:{Hamburger:Et,Tab:yt},mounted:function(){var e=this;console.log(Dt(e.nowTabData))}},qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"main-container",class:{active:!e.toggleOnOff}},[n("el-header",{staticClass:"adminHeader"},[n("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal","background-color":"#fff","text-color":"#97a8be","active-text-color":"#ffd04b"}},[n("Hamburger",{staticClass:"adminNav",class:{rotateClassName:e.toggleOnOff},nativeOn:{click:function(t){return t.stopPropagation(),e.toggleSide(t)}}}),e._v(" "),n("p",{staticClass:"adminTitle"},[e._v("后台管理系统")]),e._v(" "),n("div",{staticClass:"adminWelcome"},[e._v("学研汇CRM")]),e._v(" "),n("div",{staticClass:"right-menu"},[n("section",{staticClass:"adminUser"},[n("section",{staticClass:"adminUserLogo"},[n("img",{attrs:{src:a(179),alt:""}})])])])],1),e._v(" "),n("Tab",{directives:[{name:"show",rawName:"v-show",value:e.marTop,expression:"marTop"}],staticClass:"adminTab"})],1),e._v(" "),n("router-view",{staticClass:"adminContent",class:{marTop:e.marTop}})],1)},jt=[],Ht={render:qt,staticRenderFns:jt},Mt=Ht,At=a(0),Xt=s,Vt=At(Bt,Mt,!1,Xt,"data-v-e1ca4e26",null),Wt=Vt.exports,Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Zt={data:function(){return{mag:"",Context:!1}},components:{SideBar:rt,ContentBar:Wt,LoginBar:We},mounted:function(){var e=this;Dt(e.nowTabData)&&e.$router.push({path:"/index"}),setTimeout(function(){console.log(e.loginOnOff)},2e3)},watch:{outLoginDialogOnOff:function(e){var t=this;e&&t.$alert("您确定要退出登录？","退出登录",{confirmButtonText:"确定",callback:function(e){t.$message({type:"success",message:"已退出登录"}),t.outLogin()}})}},computed:Jt({},Object(ve.c)(["nowTabData","loginOnOff","outLoginDialogOnOff"])),methods:Jt({},Object(ve.b)(["ContextOff","outLogin"]),{closeMask:function(e){this.ContextOff()}})},Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"adminContainer",nativeOn:{click:function(t){return t.stopPropagation(),e.closeMask(t)}}},[a("SideBar"),e._v(" "),a("ContentBar"),e._v(" "),a("LoginBar",{directives:[{name:"show",rawName:"v-show",value:!(e.loginOnOff.length>0),expression:"!(loginOnOff.length>0)"}]})],1)},Yt=[],Kt={render:Gt,staticRenderFns:Yt},Qt=Kt,ea=a(0),ta=c,aa=ea(Zt,Qt,!1,ta,"data-v-83c2c436",null),na=aa.exports,ia=a(181),ra=a.n(ia),la=[{title:"Sunny Out of Office",start:"2018-04-13",end:"2017-07-27"}],oa={data:function(){return{msg:"index",fcEvents:la}},components:{FullCalendar:ra.a},mounted:function(){localStorage.getItem("nowTabData")&&(localStorage.removeItem("nowTabData"),location.reload())}},sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminIndex"},[a("FullCalendar",{staticClass:"date",attrs:{events:e.fcEvents,locale:"en"}})],1)},ca=[],ua={render:sa,staticRenderFns:ca},da=ua,ma=a(0),pa=u,fa=ma(oa,da,!1,pa,"data-v-f6dbd3f2",null),ga=fa.exports,ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},va={data:function(){var e=localStorage.getItem("adminId");return{updateUser:e,formInline:{updateUser:e,id:"",trueName:"",userTutor:"",userEmail:"",business:"",phoneNum:"",province:"",city:"",county:"",profession:"",address:"",userSchool:"",userIdCard:"",userWork:""},originalForm:{updateUser:e,id:"",trueName:"",userTutor:"",userEmail:"",business:"",phoneNum:"",province:"",city:"",county:"",profession:"",address:"",userSchool:"",userIdCard:"",userWork:""},duringTime:[],updateDuringTime:[],createPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},updatePickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onSubmit:function(){var e=this;console.log(e.duringTime);var t=e.duringTime.length?xt(e.duringTime[0]):"",a=e.duringTime.length?xt(e.duringTime[1]):"",n=e.updateDuringTime.length?xt(e.updateDuringTime[0]):"",i=e.updateDuringTime.length?xt(e.updateDuringTime[1]):"";e.$emit("getTableList",ha({},e.formInline,{beginTime:t,endTime:a,updateBeginTime:n,updateEndTime:i}))},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm)),e.duringTime=[],e.updateDuringTime=[]}}},ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"会员ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入会员ID"},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会员名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入会员名称"},model:{value:e.formInline.trueName,callback:function(t){e.$set(e.formInline,"trueName",t)},expression:"formInline.trueName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"导师"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入导师名称"},model:{value:e.formInline.userTutor,callback:function(t){e.$set(e.formInline,"userTutor",t)},expression:"formInline.userTutor"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"研究方向"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"研究方向"},model:{value:e.formInline.business,callback:function(t){e.$set(e.formInline,"business",t)},expression:"formInline.business"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系方式"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"联系方式"},model:{value:e.formInline.phoneNum,callback:function(t){e.$set(e.formInline,"phoneNum",t)},expression:"formInline.phoneNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"省"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"省"},model:{value:e.formInline.province,callback:function(t){e.$set(e.formInline,"province",t)},expression:"formInline.province"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"市"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"市"},model:{value:e.formInline.city,callback:function(t){e.$set(e.formInline,"city",t)},expression:"formInline.city"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"县/区"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"县/区"},model:{value:e.formInline.county,callback:function(t){e.$set(e.formInline,"county",t)},expression:"formInline.county"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"其他职业"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"其他职业"},model:{value:e.formInline.profession,callback:function(t){e.$set(e.formInline,"profession",t)},expression:"formInline.profession"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"学校/单位"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"学校/单位"},model:{value:e.formInline.userSchool,callback:function(t){e.$set(e.formInline,"userSchool",t)},expression:"formInline.userSchool"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职业"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"职业"},model:{value:e.formInline.userWork,callback:function(t){e.$set(e.formInline,"userWork",t)},expression:"formInline.userWork"}},[a("el-option",{attrs:{label:"学生",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"教职工",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"企业",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"医院",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"个人",value:"5"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"提交时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.createPickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.duringTime,callback:function(t){e.duringTime=t},expression:"duringTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"更新时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.updatePickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.updateDuringTime,callback:function(t){e.updateDuringTime=t},expression:"updateDuringTime"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.resetList(t)}}},[e._v("重置")])],1)],1)],1)},Ia=[],Ca={render:ba,staticRenderFns:Ia},Ta=Ca,_a=a(0),Oa=_a(va,Ta,!1,null,null,null),ya=Oa.exports,ka={props:{tableList:{default:function(){return[]},type:Array}},methods:{upLoadZip:function(e){var t=this;t.$router.push({path:"/addProTemplate",query:{type:1,id:e,updateUser:t.updateUser}})},selectionChange:function(e){var t=this;t.$emit("setSelect",!!e),t.$emit("setSelectData",e)},formatStatus:function(e,t){var a=e.status;return 0===parseInt(a,10)?"下架":"上架"},formatterCreateTime:function(e,t){var a=e.createTime;return St(a)},formatterUpdateTime:function(e,t){var a=e.updateTime||e.createTime;return St(a)},formatterWork:function(e,t){var a=parseInt(e.userWork,10),n="";switch(a){case 1:n="学生";break;case 2:n="教职工";break;case 3:n="企业";break;case 4:n="医院";break;case 5:n="个人";break;case 6:n=e.profession}return n}}},Sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList,border:"","highlight-current-row":"","default-sort":{prop:"createTime",order:"descending"}},on:{"current-change":e.selectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"会员ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trueName",label:"会员名称"}}),e._v("、\n        "),a("el-table-column",{attrs:{prop:"userTutor",label:"导师"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userEmail",label:"邮箱"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userIdCard",label:"身份证号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userWork",formatter:e.formatterWork,label:"职业"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phoneNum",label:"电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"business",label:"方向"}}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"所在地"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userSchool",label:"学校/单位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",sortable:"",formatter:e.formatterCreateTime,label:"注册时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",sortable:"",formatter:e.formatterUpdateTime,label:"更新时间"}})],1)],1)},xa=[],Da={render:Sa,staticRenderFns:xa},$a=Da,wa=a(0),La=d,Ua=wa(ka,$a,!1,La,"data-v-5683f275",null),Na=Ua.exports,Pa={props:{pageNum:{default:function(){return 0},type:Number},pageSize:{default:function(){return 0},type:Number},total:{default:function(){return 0},type:Number}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}},za=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminPage"},[a("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},Fa=[],Ea={render:za,staticRenderFns:Fa},Ra=Ea,Ba=a(0),qa=Ba(Pa,Ra,!1,null,null,null),ja=qa.exports,Ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ma={getTableList:"/api/usrUser/query"},Aa={name:"manageUser",data:function(){return{updateUser:localStorage.getItem("adminId"),pageNum:1,pageSize:20,tableList:[],selectData:{},total:0,selectOnOff:!1}},watch:{selectOnOff:function(e){var t=this;e||(t.selectData={})}},methods:{handleSizeChange:function(e){var t=this;t.pageSize=e,t.getTableList()},handleCurrentChange:function(e){var t=this;t.pageNum=e,t.getTableList()},getTableList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(Ma.getTableList,{params:Dt(e)?{updateUser:t.updateUser,pageSize:t.pageSize,pageNum:t.pageNum}:Ha({pageSize:t.pageSize,pageNum:t.pageNum},e)}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,t.tableList=e.data.result.list,t.total=e.data.result.total,console.log(t.tableList))}).catch(function(e){console.log(e)})},setSelect:function(e){this.selectOnOff=e},setSelectData:function(e){var t=this;t.selectData=e,console.log("设置数据",t.selectData)}},mounted:function(){this.getTableList()},components:{HandleForm:ya,TableList:Na,Pagination:ja}},Xa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("HandleForm",{on:{getTableList:e.getTableList}}),e._v(" "),a("TableList",{attrs:{tableList:e.tableList},on:{setSelect:e.setSelect,setSelectData:e.setSelectData}}),e._v(" "),a("Pagination",{attrs:{pageNum:e.pageNum,pageSize:e.pageSize,total:e.total},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}})],1)])},Va=[],Wa={render:Xa,staticRenderFns:Va},Ja=Wa,Za=a(0),Ga=m,Ya=Za(Aa,Ja,!1,Ga,"data-v-33c8d988",null),Ka=Ya.exports,Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},en={data:function(){var e=localStorage.getItem("adminId");return{updateUser:e,formInline:{usrName:"",usrId:"",feedStatus:"",updateUser:e,id:""},originalForm:{usrName:"",usrId:"",feedStatus:"",updateUser:e,id:""},duringTime:[],updateDuringTime:[],createPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},updatePickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onSubmit:function(){var e=this;console.log(e.duringTime);var t=e.duringTime.length?xt(e.duringTime[0]):"",a=e.duringTime.length?xt(e.duringTime[1]):"",n=e.updateDuringTime.length?xt(e.updateDuringTime[0]):"",i=e.updateDuringTime.length?xt(e.updateDuringTime[1]):"";e.$emit("getTableList",Qa({},e.formInline,{feedBeginTime:t,feedEndTime:a,replyBeginTime:n,replyEndTime:i}))},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm)),e.duringTime=[],e.updateDuringTime=[]}}},tn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"反馈ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入反馈ID"},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会员ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入会员ID"},model:{value:e.formInline.usrId,callback:function(t){e.$set(e.formInline,"usrId",t)},expression:"formInline.usrId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会员名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入反馈ID"},model:{value:e.formInline.usrName,callback:function(t){e.$set(e.formInline,"usrName",t)},expression:"formInline.usrName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"回复状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"反馈回复状态"},model:{value:e.formInline.feedStatus,callback:function(t){e.$set(e.formInline,"feedStatus",t)},expression:"formInline.feedStatus"}},[a("el-option",{attrs:{label:"未回复",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"已回复",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"提交时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.createPickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.duringTime,callback:function(t){e.duringTime=t},expression:"duringTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"更新时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.updatePickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.updateDuringTime,callback:function(t){e.updateDuringTime=t},expression:"updateDuringTime"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.resetList(t)}}},[e._v("重置")])],1)],1)],1)},an=[],nn={render:tn,staticRenderFns:an},rn=nn,ln=a(0),on=ln(en,rn,!1,null,null,null),sn=on.exports,cn={props:{tableList:{default:function(){return[]},type:Array}},methods:{upLoadZip:function(e){var t=this;t.$router.push({path:"/addProTemplate",query:{type:1,id:e,updateUser:t.updateUser}})},selectionChange:function(e){var t=this;t.$emit("setSelect",!!e),t.$emit("setSelectData",e)},formatIsReturn:function(e,t){var a=e.feedStatus;return 1===parseInt(a,10)?"未回复":"已回复"},formatBusiness:function(e,t){var a=parseInt(e.business,10),n="";switch(a){case 0:n="实验测试";break;case 1:n="科研绘图";break;case 2:n="数据分析";break;case 3:n="实验耗材";break;case 4:n="计算模拟";break;case 5:n="其他"}return n},formatStatus:function(e,t){var a=e.status;return 0===parseInt(a,10)?"无效":"激活"},formatterCreateTime:function(e,t){var a=e.createTime;return St(a)},formatterUpdateTime:function(e,t){var a=e.replyTime||e.createTime;return St(a)}}},un=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList,border:"","highlight-current-row":"","default-sort":{prop:"createTime",order:"descending"}},on:{"current-change":e.selectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"反馈ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"usrId",label:"会员ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"usrName",label:"会员名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"feedContext",label:"反馈内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"replyContext",label:"回复内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"feedStatus",formatter:e.formatIsReturn,label:"回复状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",sortable:"",formatter:e.formatterCreateTime,label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"replyTime",sortable:"",formatter:e.formatterUpdateTime,label:"更新时间"}})],1)],1)},dn=[],mn={render:un,staticRenderFns:dn},pn=mn,fn=a(0),gn=p,hn=fn(cn,pn,!1,gn,"data-v-555c2234",null),vn=hn.exports,bn={props:{pageNum:{default:function(){return 0},type:Number},pageSize:{default:function(){return 0},type:Number},total:{default:function(){return 0},type:Number}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}},In=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminPage"},[a("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},Cn=[],Tn={render:In,staticRenderFns:Cn},_n=Tn,On=a(0),yn=On(bn,_n,!1,null,null,null),kn=yn.exports,Sn={data:function(){return{updateUser:localStorage.getItem("adminId")}},props:{selectOnOff:{default:function(){return!1},type:Boolean},selectData:{default:function(){return{}},type:Object}},methods:{addColumn:function(){this.$router.push({path:"/addProTemplate",query:{type:0}})},editColumn:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.$router.push({path:"/addProTemplate",query:{type:1,id:e.selectData.id,updateUser:e.updateUser}}):e.$message.error("请选择一条数据")},changeStatus:function(e){var t=this;console.log(t.selectOnOff),t.selectOnOff?kt(t.selectData.replyContext)?t.$router.push({path:"/replyFeedBack",query:{id:t.selectData.id,updateUser:t.updateUser}}):t.$message({type:"info",message:"已回复"}):t.$message.error("请选择一条数据")},valid:function(e,t){var a=this;console.log("操作"),ze()({method:"post",url:"/api/proTemplate/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:a.selectData.id,updateUser:a.updateUser,status:e}}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&t&&t(),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}}},xn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminAuditControl"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(1)}}},[e._v("回复")])],1)],1)],1)},Dn=[],$n={render:xn,staticRenderFns:Dn},wn=$n,Ln=a(0),Un=Ln(Sn,wn,!1,null,null,null),Nn=Un.exports,Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},zn={getTableList:"/api/usrFeed/query"},Fn={name:"manageBanner",data:function(){return{updateUser:localStorage.getItem("adminId"),pageNum:1,pageSize:20,tableList:[],selectData:{},total:0,selectOnOff:!1}},watch:{selectOnOff:function(e){var t=this;e||(t.selectData={})}},methods:{handleSizeChange:function(e){var t=this;t.pageSize=e,t.getTableList()},handleCurrentChange:function(e){var t=this;t.pageNum=e,t.getTableList()},getTableList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(zn.getTableList,{params:Dt(e)?{updateUser:t.updateUser,pageSize:t.pageSize,pageNum:t.pageNum}:Pn({pageSize:t.pageSize,pageNum:t.pageNum},e)}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,t.tableList=e.data.result.list,t.total=e.data.result.total,console.log(t.tableList))}).catch(function(e){console.log(e)})},setSelect:function(e){this.selectOnOff=e},setSelectData:function(e){var t=this;t.selectData=e,console.log("设置数据",t.selectData)}},mounted:function(){this.getTableList()},components:{HandleForm:sn,TableList:vn,Pagination:kn,ControlModule:Nn}},En=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("HandleForm",{on:{getTableList:e.getTableList}}),e._v(" "),a("TableList",{attrs:{tableList:e.tableList},on:{setSelect:e.setSelect,setSelectData:e.setSelectData}}),e._v(" "),a("Pagination",{attrs:{pageNum:e.pageNum,pageSize:e.pageSize,total:e.total},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}}),e._v(" "),a("ControlModule",{attrs:{selectOnOff:e.selectOnOff,selectData:e.selectData},on:{getTableList:e.getTableList}})],1)])},Rn=[],Bn={render:En,staticRenderFns:Rn},qn=Bn,jn=a(0),Hn=f,Mn=jn(Fn,qn,!1,Hn,"data-v-1be5fd2d",null),An=Mn.exports,Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Vn={getTableList:"/api/usrFeed/query",updateProduct:"/api/usrFeed/feed"},Wn={name:"addProduct",data:function(){var e=this;return{dialogVisible:!1,updateUser:localStorage.getItem("adminId"),dialogImageUrl:"",id:e.$route.query.id,showInline:{usrName:"",feedContext:"",imgUrlList:[]},formInline:{replyContext:""},originalForm:{replyContext:""}}},mounted:function(){this.getData()},methods:{getColumnList:function(){var e=this;ze.a.get(Vn.getColumnList,{params:{updateUser:e.updateUser}}).then(function(t){console.log(t),200===t.data.code&&(e.selectOnOff=!1,console.log("设置完账号"+e.selectOnOff),e.columnList=t.data.result)}).catch(function(e){console.log(e)})},viewBig:function(e){var t=this;t.dialogImageUrl=e,t.dialogVisible=!0},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm))},returnBack:function(){this.$router.push({path:"/002"})},handlePictureCardPreview:function(){var e=this;e.dialogImageUrl=e.formInline.imgUrl,e.dialogVisible=!0},handleClose:function(){var e=this;e.dialogImageUrl="",e.dialogVisible=!1},beforeAvatarUpload:function(e){console.log(e)},getData:function(){var e=this;ze.a.get(Vn.getTableList,{params:{id:e.id,updateUser:e.updateUser}}).then(function(t){if(console.log(t),200===t.data.code){e.selectOnOff=!1;var a=t.data.result[0];for(var n in e.showInline)e.showInline[n]=a[n];e.formInline.replyContext=kt(a.replyContext)?"":a.replyContext,console.log(e.tableList)}}).catch(function(e){console.log(e)})},addColumn:function(){var e=this,t=Vn.updateProduct,a=Xn({},e.formInline,{id:e.id,updateUser:e.updateUser,sysUserId:e.updateUser});ze()({method:"post",url:t,headers:{"X-Requested-With":"XMLHttpRequest"},data:a}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(console.log("添加成功"),e.$message({type:"success",message:"已回复!"}),setTimeout(function(){e.resetList(),e.returnBack()},1e3)),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})}}},Jn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"admin-main"},[a("h1",{staticClass:"admin-title"},[e._v("反馈回复")]),e._v(" "),a("section",{staticClass:"admin-main-inner"},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"会员名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"会员名称",disabled:""},model:{value:e.showInline.usrName,callback:function(t){e.$set(e.showInline,"usrName",t)},expression:"showInline.usrName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"反馈内容"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"会员反馈内容",disabled:""},model:{value:e.showInline.feedContext,callback:function(t){e.$set(e.showInline,"feedContext",t)},expression:"showInline.feedContext"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"回复内容"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入回复内容"},model:{value:e.formInline.replyContext,callback:function(t){e.$set(e.formInline,"replyContext",t)},expression:"formInline.replyContext"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图片"}},[a("div",{staticClass:"block imageList"},e._l(e.showInline.imgUrlList,function(t){return a("img",{key:t,attrs:{src:t,alt:""},on:{click:function(a){return e.viewBig(t)}}})}),0)]),e._v(" "),a("div",{staticClass:"admin-handleBar demo-form-inline"},[a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"primary",inline:!0},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("提交")])],1),e._v(" "),a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.returnBack(t)}}},[e._v("返回")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"图片预览",width:"60%",center:"",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{staticStyle:{width:"100%",height:"100%",border:"1px solid #e9e9e9","box-shadow":"0px 10px 18px 0px rgba(197,206,214,0.8)"},attrs:{src:e.dialogImageUrl,alt:"图片预览"}})])],1)},Zn=[],Gn={render:Jn,staticRenderFns:Zn},Yn=Gn,Kn=a(0),Qn=g,ei=Kn(Wn,Yn,!1,Qn,"data-v-19016599",null),ti=ei.exports,ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ni={data:function(){var e=localStorage.getItem("adminId");return{formInline:{updateUser:e,status:"",id:"",names:""},duringTime:[],updateDuringTime:[],originalForm:{updateUser:e,status:"",id:"",names:""},createPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},updatePickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onSubmit:function(){var e=this;console.log(e.duringTime);var t=e.duringTime.length?xt(e.duringTime[0]):"",a=e.duringTime.length?xt(e.duringTime[1]):"",n=e.updateDuringTime.length?xt(e.updateDuringTime[0]):"",i=e.updateDuringTime.length?xt(e.updateDuringTime[1]):"";e.$emit("getTableList",ai({},e.formInline,{beginTime:t,endTime:a,updateBeginTime:n,updateEndTime:i}))},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm)),e.duringTime=[],e.updateDuringTime=[]}}},ii=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"栏目ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入栏目ID"},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"栏目名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入栏目名称"},model:{value:e.formInline.names,callback:function(t){e.$set(e.formInline,"names",t)},expression:"formInline.names"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"栏目状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"栏目状态"},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-option",{attrs:{label:"下架",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"上架",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"提交时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.createPickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.duringTime,callback:function(t){e.duringTime=t},expression:"duringTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"更新时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.updatePickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.updateDuringTime,callback:function(t){e.updateDuringTime=t},expression:"updateDuringTime"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.resetList(t)}}},[e._v("重置")])],1)],1)],1)},ri=[],li={render:ii,staticRenderFns:ri},oi=li,si=a(0),ci=si(ni,oi,!1,null,null,null),ui=ci.exports,di={props:{tableList:{default:function(){return[]},type:Array}},methods:{selectionChange:function(e){var t=this;t.$emit("setSelect",!!e),t.$emit("setSelectData",e)},formatStatus:function(e,t){var a=e.status;return 0===parseInt(a,10)?"下架":"上架"},formatterTime:function(e,t){var a=e.createTime;return St(a)}}},mi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList,border:"","highlight-current-row":"","default-sort":{prop:"createTime",order:"descending"}},on:{"current-change":e.selectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"栏目ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"link",label:"栏目链接"}}),e._v(" "),a("el-table-column",{attrs:{prop:"names",label:"栏目名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"describes",label:"栏目描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatStatus,label:"栏目状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderBy",sortable:"",label:"排序"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",sortable:"",formatter:e.formatterTime,label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",sortable:"",formatter:e.formatterTime,label:"更新时间"}})],1)],1)},pi=[],fi={render:mi,staticRenderFns:pi},gi=fi,hi=a(0),vi=h,bi=hi(di,gi,!1,vi,"data-v-aa561b68",null),Ii=bi.exports,Ci={props:{pageNum:{default:function(){return 0},type:Number},pageSize:{default:function(){return 0},type:Number},total:{default:function(){return 0},type:Number}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}},Ti=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminPage"},[a("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},_i=[],Oi={render:Ti,staticRenderFns:_i},yi=Oi,ki=a(0),Si=ki(Ci,yi,!1,null,null,null),xi=Si.exports,Di={data:function(){return{updateUser:localStorage.getItem("adminId")}},props:{selectOnOff:{default:function(){return!1},type:Boolean},selectData:{default:function(){return{}},type:Object}},methods:{addColumn:function(){this.$router.push({path:"/addTab",query:{type:0}})},editColumn:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.$router.push({path:"/addTab",query:{type:1,id:e.selectData.id,updateUser:e.updateUser}}):e.$message.error("请选择一条数据")},changeStatus:function(e){var t=this;if(console.log(t.selectOnOff),t.selectOnOff){console.log("逻辑");var a="";a=0===parseInt(e,10)?"确定要下架该栏目？":"确定要上架该栏目？",t.$alert(a,"！提示信息",{confirmButtonText:"确定",callback:function(a){t.valid(e+"",function(){t.$emit("getTableList")})}})}else t.$message.error("请选择一条数据")},valid:function(e,t){var a=this;console.log("操作"),ze()({method:"post",url:"/api/sysColumn/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:a.selectData.id,updateUser:a.updateUser,status:e}}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&t&&t(),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}}},$i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminAuditControl"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("添加")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.editColumn(t)}}},[e._v("编辑")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(1)}}},[e._v("上架")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(0)}}},[e._v("下架")])],1)],1)],1)},wi=[],Li={render:$i,staticRenderFns:wi},Ui=Li,Ni=a(0),Pi=Ni(Di,Ui,!1,null,null,null),zi=Pi.exports,Fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ei={getTableList:"/api/sysColumn/query"},Ri={name:"manageTab",data:function(){return{updateUser:localStorage.getItem("adminId"),pageNum:1,pageSize:20,tableList:[],selectData:{},total:0,selectOnOff:!1}},watch:{selectOnOff:function(e){var t=this;e||(t.selectData={})}},methods:{handleSizeChange:function(e){var t=this;t.pageSize=e,t.getTableList()},handleCurrentChange:function(e){var t=this;t.pageNum=e,t.getTableList()},getTableList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(Ei.getTableList,{params:Dt(e)?{updateUser:t.updateUser,pageSize:t.pageSize,pageNum:t.pageNum}:Fi({pageSize:t.pageSize,pageNum:t.pageNum},e)}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,console.log("设置完账号"+t.selectOnOff),t.tableList=e.data.result.list,t.total=e.data.result.total,console.log(t.tableList))}).catch(function(e){console.log(e)})},setSelect:function(e){var t=this;t.selectOnOff=e,console.log(t.selectOnOff+"在这里设置了账号")},setSelectData:function(e){var t=this;t.selectData=e,console.log("设置数据",t.selectData)}},mounted:function(){this.getTableList()},components:{HandleForm:ui,TableList:Ii,Pagination:xi,ControlModule:zi}},Bi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("HandleForm",{on:{getTableList:e.getTableList}}),e._v(" "),a("TableList",{attrs:{tableList:e.tableList},on:{setSelect:e.setSelect,setSelectData:e.setSelectData}}),e._v(" "),a("Pagination",{attrs:{pageNum:e.pageNum,pageSize:e.pageSize,total:e.total},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}}),e._v(" "),a("ControlModule",{attrs:{selectOnOff:e.selectOnOff,selectData:e.selectData},on:{getTableList:e.getTableList}})],1)])},qi=[],ji={render:Bi,staticRenderFns:qi},Hi=ji,Mi=a(0),Ai=v,Xi=Mi(Ri,Hi,!1,Ai,"data-v-9dc10bba",null),Vi=Xi.exports,Wi={getHtml:"/api/sysEnterprise/select"},Ji={name:"factoryProduce",data:function(){return{updateUser:localStorage.getItem("adminId"),id:"",context:""}},mounted:function(){this.getInfo()},methods:{editProduce:function(){var e=this;e.$router.push({path:"/editProduce",query:{id:e.id}})},getInfo:function(){var e=this;ze.a.get(Wi.getHtml,{params:{types:1,updateUser:e.updateUser}}).then(function(t){console.log(t),200===t.data.code&&(e.context=t.data.result.context,e.id=t.data.result.id)}).catch(function(e){console.log(e)})}}},Zi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("article",{staticClass:"admin-factory-produce",domProps:{innerHTML:e._s(e.context)}}),e._v(" "),a("div",{staticClass:"block adminAuditControl"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.editProduce(t)}}},[e._v("修改")])],1)],1)],1)])])},Gi=[],Yi={render:Zi,staticRenderFns:Gi},Ki=Yi,Qi=a(0),er=b,tr=Qi(Ji,Ki,!1,er,"data-v-5af5e7bc",null),ar=tr.exports,nr={getHtml:"/api/sysEnterprise/select"},ir={name:"factoryProduce",data:function(){return{updateUser:localStorage.getItem("adminId"),id:"",context:""}},mounted:function(){this.getInfo()},methods:{editProduce:function(){var e=this;e.$router.push({path:"/editLinkUs",query:{id:e.id}})},getInfo:function(){var e=this;ze.a.get(nr.getHtml,{params:{types:2,updateUser:e.updateUser}}).then(function(t){console.log(t),200===t.data.code&&(e.context=t.data.result.context,e.id=t.data.result.id)}).catch(function(e){console.log(e)})}}},rr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("article",{staticClass:"admin-factory-produce",domProps:{innerHTML:e._s(e.context)}}),e._v(" "),a("div",{staticClass:"block adminAuditControl"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.editProduce(t)}}},[e._v("修改")])],1)],1)],1)])])},lr=[],or={render:rr,staticRenderFns:lr},sr=or,cr=a(0),ur=I,dr=cr(ir,sr,!1,ur,"data-v-69460510",null),mr=dr.exports,pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},fr={data:function(){var e=localStorage.getItem("adminId");return{formInline:{updateUser:e,status:"",id:""},originalForm:{updateUser:e,status:"",id:""},duringTime:[],updateDuringTime:[],createPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},updatePickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onSubmit:function(){var e=this;console.log(e.duringTime);var t=e.duringTime.length?xt(e.duringTime[0]):"",a=e.duringTime.length?xt(e.duringTime[1]):"",n=e.updateDuringTime.length?xt(e.updateDuringTime[0]):"",i=e.updateDuringTime.length?xt(e.updateDuringTime[1]):"";e.$emit("getTableList",pr({},e.formInline,{beginTime:t,endTime:a,updateBeginTime:n,updateEndTime:i}))},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm)),e.duringTime=[],e.updateDuringTime=[]}}},gr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"轮播ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入轮播ID"},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"轮播状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"轮播状态"},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-option",{attrs:{label:"下架",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"上架",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"提交时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.duringTime,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.formInline.createDuringTime,callback:function(t){e.$set(e.formInline,"createDuringTime",t)},expression:"formInline.createDuringTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"更新时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.updatePickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.updateDuringTime,callback:function(t){e.updateDuringTime=t},expression:"updateDuringTime"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.resetList(t)}}},[e._v("重置")])],1)],1)],1)},hr=[],vr={render:gr,staticRenderFns:hr},br=vr,Ir=a(0),Cr=Ir(fr,br,!1,null,null,null),Tr=Cr.exports,_r={props:{tableList:{default:function(){return[]},type:Array}},methods:{selectionChange:function(e){var t=this;t.$emit("setSelect",!!e),t.$emit("setSelectData",e)},formatStatus:function(e,t){var a=e.status;return 0===parseInt(a,10)?"下架":"上架"},formatterCreateTime:function(e,t){var a=e.createTime;return St(a)},formatterUpdateTime:function(e,t){var a=e.updateTime||e.createTime;return St(a)}}},Or=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList,border:"","highlight-current-row":"","default-sort":{prop:"createTime",order:"descending"}},on:{"current-change":e.selectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"轮播ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"link",label:"轮播链接"}}),e._v(" "),a("el-table-column",{attrs:{label:"轮播图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("img",{staticStyle:{"max-width":"500px","max-height":"500px",border:"1px solid #e9e9e9","box-shadow":"0px 10px 18px 0px rgba(197,206,214,0.8)"},attrs:{src:t.row.imgUrl,alt:""}}),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.imgUrl,alt:""}})])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"describes",label:"轮播描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatStatus,label:"轮播状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",sortable:"",formatter:e.formatterCreateTime,label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",sortable:"",formatter:e.formatterUpdateTime,label:"更新时间"}})],1)],1)},yr=[],kr={render:Or,staticRenderFns:yr},Sr=kr,xr=a(0),Dr=C,$r=xr(_r,Sr,!1,Dr,"data-v-26cf3ff6",null),wr=$r.exports,Lr={props:{pageNum:{default:function(){return 0},type:Number},pageSize:{default:function(){return 0},type:Number},total:{default:function(){return 0},type:Number}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}},Ur=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminPage"},[a("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},Nr=[],Pr={render:Ur,staticRenderFns:Nr},zr=Pr,Fr=a(0),Er=Fr(Lr,zr,!1,null,null,null),Rr=Er.exports,Br={data:function(){return{updateUser:localStorage.getItem("adminId")}},props:{selectOnOff:{default:function(){return!1},type:Boolean},selectData:{default:function(){return{}},type:Object}},methods:{addColumn:function(){this.$router.push({path:"/addBanner",query:{type:0}})},editColumn:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.$router.push({path:"/addBanner",query:{type:1,id:e.selectData.id,updateUser:e.updateUser}}):e.$message.error("请选择一条数据")},changeStatus:function(e){var t=this;if(console.log(t.selectOnOff),t.selectOnOff){console.log("逻辑");var a="";a=0===parseInt(e,10)?"确定要下架该轮播图？":"确定要上架该轮播图？",t.$alert(a,"！提示信息",{confirmButtonText:"确定",callback:function(a){t.valid(e+"",function(){t.$emit("getTableList")})}})}else t.$message.error("请选择一条数据")},valid:function(e,t){var a=this;console.log("操作"),ze()({method:"post",url:"/api/sysBanner/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:a.selectData.id,updateUser:a.updateUser,status:e}}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&t&&t(),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}}},qr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminAuditControl"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("添加")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.editColumn(t)}}},[e._v("编辑")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(1)}}},[e._v("上架")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(0)}}},[e._v("下架")])],1)],1)],1)},jr=[],Hr={render:qr,staticRenderFns:jr},Mr=Hr,Ar=a(0),Xr=Ar(Br,Mr,!1,null,null,null),Vr=Xr.exports,Wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Jr={getTableList:"/api/sysBanner/query"},Zr={name:"manageBanner",data:function(){return{updateUser:localStorage.getItem("adminId"),pageNum:1,pageSize:20,tableList:[],selectData:{},total:0,selectOnOff:!1}},watch:{selectOnOff:function(e){var t=this;e||(t.selectData={})}},methods:{handleSizeChange:function(e){var t=this;t.pageSize=e,t.getTableList()},handleCurrentChange:function(e){var t=this;t.pageNum=e,t.getTableList()},getTableList:function(e){var t=this;ze.a.get(Jr.getTableList,{params:Dt(e)?{updateUser:t.updateUser,pageSize:t.pageSize,pageNum:t.pageNum}:Wr({pageSize:t.pageSize,pageNum:t.pageNum},e)}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,t.tableList=e.data.result.list,t.total=e.data.result.total,console.log(t.tableList))}).catch(function(e){console.log(e)})},setSelect:function(e){this.selectOnOff=e},setSelectData:function(e){var t=this;t.selectData=e,console.log("设置数据",t.selectData)}},mounted:function(){this.getTableList()},components:{HandleForm:Tr,TableList:wr,Pagination:Rr,ControlModule:Vr}},Gr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("HandleForm",{on:{getTableList:e.getTableList}}),e._v(" "),a("TableList",{attrs:{tableList:e.tableList},on:{setSelect:e.setSelect,setSelectData:e.setSelectData}}),e._v(" "),a("Pagination",{attrs:{pageNum:e.pageNum,pageSize:e.pageSize,total:e.total},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}}),e._v(" "),a("ControlModule",{attrs:{selectOnOff:e.selectOnOff,selectData:e.selectData},on:{getTableList:e.getTableList}})],1)])},Yr=[],Kr={render:Gr,staticRenderFns:Yr},Qr=Kr,el=a(0),tl=T,al=el(Zr,Qr,!1,tl,"data-v-357b0084",null),nl=al.exports,il=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},rl={updatePasswold:"/api/sysUser/updatePasswold"},ll={data:function(){return{labelPosition:"right",phoneNum:localStorage.getItem("phoneNum"),password:localStorage.getItem("password"),formLabelAlign:{oldpassword:"",newpassword:"",renewpassword:""},oriFormLabelAlign:{oldpassword:"",newpassword:"",renewpassword:""}}},methods:il({},Object(ve.b)(["outLogin"]),{reset:function(){var e=this;e.formLabelAlign=e.oriFormLabelAlign},submit:function(){var e=this;return kt(e.formLabelAlign.oldpassword)||kt(e.formLabelAlign.newpassword)||kt(e.formLabelAlign.renewpassword)?(e.$message.error("请填写完整的密码"),!1):e.formLabelAlign.newpassword!==e.formLabelAlign.renewpassword?(e.$message.error("新密码与确认密码不一致"),!1):(console.log(Le(e.formLabelAlign.newpassword)),Le(e.formLabelAlign.newpassword)?(console.log(Ee()(e.formLabelAlign.oldpassword)+"!=="+e.password),Ee()(e.formLabelAlign.oldpassword)!==e.password?(e.$message.error("原始密码有误"),!1):e.formLabelAlign.newpassword===e.formLabelAlign.oldpassword?(e.$message.error("新旧密码不能一致"),!1):void ze()({method:"post",url:rl.updatePasswold,headers:{"X-Requested-With":"XMLHttpRequest"},data:{phoneNum:e.phoneNum,oldPassword:e.formLabelAlign.oldpassword,password:e.formLabelAlign.newpassword}}).then(function(t){var a=t.data;console.log(a),a.success&&200===a.code&&(e.$message({type:"success",message:"修改成功"}),e.outLogin()),console.log(t.data)})):(e.$message.error("密码中必须包含字母（不区分大小写）、数字，至少8个字符，最多30个字符"),!1))}})},ol=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("el-form",{staticClass:"adminChangePassword",attrs:{"label-position":e.labelPosition,model:e.formLabelAlign,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"旧密码"}},[a("el-input",{staticClass:"adminInputEl",attrs:{type:"password",placeholeder:"请输入原来密码"},model:{value:e.formLabelAlign.oldpassword,callback:function(t){e.$set(e.formLabelAlign,"oldpassword",t)},expression:"formLabelAlign.oldpassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新密码"}},[a("el-input",{staticClass:"adminInputEl",attrs:{type:"password",placeholeder:"请输入新密码"},model:{value:e.formLabelAlign.newpassword,callback:function(t){e.$set(e.formLabelAlign,"newpassword",t)},expression:"formLabelAlign.newpassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码"}},[a("el-input",{staticClass:"adminInputEl",attrs:{type:"password",placeholeder:"请确认密码"},model:{value:e.formLabelAlign.renewpassword,callback:function(t){e.$set(e.formLabelAlign,"renewpassword",t)},expression:"formLabelAlign.renewpassword"}})],1)],1),e._v(" "),a("el-row",[a("el-button",{on:{click:e.reset}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.submit(t)}}},[e._v("确认")])],1)],1)])},sl=[],cl={render:ol,staticRenderFns:sl},ul=cl,dl=a(0),ml=_,pl=dl(ll,ul,!1,ml,"data-v-7d70a4b7",null),fl=pl.exports,gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},hl={data:function(){var e=localStorage.getItem("adminId");return{updateUser:e,formInline:{names:"",usrId:"",phone:"",email:"",isReturn:"",business:"",updateUser:e,status:"",id:""},originalForm:{names:"",usrId:"",phone:"",email:"",isReturn:"",business:"",updateUser:e,status:"",id:""},duringTime:[],updateDuringTime:[],createPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},updatePickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onSubmit:function(){var e=this;console.log(e.duringTime);var t=e.duringTime.length?xt(e.duringTime[0]):"",a=e.duringTime.length?xt(e.duringTime[1]):"",n=e.updateDuringTime.length?xt(e.updateDuringTime[0]):"",i=e.updateDuringTime.length?xt(e.updateDuringTime[1]):"";e.$emit("getTableList",gl({},e.formInline,{beginTime:t,endTime:a,updateBeginTime:n,updateEndTime:i}))},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm)),e.duringTime=[],e.updateDuringTime=[]}}},vl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"需求ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入需求ID"},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会员ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入会员ID"},model:{value:e.formInline.usrId,callback:function(t){e.$set(e.formInline,"usrId",t)},expression:"formInline.usrId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入需求ID"},model:{value:e.formInline.names,callback:function(t){e.$set(e.formInline,"names",t)},expression:"formInline.names"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入联系电话"},model:{value:e.formInline.phone,callback:function(t){e.$set(e.formInline,"phone",t)},expression:"formInline.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电子邮件"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入电子邮件"},model:{value:e.formInline.email,callback:function(t){e.$set(e.formInline,"email",t)},expression:"formInline.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"需求状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"需求状态"},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-option",{attrs:{label:"下架",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"上架",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"回复状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"需求回复状态"},model:{value:e.formInline.isReturn,callback:function(t){e.$set(e.formInline,"isReturn",t)},expression:"formInline.isReturn"}},[a("el-option",{attrs:{label:"未回复",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"已回复",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"业务方向"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"需求业务方向"},model:{value:e.formInline.business,callback:function(t){e.$set(e.formInline,"business",t)},expression:"formInline.business"}},[a("el-option",{attrs:{label:"实验测试",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"科研绘图",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"数据分析",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"\n实验耗材",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"提交时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.createPickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.duringTime,callback:function(t){e.duringTime=t},expression:"duringTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"更新时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.updatePickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.updateDuringTime,callback:function(t){e.updateDuringTime=t},expression:"updateDuringTime"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.resetList(t)}}},[e._v("重置")])],1)],1)],1)},bl=[],Il={render:vl,staticRenderFns:bl},Cl=Il,Tl=a(0),_l=Tl(hl,Cl,!1,null,null,null),Ol=_l.exports,yl={props:{tableList:{default:function(){return[]},type:Array}},methods:{upLoadZip:function(e){var t=this;t.$router.push({path:"/addProTemplate",query:{type:1,id:e,updateUser:t.updateUser}})},selectionChange:function(e){var t=this;t.$emit("setSelect",!!e),t.$emit("setSelectData",e)},formatIsReturn:function(e,t){var a=e.isReturn;return 1===parseInt(a,10)?"未回复":"已回复"},formatBusiness:function(e,t){var a=parseInt(e.business,10),n="";switch(a){case 0:n="实验测试";break;case 1:n="科研绘图";break;case 2:n="数据分析";break;case 3:n="实验耗材"}return n},formatStatus:function(e,t){var a=e.status;return 0===parseInt(a,10)?"无效":"激活"},formatterCreateTime:function(e,t){var a=e.createTime;return St(a)},formatterUpdateTime:function(e,t){var a=e.updateTime||e.createTime;return St(a)}}},kl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList,border:"","highlight-current-row":"","default-sort":{prop:"createTime",order:"descending"}},on:{"current-change":e.selectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"需求ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"usrId",label:"会员ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"names",label:"联系人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"联系电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"电子信箱"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"需求备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"business",formatter:e.formatBusiness,label:"业务方向"}}),e._v(" "),a("el-table-column",{attrs:{label:"需求文件"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.fileUrl?a("a",{attrs:{href:t.row.fileUrl}},[a("el-button",[e._v("下载查看")])],1):a("span",[e._v("无模板")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"isReturn",formatter:e.formatIsReturn,label:"回复状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",sortable:"",formatter:e.formatterCreateTime,label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",sortable:"",formatter:e.formatterUpdateTime,label:"更新时间"}})],1)],1)},Sl=[],xl={render:kl,staticRenderFns:Sl},Dl=xl,$l=a(0),wl=O,Ll=$l(yl,Dl,!1,wl,"data-v-fe0873d2",null),Ul=Ll.exports,Nl={props:{pageNum:{default:function(){return 0},type:Number},pageSize:{default:function(){return 0},type:Number},total:{default:function(){return 0},type:Number}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}},Pl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminPage"},[a("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},zl=[],Fl={render:Pl,staticRenderFns:zl},El=Fl,Rl=a(0),Bl=Rl(Nl,El,!1,null,null,null),ql=Bl.exports,jl={data:function(){return{updateUser:localStorage.getItem("adminId")}},props:{selectOnOff:{default:function(){return!1},type:Boolean},selectData:{default:function(){return{}},type:Object}},methods:{addColumn:function(){this.$router.push({path:"/addProTemplate",query:{type:0}})},editColumn:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.$router.push({path:"/addProTemplate",query:{type:1,id:e.selectData.id,updateUser:e.updateUser}}):e.$message.error("请选择一条数据")},changeStatus:function(e){var t=this;if(console.log(t.selectOnOff),t.selectOnOff){console.log("逻辑");var a="";a=0===parseInt(e,10)?"确定要下架该需求？":"确定要上架该需求？",t.$alert(a,"！提示信息",{confirmButtonText:"确定",callback:function(a){t.valid(e+"",function(){t.$emit("getTableList")})}})}else t.$message.error("请选择一条数据")},valid:function(e,t){var a=this;console.log("操作"),ze()({method:"post",url:"/api/proTemplate/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:a.selectData.id,updateUser:a.updateUser,status:e}}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&t&&t(),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}}},Hl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminAuditControl"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(1)}}},[e._v("激活")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(0)}}},[e._v("无效")])],1)],1)],1)},Ml=[],Al={render:Hl,staticRenderFns:Ml},Xl=Al,Vl=a(0),Wl=Vl(jl,Xl,!1,null,null,null),Jl=Wl.exports,Zl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Gl={getTableList:"/api/usrNeed/query"},Yl={name:"manageBanner",data:function(){return{updateUser:localStorage.getItem("adminId"),pageNum:1,pageSize:20,tableList:[],selectData:{},total:0,selectOnOff:!1}},watch:{selectOnOff:function(e){var t=this;e||(t.selectData={})}},methods:{handleSizeChange:function(e){var t=this;t.pageSize=e,t.getTableList()},handleCurrentChange:function(e){var t=this;t.pageNum=e,t.getTableList()},getTableList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(Gl.getTableList,{params:Dt(e)?{updateUser:t.updateUser,pageSize:t.pageSize,pageNum:t.pageNum}:Zl({pageSize:t.pageSize,pageNum:t.pageNum},e)}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,t.tableList=e.data.result.list,t.total=e.data.result.total,console.log(t.tableList))}).catch(function(e){console.log(e)})},setSelect:function(e){this.selectOnOff=e},setSelectData:function(e){var t=this;t.selectData=e,console.log("设置数据",t.selectData)}},mounted:function(){this.getTableList()},components:{HandleForm:Ol,TableList:Ul,Pagination:ql,ControlModule:Jl}},Kl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("HandleForm",{on:{getTableList:e.getTableList}}),e._v(" "),a("TableList",{attrs:{tableList:e.tableList},on:{setSelect:e.setSelect,setSelectData:e.setSelectData}}),e._v(" "),a("Pagination",{attrs:{pageNum:e.pageNum,pageSize:e.pageSize,total:e.total},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}}),e._v(" "),a("ControlModule",{attrs:{selectOnOff:e.selectOnOff,selectData:e.selectData},on:{getTableList:e.getTableList}})],1)])},Ql=[],eo={render:Kl,staticRenderFns:Ql},to=eo,ao=a(0),no=y,io=ao(Yl,to,!1,no,"data-v-062899d6",null),ro=io.exports,lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},oo={data:function(){var e=localStorage.getItem("adminId");return{updateUser:e,formInline:{usrId:"",orderState:"",isOffer:"",prodId:"",couponId:"",acceptId:"",columnId:"624182a8-1384-449b-bad1-41b0c43b71cc",updateUser:e,id:""},duringTime:[],updateDuringTime:[],originalForm:{usrId:"",orderState:"",isOffer:"",prodId:"",couponId:"",acceptId:"",columnId:"624182a8-1384-449b-bad1-41b0c43b71cc",updateUser:e,id:""},createPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},updatePickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onSubmit:function(){var e=this;console.log(e.duringTime);var t=e.duringTime.length?xt(e.duringTime[0]):"",a=e.duringTime.length?xt(e.duringTime[1]):"";e.$emit("getTableList",lo({},e.formInline,{beginTime:t,endTime:a}))},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm)),e.duringTime=[],e.updateDuringTime=[]}}},so=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"订单ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入订单ID"},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会员ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入会员ID"},model:{value:e.formInline.usrId,callback:function(t){e.$set(e.formInline,"usrId",t)},expression:"formInline.usrId\n"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入产品ID"},model:{value:e.formInline.prodId,callback:function(t){e.$set(e.formInline,"prodId",t)},expression:"formInline.prodId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠券ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入优惠券ID"},model:{value:e.formInline.couponId,callback:function(t){e.$set(e.formInline,"couponId",t)},expression:"formInline.couponId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"管理员ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入优惠券ID"},model:{value:e.formInline.acceptId,callback:function(t){e.$set(e.formInline,"acceptId",t)},expression:"formInline.acceptId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"订单状态"},model:{value:e.formInline.orderState,callback:function(t){e.$set(e.formInline,"orderState",t)},expression:"formInline.orderState"}},[a("el-option",{attrs:{label:"未支付",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"待实验",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"实验中",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"已完成",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"已退款",value:"5"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"报价状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"报价状态"},model:{value:e.formInline.isOffer,callback:function(t){e.$set(e.formInline,"isOffer",t)},expression:"formInline.isOffer"}},[a("el-option",{attrs:{label:"已报价",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"未报价",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"下单时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.createPickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.duringTime,callback:function(t){e.duringTime=t},expression:"duringTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.updatePickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.updateDuringTime,callback:function(t){e.updateDuringTime=t},expression:"updateDuringTime"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.resetList(t)}}},[e._v("重置")])],1)],1)],1)},co=[],uo={render:so,staticRenderFns:co},mo=uo,po=a(0),fo=po(oo,mo,!1,null,null,null),go=fo.exports,ho={props:{tableList:{default:function(){return[]},type:Array}},methods:{upLoadZip:function(e){var t=this;t.$router.push({path:"/addProTemplate",query:{type:1,id:e,updateUser:t.updateUser}})},selectionChange:function(e){var t=this;t.$emit("setSelect",!!e),t.$emit("setSelectData",e)},formatStatus:function(e,t){var a=e.status;return 0===parseInt(a,10)?"下架":"上架"},formatterOrderState:function(e,t){var a=parseInt(e.orderState,10),n="";switch(a){case 1:n="未支付";break;case 2:n="待实验";break;case 3:n="实验中";break;case 4:n="已完成";break;case 5:n="已退款"}return n},formatPayType:function(e,t){var a=e.status;return 1===parseInt(a,10)?"小程序":"网站"},formatInvoice:function(e,t){var a=e.isInvoice;return 1===parseInt(a,10)?"未开":"已开"},formatIsOffer:function(e,t){var a=e.isOffer;return 1===parseInt(a,10)?"是":"否"},formatterCreateTime:function(e,t){var a=e.placeTime;return kt(a)?"":St(a)},formatterPayTime:function(e,t){var a=e.payTime;return kt(a)?"":St(a)},formatterRefundTime:function(e,t){var a=e.refundTime;return kt(a)?"":St(a)}}},vo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList,border:"","highlight-current-row":"","default-sort":{prop:"createTime",order:"descending"}},on:{"current-change":e.selectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"订单ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"usrId",label:"用户ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"会员名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payType",formatter:e.formatPayType,label:"订单来源"}}),e._v(" "),a("el-table-column",{attrs:{prop:"columnName",label:"所属栏目"}}),e._v(" "),a("el-table-column",{attrs:{prop:"columnId",label:"所属栏目ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"acceptId",label:"管理员ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"acceptName",label:"管理员名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"instrName",label:"产品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"prodId",label:"产品ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remarks",label:"用户留言"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderFromId",label:"微信订单ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isInvoice",formatter:e.formatInvoice,label:"发票状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isOffer",formatter:e.formatIsOffer,label:"用户已获取报价"}}),e._v(" "),a("el-table-column",{attrs:{width:"150",label:"订单文件"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.fileUrl?a("a",{attrs:{href:t.row.fileUrl}},[a("el-button",[e._v("下载查看")])],1):a("span",[e._v("未上传")])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"150",label:"交付文件"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.endUrl?a("a",{attrs:{href:t.row.endUrl}},[a("el-button",[e._v("下载查看")])],1):a("span",[e._v("未上传")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"couponId",label:"优惠券ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payMoney",label:"订单报价"}}),e._v(" "),a("el-table-column",{attrs:{prop:"actualMoney",label:"实际支付"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderState",formatter:e.formatterOrderState,label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",sortable:"",formatter:e.formatterCreateTime,label:"下单时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payTime",sortable:"",formatter:e.formatterPayTime,label:"支付时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"refundTime",sortable:"",formatter:e.formatterRefundTime,label:"退款时间"}})],1)],1)},bo=[],Io={render:vo,staticRenderFns:bo},Co=Io,To=a(0),_o=k,Oo=To(ho,Co,!1,_o,"data-v-3305d092",null),yo=Oo.exports,ko={props:{pageNum:{default:function(){return 0},type:Number},pageSize:{default:function(){return 0},type:Number},total:{default:function(){return 0},type:Number}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}},So=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminPage"},[a("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},xo=[],Do={render:So,staticRenderFns:xo},$o=Do,wo=a(0),Lo=wo(ko,$o,!1,null,null,null),Uo=Lo.exports,No={data:function(){return{updateUser:localStorage.getItem("adminId")}},props:{selectOnOff:{default:function(){return!1},type:Boolean},selectData:{default:function(){return{}},type:Object}},methods:{addColumn:function(){this.$router.push({path:"/addProTemplate",query:{type:0}})},upLoadResult:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.$router.push({path:"/upLoadResult",query:{type:1,id:e.selectData.id,updateUser:e.updateUser,acceptId:e.updateUser}}):e.$message.error("请选择一条数据")},reviewSample:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.$router.push({path:"/sampleInfo",query:{type:1,id:e.selectData.id,specimenId:e.selectData.specimenId,updateUser:e.updateUser,acceptId:e.updateUser}}):e.$message.error("请选择一条数据")},startOrder:function(e){var t=this,a=this;console.log(a.selectOnOff),a.selectOnOff?a.$confirm("您确定修改订单状态?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=t,n={id:a.selectData.id,orderState:e,updateUser:a.updateUser,acceptId:a.updateUser,sysUserId:a.updateUser};ze()({method:"post",url:"/api/ordOrder/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:n}).then(function(e){console.log("进入成功");var t=e.data;200===parseInt(t.code,10)&&(a.$message({type:"success",message:"状态已修改!"}),a.$emit("getTableList")),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}):a.$message.error("请选择一条数据")},changeStatus:function(){var e=this;console.log(e.selectOnOff),e.selectOnOff?e.$prompt("请输入价格","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/(^[1-9]\d*$)/,inputErrorMessage:"价格格式不正确"}).then(function(t){var a=t.value;e.$confirm("您确定提交该报价,用户支付后报价将不可修改?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){ze()({method:"post",url:"/api/ordOrder/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:e.selectData.id,isOffer:1,updateUser:e.updateUser,acceptId:e.updateUser,payMoney:a}}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(e.$message({type:"success",message:"报价成功!"}),e.$emit("getTableList")),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})})}):e.$message.error("请选择一条数据")},refund:function(){var e=this;console.log(e.selectOnOff),e.selectOnOff?e.$confirm("您确定要退款该订单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){ze()({method:"post",url:"/api/pay/refund/"+e.selectData.id,headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:e.selectData.id,updateUser:e.updateUser}}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(e.$message({type:"success",message:"退款成功!"}),e.$emit("getTableList")),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"退款失败"})})}):e.$message.error("请选择一条数据")},valid:function(e,t){var a=this;console.log("操作"),ze()({method:"post",url:"/api/proTemplate/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:a.selectData.id,updateUser:a.updateUser,status:e}}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&t&&t(),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}}},Po=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminAuditControl"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus()}}},[e._v("修改订单价格")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.refund()}}},[e._v("退款")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.startOrder(3)}}},[e._v("开始")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.reviewSample()}}},[e._v("查看样品资料")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.upLoadResult(t)}}},[e._v("上传交付文件")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.startOrder(4)}}},[e._v("结束")])],1)],1)],1)},zo=[],Fo={render:Po,staticRenderFns:zo},Eo=Fo,Ro=a(0),Bo=Ro(No,Eo,!1,null,null,null),qo=Bo.exports,jo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ho={getTableList:"/api/ordOrder/query"},Mo={name:"manageBanner",data:function(){return{updateUser:localStorage.getItem("adminId"),columnId:"624182a8-1384-449b-bad1-41b0c43b71cc",pageNum:1,pageSize:20,tableList:[],selectData:{},total:0,selectOnOff:!1}},watch:{selectOnOff:function(e){var t=this;e||(t.selectData={})}},methods:{handleSizeChange:function(e){var t=this;t.pageSize=e,t.getTableList()},handleCurrentChange:function(e){var t=this;t.pageNum=e,t.getTableList()},getTableList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(Ho.getTableList,{params:Dt(e)?{updateUser:t.updateUser,columnId:t.columnId,pageSize:t.pageSize,pageNum:t.pageNum}:jo({pageSize:t.pageSize,columnId:t.columnId,pageNum:t.pageNum},e)}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,t.tableList=e.data.result.list,t.total=e.data.result.total,console.log(t.tableList))}).catch(function(e){console.log(e)})},setSelect:function(e){this.selectOnOff=e},setSelectData:function(e){var t=this;t.selectData=e,console.log("设置数据",t.selectData)}},mounted:function(){this.getTableList()},components:{HandleForm:go,TableList:yo,Pagination:Uo,ControlModule:qo}},Ao=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("HandleForm",{on:{getTableList:e.getTableList}}),e._v(" "),a("TableList",{attrs:{tableList:e.tableList},on:{setSelect:e.setSelect,setSelectData:e.setSelectData}}),e._v(" "),a("Pagination",{attrs:{pageNum:e.pageNum,pageSize:e.pageSize,total:e.total},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}}),e._v(" "),a("ControlModule",{attrs:{selectOnOff:e.selectOnOff,selectData:e.selectData},on:{getTableList:e.getTableList}})],1)])},Xo=[],Vo={render:Ao,staticRenderFns:Xo},Wo=Vo,Jo=a(0),Zo=S,Go=Jo(Mo,Wo,!1,Zo,"data-v-3c2a1f34",null),Yo=Go.exports,Ko={name:"sampleItem",props:{config:{default:function(){return{}},type:Object},keyWord:{default:function(){return 0},type:Number}},data:function(){var e=this;return{list:[],updateUser:localStorage.getItem("adminId"),id:e.$route.query.id,editVisible:!1,dynamicForm:{},form:{title:"",controlType:"",isMust:"",choiceNum:"",tipsContent:"",choiceContent:""},originalForm:{title:"",controlType:"",isMust:"",choiceNum:"",tipsContent:"",choiceContent:""}}},computed:{choiceContent:function(){var e=this,t="",a=0;for(var n in e.dynamicForm)t+=0===a?e.dynamicForm[n]:","+e.dynamicForm[n],a++;return t},choiceContentOnOff:function(){var e=this,t=0;for(var a in e.dynamicForm)kt(e.dynamicForm[a])||t++;return parseInt(e.form.choiceNum,10)===t}},watch:{dynamicForm:{handler:function(e){console.log(e)},deep:!0},editVisible:function(e){var t=this;e||(t.form=t.originalForm)},"form.choiceNum":function(e){var t=this;if(!kt(e))if(De(e)){for(var a={},n=0;n<e;n++){var i="input"+n;a[i]=""}t.dynamicForm=a}else t.$alert("【选项个数】必须是阿拉伯数字",{confirmButtonText:"知道了"}).then(function(){t.form.choiceNum=""}).catch(function(e){})}},methods:{editClose:function(){this.editVisible=!1},returnBack:function(){this.$router.push({path:"/012"})}}},Qo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"sample-item"},[a("h1",{staticClass:"instrument-title"},[a("i"),e._v(" "),a("span",[e._v(e._s(String.fromCharCode(parseInt(e.keyWord,10)-1+65))+"组样品")])]),e._v(" "),e._l(e.config[e.keyWord+""],function(t,n){return a("section",{key:t.id,staticClass:"sample-form-module",class:{"sample-form-input":3===parseInt(t.controlType,10),"sample-form-check":2===parseInt(t.controlType,10),"sample-form-radio":1===parseInt(t.controlType,10),"sample-form-text":4===parseInt(t.controlType,10)}},[a("section",{staticClass:"form-panel"},[a("span",{staticClass:"label"},[0===parseInt(t.isMust,10)?a("i",[e._v("*")]):e._e(),e._v("\n          "+e._s(t.title)+"：\n        ")]),e._v(" "),3===parseInt(t.controlType,10)?a("span",{staticClass:"wrap"},[a("input",{attrs:{type:"text",placeholder:"请输入"+t.title,disabled:""},domProps:{value:t.resultTxt}})]):e._e(),e._v(" "),4===parseInt(t.controlType,10)?a("span",{staticClass:"wrap"},[a("textarea",{attrs:{name:"",cols:"30",rows:"10",placeholder:"请输入"+t.title,disabled:""},domProps:{value:t.resultTxt}})]):e._e(),e._v(" "),1===parseInt(t.controlType,10)||2===parseInt(t.controlType,10)?a("span",{staticClass:"wrap"},[e._l(t.choiceContent.split(","),function(t,i){return a("span",{key:n+"-"+i,staticClass:"radio-item"},[a("i"),e._v(" "),a("em",{domProps:{textContent:e._s(t)}})])}),e._v(" "),a("span",{staticClass:"choice-result"},[e._v("【选择结果】:"+e._s(t.resultTxt))])],2):e._e(),e._v(" "),0===parseInt(t.isMust,10)?a("span",{staticClass:"require"},[e._v("必填")]):e._e(),e._v(" "),a("span",{staticClass:"sample-delete",on:{click:function(a){return e.deleteSample(t.id)}}},[a("i"),e._v("\n            删除\n          ")])]),e._v(" "),t.tipsContent?a("section",{staticClass:"tips"},[a("i",[e._v("!")]),e._v(" "),a("em",{domProps:{textContent:e._s(t.tipsContent)}})]):e._e()])}),e._v(" "),a("section",{staticClass:"sample-form-module sample-form-add"},[a("section",{staticClass:"addHandle addHandleBack",on:{click:e.returnBack}},[a("span",[e._v("返回")])])])],2)},es=[],ts={render:Qo,staticRenderFns:es},as=ts,ns=a(0),is=x,rs=ns(Ko,as,!1,is,"data-v-1163e2d7",null),ls=rs.exports,os={list:"/api/proSpecimen/getSpecimenInfo"},ss={name:"reviewSample",components:{SampleItem:ls},mounted:function(){this.getTableList()},data:function(){return{tableList:[],specimenId:this.$route.query.specimenId,updateUser:localStorage.getItem("adminId")}},methods:{getTableList:function(){var e=this;console.log("--------------------"),console.log(e.formInline),ze.a.get(os.list,{params:{updateUser:e.updateUser,id:e.specimenId}}).then(function(t){console.log(t),200===t.data.code&&(e.tableList=t.data.result.sampleMap)}).catch(function(e){console.log(e)})}}},cs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"admin-main"},[a("h1",{staticClass:"admin-title"},[e._v("查看样品资料")]),e._v(" "),a("section",{staticClass:"admin-main-inner"},e._l(e.tableList,function(e,t){return a("SampleItem",{key:e.id,attrs:{config:e,keyWord:t+1}})}),1)])},us=[],ds={render:cs,staticRenderFns:us},ms=ds,ps=a(0),fs=ps(ss,ms,!1,null,null,null),gs=fs.exports,hs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},vs={data:function(){var e=localStorage.getItem("adminId");return{formInline:{names:"",updateUser:e,status:"",id:"",contactName:"",contactPhone:"",cooDirection:""},originalForm:{names:"",updateUser:e,status:"",id:"",contactName:"",contactPhone:"",cooDirection:""},duringTime:[],updateDuringTime:[],createPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},updatePickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onSubmit:function(){var e=this;console.log(e.duringTime);var t=e.duringTime.length?xt(e.duringTime[0]):"",a=e.duringTime.length?xt(e.duringTime[1]):"",n=e.updateDuringTime.length?xt(e.updateDuringTime[0]):"",i=e.updateDuringTime.length?xt(e.updateDuringTime[1]):"";e.$emit("getTableList",hs({},e.formInline,{beginTime:t,endTime:a,updateBeginTime:n,updateEndTime:i}))},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm)),e.duringTime=[],e.updateDuringTime=[]}}},bs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"高校ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入高校ID"},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"高校名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入高校ID"},model:{value:e.formInline.names,callback:function(t){e.$set(e.formInline,"names",t)},expression:"formInline.names"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"高校状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"合作方向"},model:{value:e.formInline.cooDirection,callback:function(t){e.$set(e.formInline,"cooDirection",t)},expression:"formInline.cooDirection"}},[a("el-option",{attrs:{label:"实验测试",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"科研绘图",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"数据分析",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"实验耗材",value:"4"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入联系人姓名"},model:{value:e.formInline.contactName,callback:function(t){e.$set(e.formInline,"contactName",t)},expression:"formInline.contactName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人电话"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入联系人电话"},model:{value:e.formInline.contactPhone,callback:function(t){e.$set(e.formInline,"contactPhone",t)},expression:"formInline.contactPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"高校状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"高校状态"},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-option",{attrs:{label:"下架",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"上架",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"提交时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.createPickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.duringTime,callback:function(t){e.duringTime=t},expression:"duringTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"更新时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.updatePickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.updateDuringTime,callback:function(t){e.updateDuringTime=t},expression:"updateDuringTime"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.resetList(t)}}},[e._v("重置")])],1)],1)],1)},Is=[],Cs={render:bs,staticRenderFns:Is},Ts=Cs,_s=a(0),Os=_s(vs,Ts,!1,null,null,null),ys=Os.exports,ks={props:{tableList:{default:function(){return[]},type:Array}},methods:{selectionChange:function(e){var t=this;t.$emit("setSelect",!!e),t.$emit("setSelectData",e)},formatterCooDirection:function(e){var t=e.cooDirection,a="";switch(parseInt(t,10)){case 1:a="实验测试";break;case 2:a="科研绘图";break;case 3:a="数据分析";break;case 4:a="实验耗材"}return a},formatStatus:function(e,t){var a=e.status;return 0===parseInt(a,10)?"下架":"上架"},formatterCreateTime:function(e,t){var a=e.createTime;return St(a)},formatterUpdateTime:function(e,t){var a=e.updateTime||e.createTime;return St(a)}}},Ss=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList,border:"","highlight-current-row":"","default-sort":{prop:"createTime",order:"descending"}},on:{"current-change":e.selectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"高校ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"names",label:"高校名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cooDirection",formatter:e.formatterCooDirection,label:"合作方向"}}),e._v(" "),a("el-table-column",{attrs:{label:"高校图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("img",{staticStyle:{"max-width":"500px","max-height":"500px",border:"1px solid #e9e9e9","box-shadow":"0px 10px 18px 0px rgba(197,206,214,0.8)"},attrs:{src:t.row.schoolPicture,alt:""}}),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.schoolPicture,alt:""}})])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"contactName",label:"联系人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatStatus,label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contactPhone",label:"联系人电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",sortable:"",formatter:e.formatterCreateTime,label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",sortable:"",formatter:e.formatterUpdateTime,label:"更新时间"}})],1)],1)},xs=[],Ds={render:Ss,staticRenderFns:xs},$s=Ds,ws=a(0),Ls=D,Us=ws(ks,$s,!1,Ls,"data-v-4346c448",null),Ns=Us.exports,Ps={props:{pageNum:{default:function(){return 0},type:Number},pageSize:{default:function(){return 0},type:Number},total:{default:function(){return 0},type:Number}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}},zs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminPage"},[a("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},Fs=[],Es={render:zs,staticRenderFns:Fs},Rs=Es,Bs=a(0),qs=Bs(Ps,Rs,!1,null,null,null),js=qs.exports,Hs={data:function(){return{updateUser:localStorage.getItem("adminId")}},props:{selectOnOff:{default:function(){return!1},type:Boolean},selectData:{default:function(){return{}},type:Object}},methods:{addColumn:function(){this.$router.push({path:"/addSchool",query:{type:0}})},editColumn:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.$router.push({path:"/addSchool",query:{type:1,id:e.selectData.id,updateUser:e.updateUser}}):e.$message.error("请选择一条数据")},changeStatus:function(e){var t=this;if(console.log(t.selectOnOff),t.selectOnOff){console.log("逻辑");var a="";a=0===parseInt(e,10)?"确定要下架该高校？":"确定要上架该高校？",t.$alert(a,"！提示信息",{confirmButtonText:"确定",callback:function(a){t.valid(e+"",function(){t.$emit("getTableList")})}})}else t.$message.error("请选择一条数据")},valid:function(e,t){var a=this;console.log("操作"),ze()({method:"post",url:"/api/sysSchool/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:a.selectData.id,updateUser:a.updateUser,status:e}}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&t&&t(),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}}},Ms=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminAuditControl"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("添加")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.editColumn(t)}}},[e._v("编辑")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(1)}}},[e._v("上架")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(0)}}},[e._v("下架")])],1)],1)],1)},As=[],Xs={render:Ms,staticRenderFns:As},Vs=Xs,Ws=a(0),Js=Ws(Hs,Vs,!1,null,null,null),Zs=Js.exports,Gs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ys={getTableList:"/api/sysSchool/query"},Ks={name:"manageBanner",data:function(){return{updateUser:localStorage.getItem("adminId"),pageNum:1,pageSize:20,tableList:[],selectData:{},total:0,selectOnOff:!1}},watch:{selectOnOff:function(e){var t=this;e||(t.selectData={})}},methods:{handleSizeChange:function(e){var t=this;t.pageSize=e,t.getTableList()},handleCurrentChange:function(e){var t=this;t.pageNum=e,t.getTableList()},getTableList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(Ys.getTableList,{params:Dt(e)?{updateUser:t.updateUser,pageSize:t.pageSize,pageNum:t.pageNum}:Gs({pageSize:t.pageSize,pageNum:t.pageNum},e)}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,t.tableList=e.data.result.list,t.total=e.data.result.total,console.log(t.tableList))}).catch(function(e){console.log(e)})},setSelect:function(e){this.selectOnOff=e},setSelectData:function(e){var t=this;t.selectData=e,console.log("设置数据",t.selectData)}},mounted:function(){this.getTableList()},components:{HandleForm:ys,TableList:Ns,Pagination:js,ControlModule:Zs}},Qs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("HandleForm",{on:{getTableList:e.getTableList}}),e._v(" "),a("TableList",{attrs:{tableList:e.tableList},on:{setSelect:e.setSelect,setSelectData:e.setSelectData}}),e._v(" "),a("Pagination",{attrs:{pageNum:e.pageNum,pageSize:e.pageSize,total:e.total},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}}),e._v(" "),a("ControlModule",{attrs:{selectOnOff:e.selectOnOff,selectData:e.selectData},on:{getTableList:e.getTableList}})],1)])},ec=[],tc={render:Qs,staticRenderFns:ec},ac=tc,nc=a(0),ic=$,rc=nc(Ks,ac,!1,ic,"data-v-04dd2fbe",null),lc=rc.exports,oc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},sc={data:function(){var e=localStorage.getItem("adminId");return{updateUser:e,formInline:{names:"",usrId:"",phone:"",email:"",isReturn:"",business:"",updateUser:e,status:"",id:""},originalForm:{names:"",usrId:"",phone:"",email:"",isReturn:"",business:"",updateUser:e,status:"",id:""},duringTime:[],updateDuringTime:[],createPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},updatePickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onSubmit:function(){var e=this;console.log(e.duringTime);var t=e.duringTime.length?xt(e.duringTime[0]):"",a=e.duringTime.length?xt(e.duringTime[1]):"",n=e.updateDuringTime.length?xt(e.updateDuringTime[0]):"",i=e.updateDuringTime.length?xt(e.updateDuringTime[1]):"";e.$emit("getTableList",oc({},e.formInline,{beginTime:t,endTime:a,updateBeginTime:n,updateEndTime:i}))},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm)),e.duringTime=[],e.updateDuringTime=[]}}},cc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"加盟ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入加盟ID"},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会员ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入会员ID"},model:{value:e.formInline.usrId,callback:function(t){e.$set(e.formInline,"usrId",t)},expression:"formInline.usrId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会员名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入会员名称"},model:{value:e.formInline.names,callback:function(t){e.$set(e.formInline,"names",t)},expression:"formInline.names"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入联系电话"},model:{value:e.formInline.phone,callback:function(t){e.$set(e.formInline,"phone",t)},expression:"formInline.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电子邮件"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入电子邮件"},model:{value:e.formInline.email,callback:function(t){e.$set(e.formInline,"email",t)},expression:"formInline.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"回复状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"加盟回复状态"},model:{value:e.formInline.isReturn,callback:function(t){e.$set(e.formInline,"isReturn",t)},expression:"formInline.isReturn"}},[a("el-option",{attrs:{label:"未回复",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"已回复",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"业务方向"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"加盟业务方向"},model:{value:e.formInline.business,callback:function(t){e.$set(e.formInline,"business",t)},expression:"formInline.business"}},[a("el-option",{attrs:{label:"实验测试",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"科研绘图",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"数据分析",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"实验耗材",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"计算模拟",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"其他",value:"5"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"提交时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.createPickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.duringTime,callback:function(t){e.duringTime=t},expression:"duringTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"更新时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.updatePickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.updateDuringTime,callback:function(t){e.updateDuringTime=t},expression:"updateDuringTime"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.resetList(t)}}},[e._v("重置")])],1)],1)],1)},uc=[],dc={render:cc,staticRenderFns:uc},mc=dc,pc=a(0),fc=pc(sc,mc,!1,null,null,null),gc=fc.exports,hc={props:{tableList:{default:function(){return[]},type:Array}},methods:{upLoadZip:function(e){var t=this;t.$router.push({path:"/addProTemplate",query:{type:1,id:e,updateUser:t.updateUser}})},selectionChange:function(e){var t=this;t.$emit("setSelect",!!e),t.$emit("setSelectData",e)},formatIsReturn:function(e,t){var a=e.isReturn;return 1===parseInt(a,10)?"未回复":"已回复"},formatBusiness:function(e,t){var a=parseInt(e.business,10),n="";switch(a){case 0:n="实验测试";break;case 1:n="科研绘图";break;case 2:n="数据分析";break;case 3:n="实验耗材";break;case 4:n="计算模拟";break;case 5:n="其他"}return n},formatStatus:function(e,t){var a=e.status;return 0===parseInt(a,10)?"无效":"激活"},formatterCreateTime:function(e,t){var a=e.createTime;return St(a)},formatterUpdateTime:function(e,t){var a=e.updateTime||e.createTime;return St(a)}}},vc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList,border:"","highlight-current-row":"","default-sort":{prop:"createTime",order:"descending"}},on:{"current-change":e.selectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"加盟ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"usrId",label:"会员ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"names",label:"联系人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"联系电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"电子信箱"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"加盟备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"business",formatter:e.formatBusiness,label:"业务方向"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isReturn",formatter:e.formatIsReturn,label:"回复专状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",sortable:"",formatter:e.formatterCreateTime,label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",sortable:"",formatter:e.formatterUpdateTime,label:"更新时间"}})],1)],1)},bc=[],Ic={render:vc,staticRenderFns:bc},Cc=Ic,Tc=a(0),_c=w,Oc=Tc(hc,Cc,!1,_c,"data-v-04ed3156",null),yc=Oc.exports,kc={props:{pageNum:{default:function(){return 0},type:Number},pageSize:{default:function(){return 0},type:Number},total:{default:function(){return 0},type:Number}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}},Sc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminPage"},[a("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},xc=[],Dc={render:Sc,staticRenderFns:xc},$c=Dc,wc=a(0),Lc=wc(kc,$c,!1,null,null,null),Uc=Lc.exports,Nc={data:function(){return{updateUser:localStorage.getItem("adminId")}},props:{selectOnOff:{default:function(){return!1},type:Boolean},selectData:{default:function(){return{}},type:Object}},methods:{addColumn:function(){this.$router.push({path:"/addProTemplate",query:{type:0}})},editColumn:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.$router.push({path:"/addProTemplate",query:{type:1,id:e.selectData.id,updateUser:e.updateUser}}):e.$message.error("请选择一条数据")},changeStatus:function(e){var t=this;console.log(t.selectOnOff),t.selectOnOff?t.$router.push({path:"/replyDemand",query:{id:t.selectData.id,updateUser:t.updateUser}}):t.$message.error("请选择一条数据")},valid:function(e,t){var a=this;console.log("操作"),ze()({method:"post",url:"/api/proTemplate/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:a.selectData.id,updateUser:a.updateUser,status:e}}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&t&&t(),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}}},Pc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminAuditControl"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(1)}}},[e._v("回复")])],1)],1)],1)},zc=[],Fc={render:Pc,staticRenderFns:zc},Ec=Fc,Rc=a(0),Bc=Rc(Nc,Ec,!1,null,null,null),qc=Bc.exports,jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Hc={getTableList:"/api/usrJoin/query"},Mc={name:"manageBanner",data:function(){return{updateUser:localStorage.getItem("adminId"),pageNum:1,pageSize:20,tableList:[],selectData:{},total:0,selectOnOff:!1}},watch:{selectOnOff:function(e){var t=this;e||(t.selectData={})}},methods:{handleSizeChange:function(e){var t=this;t.pageSize=e,t.getTableList()},handleCurrentChange:function(e){var t=this;t.pageNum=e,t.getTableList()},getTableList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(Hc.getTableList,{params:Dt(e)?{updateUser:t.updateUser,pageSize:t.pageSize,pageNum:t.pageNum}:jc({pageSize:t.pageSize,pageNum:t.pageNum},e)}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,t.tableList=e.data.result.list,t.total=e.data.result.total,console.log(t.tableList))}).catch(function(e){console.log(e)})},setSelect:function(e){this.selectOnOff=e},setSelectData:function(e){var t=this;t.selectData=e,console.log("设置数据",t.selectData)}},mounted:function(){this.getTableList()},components:{HandleForm:gc,TableList:yc,Pagination:Uc,ControlModule:qc}},Ac=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("HandleForm",{on:{getTableList:e.getTableList}}),e._v(" "),a("TableList",{attrs:{tableList:e.tableList},on:{setSelect:e.setSelect,setSelectData:e.setSelectData}}),e._v(" "),a("Pagination",{attrs:{pageNum:e.pageNum,pageSize:e.pageSize,total:e.total},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}}),e._v(" "),a("ControlModule",{attrs:{selectOnOff:e.selectOnOff,selectData:e.selectData},on:{getTableList:e.getTableList}})],1)])},Xc=[],Vc={render:Ac,staticRenderFns:Xc},Wc=Vc,Jc=a(0),Zc=L,Gc=Jc(Mc,Wc,!1,Zc,"data-v-99b13280",null),Yc=Gc.exports,Kc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Qc={data:function(){var e=localStorage.getItem("adminId");return{updateUser:e,formInline:{usrId:"",updateUser:e,id:""},duringTime:[],updateDuringTime:[],originalForm:{usrId:"",updateUser:e,id:""},createPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},updatePickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onSubmit:function(){var e=this;console.log(e.duringTime);var t=e.duringTime.length?xt(e.duringTime[0]):"",a=e.duringTime.length?xt(e.duringTime[1]):"";e.$emit("getTableList",Kc({},e.formInline,{beginTime:t,endTime:a}))},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm)),e.duringTime=[],e.updateDuringTime=[]}}},eu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"发票ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入发票ID"},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会员ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入会员ID"},model:{value:e.formInline.usrId,callback:function(t){e.$set(e.formInline,"usrId",t)},expression:"formInline.usrId\n"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"申请时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.createPickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.duringTime,callback:function(t){e.duringTime=t},expression:"duringTime"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.resetList(t)}}},[e._v("重置")])],1)],1)],1)},tu=[],au={render:eu,staticRenderFns:tu},nu=au,iu=a(0),ru=iu(Qc,nu,!1,null,null,null),lu=ru.exports,ou={props:{tableList:{default:function(){return[]},type:Array}},methods:{upLoadZip:function(e){var t=this;t.$router.push({path:"/addProTemplate",query:{type:1,id:e,updateUser:t.updateUser}})},selectionChange:function(e){var t=this;t.$emit("setSelect",!!e),t.$emit("setSelectData",e)},formatStatus:function(e,t){var a=e.status;return 0===parseInt(a,10)?"下架":"上架"},formatterOrderState:function(e,t){var a=parseInt(e.orderState,10),n="";switch(a){case 1:n="未支付";break;case 2:n="待实验";break;case 3:n="实验中";break;case 4:n="已完成";break;case 5:n="已退款"}return n},formatPayType:function(e,t){var a=e.status;return 1===parseInt(a,10)?"小程序":"网站"},formatInvoice:function(e,t){var a=e.isInvoice;return 1===parseInt(a,10)?"未开":"已开"},formatIsOffer:function(e,t){var a=e.isOffer;return 1===parseInt(a,10)?"是":"否"},formatterCreateTime:function(e,t){var a=e.createTime;return kt(a)?"":St(a)},formatterPayTime:function(e,t){var a=e.payTime;return kt(a)?"":St(a)},formatterRefundTime:function(e,t){var a=e.refundTime;return kt(a)?"":St(a)}}},su=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList,border:"","highlight-current-row":"","default-sort":{prop:"createTime",order:"descending"}},on:{"current-change":e.selectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"发票ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"usrId",label:"用户ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"acceptName",label:"管理员名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderIds",label:"订单ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"invoiceMoney",label:"发票金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bankName",label:"开户行"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bankNumber",label:"账号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taxNumber",label:"纳税人识别号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"registerAdress",label:"地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"names",label:"发票抬头"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),e._v(" "),a("el-table-column",{attrs:{width:"150",label:"发票文件"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.invoiceFile?a("a",{attrs:{href:t.row.invoiceFile}},[a("el-button",[e._v("下载查看")])],1):a("span",[e._v("未上传")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",sortable:"",formatter:e.formatterCreateTime,label:"申请时间"}})],1)],1)},cu=[],uu={render:su,staticRenderFns:cu},du=uu,mu=a(0),pu=U,fu=mu(ou,du,!1,pu,"data-v-b665338a",null),gu=fu.exports,hu={props:{pageNum:{default:function(){return 0},type:Number},pageSize:{default:function(){return 0},type:Number},total:{default:function(){return 0},type:Number}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}},vu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminPage"},[a("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},bu=[],Iu={render:vu,staticRenderFns:bu},Cu=Iu,Tu=a(0),_u=Tu(hu,Cu,!1,null,null,null),Ou=_u.exports,yu={data:function(){return{updateUser:localStorage.getItem("adminId")}},props:{selectOnOff:{default:function(){return!1},type:Boolean},selectData:{default:function(){return{}},type:Object}},methods:{addColumn:function(){this.$router.push({path:"/addProTemplate",query:{type:0}})},upLoadResult:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.$router.push({path:"/upLoadInvoice",query:{type:1,id:e.selectData.id,updateUser:e.updateUser}}):e.$message.error("请选择一条数据")},refund:function(){var e=this;console.log(e.selectOnOff),e.selectOnOff?e.$confirm("您确定要退款该发票?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){ze()({method:"post",url:"/api/pay/refund/"+e.selectData.id,headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:e.selectData.id,updateUser:e.updateUser}}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(e.$message({type:"success",message:"退款成功!"}),e.$emit("getTableList")),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"退款失败"})})}):e.$message.error("请选择一条数据")},startOrder:function(e){var t=this,a=this;console.log(a.selectOnOff),a.selectOnOff?a.$confirm("您确定修改发票状态?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=t,n={id:a.selectData.id,orderState:e,updateUser:a.updateUser,sysUserId:a.updateUser};ze()({method:"post",url:"/api/ordOrder/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:n}).then(function(e){console.log("进入成功");var t=e.data;200===parseInt(t.code,10)&&(a.$message({type:"success",message:"状态已修改!"}),a.$emit("getTableList")),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}):a.$message.error("请选择一条数据")},changeStatus:function(e){var t=this;console.log(t.selectOnOff),t.selectOnOff?t.$prompt("请输入价格","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/(^[1-9]\d*$)/,inputErrorMessage:"价格格式不正确"}).then(function(e){var a=e.value;t.$confirm("您确定提交该报价,用户支付后报价将不可修改?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){ze()({method:"post",url:"/api/ordOrder/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:t.selectData.id,isOffer:1,updateUser:t.updateUser,acceptId:t.updateUser,payMoney:a}}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&(t.$message({type:"success",message:"报价成功!"}),t.$emit("getTableList")),console.log(e.data)}).catch(function(e){console.log(e),t.$message({type:"info",message:"操作失败"})})})}):t.$message.error("请选择一条数据")},valid:function(e,t){var a=this;console.log("操作"),ze()({method:"post",url:"/api/proTemplate/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:a.selectData.id,updateUser:a.updateUser,status:e}}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&t&&t(),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}}},ku=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminAuditControl"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.upLoadResult(t)}}},[e._v("上传发票")])],1)],1)],1)},Su=[],xu={render:ku,staticRenderFns:Su},Du=xu,$u=a(0),wu=$u(yu,Du,!1,null,null,null),Lu=wu.exports,Uu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Nu={getTableList:"/api/usrInvoiceRela/query"},Pu={name:"manageBanner",data:function(){return{updateUser:localStorage.getItem("adminId"),pageNum:1,pageSize:20,tableList:[],selectData:{},total:0,selectOnOff:!1}},watch:{selectOnOff:function(e){var t=this;e||(t.selectData={})}},methods:{handleSizeChange:function(e){var t=this;t.pageSize=e,t.getTableList()},handleCurrentChange:function(e){var t=this;t.pageNum=e,t.getTableList()},getTableList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(Nu.getTableList,{params:Dt(e)?{updateUser:t.updateUser,pageSize:t.pageSize,pageNum:t.pageNum}:Uu({pageSize:t.pageSize,pageNum:t.pageNum},e)}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,t.tableList=e.data.result.list,t.total=e.data.result.total,console.log(t.tableList))}).catch(function(e){console.log(e)})},setSelect:function(e){this.selectOnOff=e},setSelectData:function(e){var t=this;t.selectData=e,console.log("设置数据",t.selectData)}},mounted:function(){this.getTableList()},components:{HandleForm:lu,TableList:gu,Pagination:Ou,ControlModule:Lu}},zu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("HandleForm",{on:{getTableList:e.getTableList}}),e._v(" "),a("TableList",{attrs:{tableList:e.tableList},on:{setSelect:e.setSelect,setSelectData:e.setSelectData}}),e._v(" "),a("Pagination",{attrs:{pageNum:e.pageNum,pageSize:e.pageSize,total:e.total},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}}),e._v(" "),a("ControlModule",{attrs:{selectOnOff:e.selectOnOff,selectData:e.selectData},on:{getTableList:e.getTableList}})],1)])},Fu=[],Eu={render:zu,staticRenderFns:Fu},Ru=Eu,Bu=a(0),qu=N,ju=Bu(Pu,Ru,!1,qu,"data-v-f05d1f08",null),Hu=ju.exports,Mu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Au={getTableList:"/api/usrJoin/query",updateProduct:"/api/usrJoin/reply"},Xu={name:"addProduct",data:function(){var e=this;return{dialogVisible:!1,updateUser:localStorage.getItem("adminId"),dialogImageUrl:"",id:e.$route.query.id,formInline:{names:"",remark:"",business:"",returnContext:""},originalForm:{names:"",remark:"",business:"",returnContext:""}}},mounted:function(){this.getData()},methods:{getColumnList:function(){var e=this;ze.a.get(Au.getColumnList,{params:{updateUser:e.updateUser}}).then(function(t){console.log(t),200===t.data.code&&(e.selectOnOff=!1,console.log("设置完账号"+e.selectOnOff),e.columnList=t.data.result)}).catch(function(e){console.log(e)})},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm))},handleAvatarSuccess:function(e,t){var a=this;console.log("触发======"),console.log(e),a.formInline.imgUrl=e.result.url},returnBack:function(){this.$router.push({path:"/003"})},handlePictureCardPreview:function(){var e=this;e.dialogImageUrl=e.formInline.imgUrl,e.dialogVisible=!0},handlePictureCardDelete:function(){this.formInline.imgUrl=""},handleClose:function(){var e=this;e.dialogImageUrl="",e.dialogVisible=!1},beforeAvatarUpload:function(e){console.log(e)},getData:function(){var e=this;ze.a.get(Au.getTableList,{params:{id:e.id,updateUser:e.updateUser}}).then(function(t){if(console.log(t),200===t.data.code){e.selectOnOff=!1;var a=t.data.result[0];for(var n in e.formInline)e.formInline[n]=a[n];console.log(e.tableList)}}).catch(function(e){console.log(e)})},addColumn:function(){var e=this,t=Au.updateProduct,a=Mu({},e.formInline,{id:e.id,updateUser:e.updateUser,sysUserId:e.updateUser});ze()({method:"post",url:t,headers:{"X-Requested-With":"XMLHttpRequest"},data:a}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(console.log("添加成功"),e.resetList()),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})}}},Vu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"admin-main"},[a("h1",{staticClass:"admin-title"},[e._v("添加产品")]),e._v(" "),a("section",{staticClass:"admin-main-inner"},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"会员名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入产品名称",disabled:""},model:{value:e.formInline.names,callback:function(t){e.$set(e.formInline,"names",t)},expression:"formInline.names"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"加盟方向"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入产品名称",disabled:""},model:{value:e.formInline.business,callback:function(t){e.$set(e.formInline,"business",t)},expression:"formInline.business"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入产品描述",disabled:""},model:{value:e.formInline.remark,callback:function(t){e.$set(e.formInline,"remark",t)},expression:"formInline.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"回复内容"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入产品描述"},model:{value:e.formInline.returnContext,callback:function(t){e.$set(e.formInline,"returnContext",t)},expression:"formInline.returnContext"}})],1),e._v(" "),a("div",{staticClass:"admin-handleBar demo-form-inline"},[a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"primary",inline:!0},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("提交")])],1),e._v(" "),a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.returnBack(t)}}},[e._v("返回")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"图片预览",width:"60%",center:"",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{staticStyle:{width:"100%",height:"100%",border:"1px solid #e9e9e9","box-shadow":"0px 10px 18px 0px rgba(197,206,214,0.8)"},attrs:{src:e.dialogImageUrl,alt:"图片预览"}})])],1)},Wu=[],Ju={render:Vu,staticRenderFns:Wu},Zu=Ju,Gu=a(0),Yu=P,Ku=Gu(Xu,Zu,!1,Yu,"data-v-a2cb0ea2",null),Qu=Ku.exports,ed=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},td={getTableList:"/api/ordOrder/query",updateProduct:"/api/ordOrder/update"},ad={name:"addProduct",data:function(){var e=this;return{dialogVisible:!1,updateUser:localStorage.getItem("adminId"),dialogImageUrl:"",id:e.$route.query.id,formInline:{prodName:"",endUrl:"",columnName:""},originalForm:{prodName:"",endUrl:"",columnName:""}}},mounted:function(){this.getData()},methods:{getColumnList:function(){var e=this;ze.a.get(td.getColumnList,{params:{updateUser:e.updateUser}}).then(function(t){console.log(t),200===t.data.code&&(e.selectOnOff=!1,console.log("设置完账号"+e.selectOnOff),e.columnList=t.data.result)}).catch(function(e){console.log(e)})},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm))},handleAvatarSuccess:function(e,t){var a=this;console.log("触发======"),console.log(e),a.formInline.endUrl=e.result.url},returnBack:function(){this.$router.push({path:"/011"})},handlePictureCardPreview:function(){var e=this;e.dialogImageUrl=e.formInline.imgUrl,e.dialogVisible=!0},handlePictureCardDelete:function(){this.formInline.endUrl=""},handleClose:function(){var e=this;e.dialogImageUrl="",e.dialogVisible=!1},beforeAvatarUpload:function(e){console.log(e)},getData:function(){var e=this;ze.a.get(td.getTableList,{params:{id:e.id,updateUser:e.updateUser}}).then(function(t){if(console.log(t),200===t.data.code){e.selectOnOff=!1;var a=t.data.result[0];for(var n in e.formInline)e.formInline[n]=a[n];console.log(e.tableList)}}).catch(function(e){console.log(e)})},addColumn:function(){var e=this,t=td.updateProduct,a=ed({},e.formInline,{id:e.id,updateUser:e.updateUser,sysUserId:e.updateUser});ze()({method:"post",url:t,headers:{"X-Requested-With":"XMLHttpRequest"},data:a}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(console.log("添加成功"),e.resetList()),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})}}},nd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"admin-main"},[a("h1",{staticClass:"admin-title"},[e._v("添加产品")]),e._v(" "),a("section",{staticClass:"admin-main-inner"},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"产品名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入产品名称",disabled:""},model:{value:e.formInline.prodName,callback:function(t){e.$set(e.formInline,"prodName",t)},expression:"formInline.prodName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属栏目"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入产品名称",disabled:""},model:{value:e.formInline.columnName,callback:function(t){e.$set(e.formInline,"columnName",t)},expression:"formInline.columnName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传交付文件"}},[a("div",{staticClass:"upload-wrapper"},[e.formInline.endUrl?a("div",{staticClass:"upload-mask"},[a("i",{staticClass:"handleItem deleteImage el-icon-delete",on:{click:e.handlePictureCardDelete}})]):e._e(),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/upload/uploadImg","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.formInline.endUrl?a("img",{staticClass:"avatar",attrs:{src:e.formInline.endUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),e._v(" "),a("div",{staticClass:"admin-handleBar demo-form-inline"},[a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"primary",inline:!0},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("提交")])],1),e._v(" "),a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.returnBack(t)}}},[e._v("返回")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"图片预览",width:"60%",center:"",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{staticStyle:{width:"100%",height:"100%",border:"1px solid #e9e9e9","box-shadow":"0px 10px 18px 0px rgba(197,206,214,0.8)"},attrs:{src:e.dialogImageUrl,alt:"图片预览"}})])],1)},id=[],rd={render:nd,staticRenderFns:id},ld=rd,od=a(0),sd=z,cd=od(ad,ld,!1,sd,"data-v-3abbc22d",null),ud=cd.exports,dd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},md={getTableList:"/api/usrInvoiceRela/query",updateProduct:"/api/usrInvoiceRela/reply"},pd={name:"addProduct",data:function(){var e=this;return{dialogVisible:!1,updateUser:localStorage.getItem("adminId"),dialogImageUrl:"",id:e.$route.query.id,formInline:{invoiceFile:""},originalForm:{invoiceFile:""}}},mounted:function(){this.getData()},methods:{getColumnList:function(){var e=this;ze.a.get(md.getColumnList,{params:{updateUser:e.updateUser}}).then(function(t){console.log(t),200===t.data.code&&(e.selectOnOff=!1,console.log("设置完账号"+e.selectOnOff),e.columnList=t.data.result)}).catch(function(e){console.log(e)})},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm))},handleAvatarSuccess:function(e,t){var a=this;console.log("触发======"),console.log(e),a.formInline.invoiceFile=e.result.url},returnBack:function(){this.$router.push({path:"/004"})},handlePictureCardPreview:function(){var e=this;e.dialogImageUrl=e.formInline.imgUrl,e.dialogVisible=!0},handlePictureCardDelete:function(){this.formInline.invoiceFile=""},handleClose:function(){var e=this;e.dialogImageUrl="",e.dialogVisible=!1},beforeAvatarUpload:function(e){console.log(e)},getData:function(){var e=this;ze.a.get(md.getTableList,{params:{id:e.id,updateUser:e.updateUser}}).then(function(t){if(console.log(t),200===t.data.code){e.selectOnOff=!1;var a=t.data.result[0];for(var n in e.formInline)e.formInline[n]=a[n];console.log(e.tableList)}}).catch(function(e){console.log(e)})},addColumn:function(){var e=this,t=md.updateProduct,a=dd({},e.formInline,{id:e.id,updateUser:e.updateUser,sysUserId:e.updateUser});ze()({method:"post",url:t,headers:{"X-Requested-With":"XMLHttpRequest"},data:a}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(console.log("添加成功"),e.resetList()),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})}}},fd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"admin-main"},[a("h1",{staticClass:"admin-title"},[e._v("上传发票")]),e._v(" "),a("section",{staticClass:"admin-main-inner"},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"上传发票"}},[a("div",{staticClass:"upload-wrapper"},[e.formInline.invoiceFile?a("div",{staticClass:"upload-mask"},[a("i",{staticClass:"handleItem deleteImage el-icon-delete",on:{click:e.handlePictureCardDelete}})]):e._e(),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{accept:".zip",action:"/api/upload/uploadImg","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.formInline.invoiceFile?a("img",{staticClass:"avatar",attrs:{src:e.formInline.invoiceFile}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),e._v(" "),a("div",{staticClass:"admin-handleBar demo-form-inline"},[a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"primary",inline:!0},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("提交")])],1),e._v(" "),a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.returnBack(t)}}},[e._v("返回")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"图片预览",width:"60%",center:"",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{staticStyle:{width:"100%",height:"100%",border:"1px solid #e9e9e9","box-shadow":"0px 10px 18px 0px rgba(197,206,214,0.8)"},attrs:{src:e.dialogImageUrl,alt:"图片预览"}})])],1)},gd=[],hd={render:fd,staticRenderFns:gd},vd=hd,bd=a(0),Id=F,Cd=bd(pd,vd,!1,Id,"data-v-494037ea",null),Td=Cd.exports,_d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Od={getColumnList:"/api/sysColumn/query"},yd={data:function(){var e=localStorage.getItem("adminId");return{columnList:[],updateUser:e,formInline:{names:"",updateUser:e,describes:"",status:"",id:""},originalForm:{names:"",updateUser:e,describes:"",status:"",id:""},duringTime:[],updateDuringTime:[],createPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},updatePickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{getColumnList:function(){var e=this;ze.a.get(Od.getColumnList,{params:{updateUser:e.updateUser}}).then(function(t){console.log(t),200===t.data.code&&(e.columnList=t.data.result)}).catch(function(e){console.log(e)})},onSubmit:function(){var e=this;console.log(e.duringTime);var t=e.duringTime.length?xt(e.duringTime[0]):"",a=e.duringTime.length?xt(e.duringTime[1]):"",n=e.updateDuringTime.length?xt(e.updateDuringTime[0]):"",i=e.updateDuringTime.length?xt(e.updateDuringTime[1]):"";e.$emit("getTableList",_d({},e.formInline,{beginTime:t,endTime:a,updateBeginTime:n,updateEndTime:i}))},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm)),e.duringTime=[],e.updateDuringTime=[]}},mounted:function(){this.getColumnList()}},kd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"产品ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入产品ID"},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入产品ID"},model:{value:e.formInline.names,callback:function(t){e.$set(e.formInline,"names",t)},expression:"formInline.names"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属栏目"}},[a("el-select",{attrs:{placeholder:"请选择所属栏目"},model:{value:e.formInline.columnId,callback:function(t){e.$set(e.formInline,"columnId",t)},expression:"formInline.columnId"}},e._l(e.columnList,function(e){return a("el-option",{key:e.id,attrs:{label:e.names,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"产品状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"产品状态"},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-option",{attrs:{label:"下架",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"上架",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"提交时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.createPickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.duringTime,callback:function(t){e.duringTime=t},expression:"duringTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"更新时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.updatePickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.updateDuringTime,callback:function(t){e.updateDuringTime=t},expression:"updateDuringTime"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.resetList(t)}}},[e._v("重置")])],1)],1)],1)},Sd=[],xd={render:kd,staticRenderFns:Sd},Dd=xd,$d=a(0),wd=$d(yd,Dd,!1,null,null,null),Ld=wd.exports,Ud={props:{tableList:{default:function(){return[]},type:Array}},methods:{selectionChange:function(e){var t=this;t.$emit("setSelect",!!e),t.$emit("setSelectData",e)},formatStatus:function(e,t){var a=e.status;return 0===parseInt(a,10)?"下架":"上架"},formatterCreateTime:function(e,t){var a=e.createTime;return St(a)},proTemplateLink:function(e,t){return e.proTemplate&&e.proTemplate.names?e.proTemplate.names:"暂无需求模板"},formatterCoupon:function(e,t){for(var a=e.proConRelaList,n="",i=0;i<a.length;i++){var r=a[i];n+=0===i?""+r.conTitle:","+r.conTitle}return n||"暂无优惠券"},formatterUpdateTime:function(e,t){var a=e.updateTime||e.createTime;return St(a)}}},Nd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList,border:"","highlight-current-row":"","default-sort":{prop:"createTime",order:"descending"}},on:{"current-change":e.selectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"产品ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"names",label:"产品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"columnName",label:"所属栏目"}}),e._v(" "),a("el-table-column",{attrs:{prop:"proTemplate",formatter:e.proTemplateLink,label:"模板名称"}}),e._v(" "),a("el-table-column",{attrs:{label:"需求模板"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.proTemplate&&t.row.proTemplate.temUrl?a("a",{attrs:{href:t.row.proTemplate.temUrl}},[a("el-button",[e._v("下载查看")])],1):a("span",[e._v("无模板")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"proConRelaList",formatter:e.formatterCoupon,label:"优惠券"}}),e._v(" "),a("el-table-column",{attrs:{label:"产品图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("img",{staticStyle:{"max-width":"500px","max-height":"500px",border:"1px solid #e9e9e9","box-shadow":"0px 10px 18px 0px rgba(197,206,214,0.8)"},attrs:{src:t.row.imgUrl,alt:""}}),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.imgUrl,alt:""}})])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatStatus,label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",sortable:"",formatter:e.formatterCreateTime,label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",sortable:"",formatter:e.formatterUpdateTime,label:"更新时间"}})],1)],1)},Pd=[],zd={render:Nd,staticRenderFns:Pd},Fd=zd,Ed=a(0),Rd=E,Bd=Ed(Ud,Fd,!1,Rd,"data-v-5bf0034a",null),qd=Bd.exports,jd={props:{pageNum:{default:function(){return 0},type:Number},pageSize:{default:function(){return 0},type:Number},total:{default:function(){return 0},type:Number}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}},Hd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminPage"},[a("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},Md=[],Ad={render:Hd,staticRenderFns:Md},Xd=Ad,Vd=a(0),Wd=Vd(jd,Xd,!1,null,null,null),Jd=Wd.exports,Zd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Gd={getTableList:"/api/proCoupon/query",getTemTableList:"/api/proTemplate/query",updateTem:"/api/proProduct/update",unBindCoupon:"/api/proProduct/unBindCoupon",bindCoupon:"/api/proProduct/bindCoupon"},Yd={data:function(){return{updateUser:localStorage.getItem("adminId"),temDialogVisible:!1,dialogVisible:!1,unBind:!1,tableList:[],tableTemList:[],proConRelaList:[],formInline:{conId:""},temFormInline:{id:""},temInline:{conId:""},proCon:{conId:""}}},watch:{unBind:function(e){var t=this;t.proConRelaList=e?t.selectData.proConRelaList:[]}},props:{selectOnOff:{default:function(){return!1},type:Boolean},selectData:{default:function(){return{}},type:Object}},mounted:function(){var e=this;e.getList({status:1}),e.getTemList({status:1})},methods:{handleClose:function(){var e=this;e.dialogVisible=!1,e.unBind=!1,e.temDialogVisible=!1},onBindTem:function(){var e=this;ze()({method:"post",url:Gd.updateTem,headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:e.selectData.id,updateUser:e.updateUser,templateId:e.temFormInline.id}}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(e.temDialogVisible=!1,e.$emit("getTableList")),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})},unBindTem:function(){var e=this;ze()({method:"post",url:Gd.updateTem,headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:e.selectData.id,updateUser:e.updateUser,templateId:""}}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(e.dialogVisible=!1,e.$emit("getTableList")),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})},onSubmit:function(){var e=this;ze()({method:"post",url:Gd.bindCoupon,headers:{"X-Requested-With":"XMLHttpRequest"},data:{proId:e.selectData.id,updateUser:e.updateUser,conId:e.formInline.conId}}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(e.dialogVisible=!1,e.$emit("getTableList")),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})},onSubmitUnBind:function(){var e=this;ze()({method:"post",url:Gd.unBindCoupon,headers:{"X-Requested-With":"XMLHttpRequest"},data:{updateUser:e.updateUser,id:e.proCon.conId}}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(e.unBind=!1,e.$emit("getTableList")),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})},getList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(Gd.getTableList,{params:Dt(e)?{updateUser:t.updateUser}:Zd({},e,{updateUser:t.updateUser})}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,t.tableList=e.data.result,console.log(t.tableList))}).catch(function(e){console.log(e)})},getTemList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(Gd.getTemTableList,{params:Dt(e)?{updateUser:t.updateUser}:Zd({},e,{updateUser:t.updateUser})}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,t.tableTemList=e.data.result,console.log(t.tableTemList))}).catch(function(e){console.log(e)})},addColumn:function(){this.$router.push({path:"/addProduct",query:{type:0}})},editColumn:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.$router.push({path:"/addProduct",query:{type:1,id:e.selectData.id,updateUser:e.updateUser}}):e.$message.error("请选择一条数据")},bindCoupon:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.dialogVisible=!0:e.$message.error("请选择一条数据")},bindTemplate:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.temDialogVisible=!0:e.$message.error("请选择一条数据")},unbindTemplate:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.$confirm("您确定要解绑该模板?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.unBindTem()}):e.$message.error("请选择一条数据")},unBindCoupon:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.selectData.proConRelaList.length?e.unBind=!0:e.$message.error("该产品暂未绑定优惠券"):e.$message.error("请选择一条数据")},changeStatus:function(e){var t=this;if(console.log(t.selectOnOff),t.selectOnOff){console.log("逻辑");var a="";a=0===parseInt(e,10)?"确定要下架该产品？":"确定要上架该产品？",t.$alert(a,"！提示信息",{confirmButtonText:"确定",callback:function(a){t.valid(e+"",function(){t.$emit("getTableList")})}})}else t.$message.error("请选择一条数据")},valid:function(e,t){var a=this;console.log("操作"),ze()({method:"post",url:"/api/proProduct/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:a.selectData.id,updateUser:a.updateUser,status:e}}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&t&&t(),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}}},Kd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"wrapper"},[a("div",{staticClass:"block adminAuditControl"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("添加")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.editColumn(t)}}},[e._v("编辑")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.bindCoupon(t)}}},[e._v("绑定优惠券")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.unBindCoupon(t)}}},[e._v("解绑优惠券")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.bindTemplate(t)}}},[e._v("绑定模板")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.unbindTemplate(t)}}},[e._v("解绑模板")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(1)}}},[e._v("上架")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(0)}}},[e._v("下架")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"绑定需求模板",width:"60%",center:"",visible:e.temDialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.temDialogVisible=t}}},[a("div",{staticClass:"block"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"需求模板"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"需求模板"},model:{value:e.temFormInline.id,callback:function(t){e.$set(e.temFormInline,"id",t)},expression:"temFormInline.id"}},e._l(e.tableTemList,function(e){return a("el-option",{key:e.id,attrs:{label:e.names,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onBindTem}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:function(t){e.temDialogVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"绑定优惠券",width:"60%",center:"",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"block"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"优惠券"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"优惠券"},model:{value:e.formInline.conId,callback:function(t){e.$set(e.formInline,"conId",t)},expression:"formInline.conId"}},e._l(e.tableList,function(e){return a("el-option",{key:e.id,attrs:{label:e.couTitle,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"解绑优惠券",width:"60%",center:"",visible:e.unBind,"before-close":e.handleClose},on:{"update:visible":function(t){e.unBind=t}}},[a("div",{staticClass:"block"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.proCon,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"优惠券"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"优惠券"},model:{value:e.proCon.conId,callback:function(t){e.$set(e.proCon,"conId",t)},expression:"proCon.conId"}},e._l(e.proConRelaList,function(e){return a("el-option",{key:e.id,attrs:{label:e.conTitle,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmitUnBind}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:function(t){e.unBind=!1}}},[e._v("取消")])],1)],1)],1)],1)])],1)},Qd=[],em={render:Kd,staticRenderFns:Qd},tm=em,am=a(0),nm=am(Yd,tm,!1,null,null,null),im=nm.exports,rm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},lm={getTableList:"/api/proProduct/query"},om={name:"manageBanner",data:function(){return{updateUser:localStorage.getItem("adminId"),pageNum:1,pageSize:20,tableList:[],selectData:{},total:0,selectOnOff:!1}},watch:{selectOnOff:function(e){var t=this;e||(t.selectData={})}},methods:{handleSizeChange:function(e){var t=this;t.pageSize=e,t.getTableList()},handleCurrentChange:function(e){var t=this;t.pageNum=e,t.getTableList()},getTableList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(lm.getTableList,{params:Dt(e)?{updateUser:t.updateUser,pageSize:t.pageSize,pageNum:t.pageNum}:rm({pageSize:t.pageSize,pageNum:t.pageNum},e)}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,t.tableList=e.data.result.list,t.total=e.data.result.total,console.log(t.tableList))}).catch(function(e){console.log(e)})},setSelect:function(e){this.selectOnOff=e},setSelectData:function(e){var t=this;t.selectData=e,console.log("设置数据",t.selectData)}},mounted:function(){this.getTableList()},components:{HandleForm:Ld,TableList:qd,Pagination:Jd,ControlModule:im}},sm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("HandleForm",{on:{getTableList:e.getTableList}}),e._v(" "),a("TableList",{attrs:{tableList:e.tableList},on:{setSelect:e.setSelect,setSelectData:e.setSelectData}}),e._v(" "),a("Pagination",{attrs:{pageNum:e.pageNum,pageSize:e.pageSize,total:e.total},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}}),e._v(" "),a("ControlModule",{attrs:{selectOnOff:e.selectOnOff,selectData:e.selectData},on:{getTableList:e.getTableList}})],1)])},cm=[],um={render:sm,staticRenderFns:cm},dm=um,mm=a(0),pm=R,fm=mm(om,dm,!1,pm,"data-v-4e84b9e1",null),gm=fm.exports,hm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},vm={data:function(){var e=localStorage.getItem("adminId");return{formInline:{graNum:"",scene:"",updateUser:e,explains:"",status:"0"},originalForm:{graNum:"",scene:"",updateUser:e,explains:"",status:"0"},duringTime:[],updateDuringTime:[],createPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},updatePickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onSubmit:function(){var e=this;console.log(e.duringTime);var t=e.duringTime.length?xt(e.duringTime[0]):"",a=e.duringTime.length?xt(e.duringTime[1]):"",n=e.updateDuringTime.length?xt(e.updateDuringTime[0]):"",i=e.updateDuringTime.length?xt(e.updateDuringTime[1]):"";e.$emit("getTableList",hm({},e.formInline,{beginTime:t,endTime:a,updateBeginTime:n,updateEndTime:i}))},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm)),e.duringTime=[],e.updateDuringTime=[]}}},bm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"积分ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入积分ID"},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"积分名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入积分名称"},model:{value:e.formInline.scene,callback:function(t){e.$set(e.formInline,"scene",t)},expression:"formInline.scene"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"积分状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"积分状态"},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-option",{attrs:{label:"下架",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"上架",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"提交时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.createPickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.duringTime,callback:function(t){e.duringTime=t},expression:"duringTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"更新时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.updatePickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.updateDuringTime,callback:function(t){e.updateDuringTime=t},expression:"updateDuringTime"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.resetList(t)}}},[e._v("重置")])],1)],1)],1)},Im=[],Cm={render:bm,staticRenderFns:Im},Tm=Cm,_m=a(0),Om=_m(vm,Tm,!1,null,null,null),ym=Om.exports,km={props:{tableList:{default:function(){return[]},type:Array}},methods:{selectionChange:function(e){var t=this;t.$emit("setSelect",!!e),t.$emit("setSelectData",e)},formatStatus:function(e,t){var a=e.status;return 0===parseInt(a,10)?"下架":"上架"},formatterCreateTime:function(e,t){var a=e.createTime;return St(a)},formatterUpdateTime:function(e,t){var a=e.updateTime||e.createTime;return St(a)}}},Sm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList,border:"","highlight-current-row":"","default-sort":{prop:"createTime",order:"descending"}},on:{"current-change":e.selectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"积分ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"scene",label:"积分场景"}}),e._v(" "),a("el-table-column",{attrs:{prop:"explains",label:"积分说明"}}),e._v(" "),a("el-table-column",{attrs:{prop:"graNum",label:"积分值"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatStatus,label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",sortable:"",formatter:e.formatterCreateTime,label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",sortable:"",formatter:e.formatterUpdateTime,label:"更新时间"}})],1)],1)},xm=[],Dm={render:Sm,staticRenderFns:xm},$m=Dm,wm=a(0),Lm=B,Um=wm(km,$m,!1,Lm,"data-v-6d46339f",null),Nm=Um.exports,Pm={props:{pageNum:{default:function(){return 0},type:Number},pageSize:{default:function(){return 0},type:Number},total:{default:function(){return 0},type:Number}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}},zm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminPage"},[a("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},Fm=[],Em={render:zm,staticRenderFns:Fm},Rm=Em,Bm=a(0),qm=Bm(Pm,Rm,!1,null,null,null),jm=qm.exports,Hm={data:function(){return{updateUser:localStorage.getItem("adminId")}},props:{selectOnOff:{default:function(){return!1},type:Boolean},selectData:{default:function(){return{}},type:Object}},methods:{addColumn:function(){this.$router.push({path:"/addIntegral",query:{type:0}})},editColumn:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.$router.push({path:"/addIntegral",query:{type:1,id:e.selectData.id,updateUser:e.updateUser}}):e.$message.error("请选择一条数据")},changeStatus:function(e){var t=this;if(console.log(t.selectOnOff),t.selectOnOff){console.log("逻辑");var a="";a=0===parseInt(e,10)?"确定要下架该积分？":"确定要上架该积分？",t.$alert(a,"！提示信息",{confirmButtonText:"确定",callback:function(a){t.valid(e+"",function(){t.$emit("getTableList")})}})}else t.$message.error("请选择一条数据")},valid:function(e,t){var a=this;console.log("操作"),ze()({method:"post",url:"/api/graRule/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:a.selectData.id,updateUser:a.updateUser,status:e}}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&t&&t(),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}}},Mm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminAuditControl"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("添加")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.editColumn(t)}}},[e._v("编辑")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(1)}}},[e._v("上架")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(0)}}},[e._v("下架")])],1)],1)],1)},Am=[],Xm={render:Mm,staticRenderFns:Am},Vm=Xm,Wm=a(0),Jm=Wm(Hm,Vm,!1,null,null,null),Zm=Jm.exports,Gm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ym={getTableList:"/api/graRule/query"},Km={name:"manageIntegral",data:function(){return{updateUser:localStorage.getItem("adminId"),pageNum:1,pageSize:20,tableList:[],selectData:{},total:0,selectOnOff:!1}},watch:{selectOnOff:function(e){var t=this;e||(t.selectData={})}},methods:{handleSizeChange:function(e){var t=this;t.pageSize=e,t.getTableList()},handleCurrentChange:function(e){var t=this;t.pageNum=e,t.getTableList()},getTableList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(Ym.getTableList,{params:Dt(e)?{updateUser:t.updateUser,pageSize:t.pageSize,pageNum:t.pageNum}:Gm({pageSize:t.pageSize,pageNum:t.pageNum},e)}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,t.tableList=e.data.result.list,t.total=e.data.result.total,console.log(t.tableList))}).catch(function(e){console.log(e)})},setSelect:function(e){this.selectOnOff=e},setSelectData:function(e){var t=this;t.selectData=e,console.log("设置数据",t.selectData)}},mounted:function(){this.getTableList()},components:{HandleForm:ym,TableList:Nm,Pagination:jm,ControlModule:Zm}},Qm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("HandleForm",{on:{getTableList:e.getTableList}}),e._v(" "),a("TableList",{attrs:{tableList:e.tableList},on:{setSelect:e.setSelect,setSelectData:e.setSelectData}}),e._v(" "),a("Pagination",{attrs:{pageNum:e.pageNum,pageSize:e.pageSize,total:e.total},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}}),e._v(" "),a("ControlModule",{attrs:{selectOnOff:e.selectOnOff,selectData:e.selectData},on:{getTableList:e.getTableList}})],1)])},ep=[],tp={render:Qm,staticRenderFns:ep},ap=tp,np=a(0),ip=q,rp=np(Km,ap,!1,ip,"data-v-4474de2c",null),lp=rp.exports,op=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},sp={data:function(){var e=localStorage.getItem("adminId");return{formInline:{couTitle:"",couContext:"",updateUser:e,couPrice:"",couIntegral:"",status:"0"},originalForm:{couTitle:"",couContext:"",updateUser:e,couPrice:"",couIntegral:"",status:"0"},duringTime:[],updateDuringTime:[],createPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},updatePickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onSubmit:function(){var e=this;console.log(e.duringTime);var t=e.duringTime.length?xt(e.duringTime[0]):"",a=e.duringTime.length?xt(e.duringTime[1]):"",n=e.updateDuringTime.length?xt(e.updateDuringTime[0]):"",i=e.updateDuringTime.length?xt(e.updateDuringTime[1]):"";e.$emit("getTableList",op({},e.formInline,{beginTime:t,endTime:a,updateBeginTime:n,updateEndTime:i}))},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm)),e.duringTime=[],e.updateDuringTime=[]}}},cp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"优惠券ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入优惠券ID"},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠券名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入优惠券名称"},model:{value:e.formInline.couTitle,callback:function(t){e.$set(e.formInline,"couTitle",t)},expression:"formInline.couTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠券价格"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入优惠券价格"},model:{value:e.formInline.couPrice,callback:function(t){e.$set(e.formInline,"couPrice",t)},expression:"formInline.couPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠券积分"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入优惠券积分"},model:{value:e.formInline.couIntegral,callback:function(t){e.$set(e.formInline,"couIntegral",t)},expression:"formInline.couIntegral"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠券描述"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入优惠券描述"},model:{value:e.formInline.couContext,callback:function(t){e.$set(e.formInline,"couContext",t)},expression:"formInline.couContext"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠券状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"优惠券状态"},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-option",{attrs:{label:"下架",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"上架",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"提交时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.createPickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.duringTime,callback:function(t){e.duringTime=t},expression:"duringTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"更新时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.updatePickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.updateDuringTime,callback:function(t){e.updateDuringTime=t},expression:"updateDuringTime"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.resetList(t)}}},[e._v("重置")])],1)],1)],1)},up=[],dp={render:cp,staticRenderFns:up},mp=dp,pp=a(0),fp=pp(sp,mp,!1,null,null,null),gp=fp.exports,hp={props:{tableList:{default:function(){return[]},type:Array}},methods:{selectionChange:function(e){var t=this;t.$emit("setSelect",!!e),t.$emit("setSelectData",e)},formatStatus:function(e,t){var a=e.status;return 0===parseInt(a,10)?"下架":"上架"},formatterCreateTime:function(e,t){var a=e.createTime;return St(a)},formatterUpdateTime:function(e,t){var a=e.updateTime||e.createTime;return St(a)}}},vp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList,border:"","highlight-current-row":"","default-sort":{prop:"createTime",order:"descending"}},on:{"current-change":e.selectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"优惠券ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"couTitle",label:"优惠券名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"couPrice",label:"优惠券价格"}}),e._v(" "),a("el-table-column",{attrs:{prop:"couIntegral",label:"优惠券所需积分"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatStatus,label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",sortable:"",formatter:e.formatterCreateTime,label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",sortable:"",formatter:e.formatterUpdateTime,label:"更新时间"}})],1)],1)},bp=[],Ip={render:vp,staticRenderFns:bp},Cp=Ip,Tp=a(0),_p=j,Op=Tp(hp,Cp,!1,_p,"data-v-7f237804",null),yp=Op.exports,kp={props:{pageNum:{default:function(){return 0},type:Number},pageSize:{default:function(){return 0},type:Number},total:{default:function(){return 0},type:Number}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}},Sp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminPage"},[a("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},xp=[],Dp={render:Sp,staticRenderFns:xp},$p=Dp,wp=a(0),Lp=wp(kp,$p,!1,null,null,null),Up=Lp.exports,Np={data:function(){return{updateUser:localStorage.getItem("adminId")}},props:{selectOnOff:{default:function(){return!1},type:Boolean},selectData:{default:function(){return{}},type:Object}},methods:{addColumn:function(){this.$router.push({path:"/addCoupon",query:{type:0}})},editColumn:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.$router.push({path:"/addCoupon",query:{type:1,id:e.selectData.id,updateUser:e.updateUser}}):e.$message.error("请选择一条数据")},changeStatus:function(e){var t=this;if(console.log(t.selectOnOff),t.selectOnOff){console.log("逻辑");var a="";a=0===parseInt(e,10)?"确定要下架该优惠券？":"确定要上架该优惠券？",t.$alert(a,"！提示信息",{confirmButtonText:"确定",callback:function(a){t.valid(e+"",function(){t.$emit("getTableList")})}})}else t.$message.error("请选择一条数据")},valid:function(e,t){var a=this;console.log("操作"),ze()({method:"post",url:"/api/proCoupon/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:a.selectData.id,updateUser:a.updateUser,status:e}}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&t&&t(),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}}},Pp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminAuditControl"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("添加")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.editColumn(t)}}},[e._v("编辑")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(1)}}},[e._v("上架")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(0)}}},[e._v("下架")])],1)],1)],1)},zp=[],Fp={render:Pp,staticRenderFns:zp},Ep=Fp,Rp=a(0),Bp=Rp(Np,Ep,!1,null,null,null),qp=Bp.exports,jp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Hp={getTableList:"/api/proCoupon/query"},Mp={name:"manageCoupon",data:function(){return{updateUser:localStorage.getItem("adminId"),pageNum:1,pageSize:20,tableList:[],selectData:{},total:0,selectOnOff:!1}},watch:{selectOnOff:function(e){var t=this;e||(t.selectData={})}},methods:{handleSizeChange:function(e){var t=this;t.pageSize=e,t.getTableList()},handleCurrentChange:function(e){var t=this;t.pageNum=e,t.getTableList()},getTableList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(Hp.getTableList,{params:Dt(e)?{updateUser:t.updateUser,pageSize:t.pageSize,pageNum:t.pageNum}:jp({pageSize:t.pageSize,pageNum:t.pageNum},e)}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,t.tableList=e.data.result.list,t.total=e.data.result.total,console.log(t.tableList))}).catch(function(e){console.log(e)})},setSelect:function(e){this.selectOnOff=e},setSelectData:function(e){var t=this;t.selectData=e,console.log("设置数据",t.selectData)}},mounted:function(){this.getTableList()},components:{HandleForm:gp,TableList:yp,Pagination:Up,ControlModule:qp}},Ap=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("HandleForm",{on:{getTableList:e.getTableList}}),e._v(" "),a("TableList",{attrs:{tableList:e.tableList},on:{setSelect:e.setSelect,setSelectData:e.setSelectData}}),e._v(" "),a("Pagination",{attrs:{pageNum:e.pageNum,pageSize:e.pageSize,total:e.total},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}}),e._v(" "),a("ControlModule",{attrs:{selectOnOff:e.selectOnOff,selectData:e.selectData},on:{getTableList:e.getTableList}})],1)])},Xp=[],Vp={render:Ap,staticRenderFns:Xp},Wp=Vp,Jp=a(0),Zp=H,Gp=Jp(Mp,Wp,!1,Zp,"data-v-bdf67720",null),Yp=Gp.exports,Kp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Qp={addSchool:"/api/graRule/insert",getTableList:"/api/graRule/query",updateSchool:"/api/graRule/update"},ef={name:"addSchool",data:function(){var e=this,t=localStorage.getItem("adminId"),a=parseInt(e.$route.query.type,10);return{dialogVisible:!1,updateUser:t,dialogImageUrl:"",id:e.$route.query.id,editType:a,formInline:{graNum:"",scene:"",explains:"",status:"0"},originalForm:{graNum:"",scene:"",explains:"",status:"0"}}},mounted:function(){var e=this;console.log(e.editType),e.editType&&e.getData()},methods:{resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm))},returnBack:function(){this.$router.push({path:"/025"})},handleAvatarSuccess:function(e,t){var a=this;console.log("触发======"),console.log(e),a.formInline.schoolPicture=e.result.url},handlePictureCardPreview:function(){var e=this;e.dialogImageUrl=e.formInline.schoolPicture,e.dialogVisible=!0},handlePictureCardDelete:function(){this.formInline.schoolPicture=""},handleClose:function(){var e=this;e.dialogImageUrl="",e.dialogVisible=!1},beforeAvatarUpload:function(e){console.log(e)},getData:function(){var e=this;ze.a.get(Qp.getTableList,{params:{id:e.id,updateUser:e.updateUser}}).then(function(t){if(console.log(t),200===t.data.code){e.selectOnOff=!1;var a=t.data.result[0];for(var n in e.formInline)e.formInline[n]=a[n];console.log(e.tableList)}}).catch(function(e){console.log(e)})},addColumn:function(){var e=this,t=0===parseInt(e.editType,10)?Qp.addSchool:Qp.updateSchool,a=0===parseInt(e.editType,10)?Kp({},e.formInline,{updateUser:e.updateUser,createUser:e.updateUser}):Kp({},e.formInline,{id:e.id,updateUser:e.updateUser});ze()({method:"post",url:t,headers:{"X-Requested-With":"XMLHttpRequest"},data:a}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(console.log("添加成功"),e.resetList()),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})}}},tf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"admin-main"},[a("h1",{staticClass:"admin-title"},[e._v("添加积分")]),e._v(" "),a("section",{staticClass:"admin-main-inner"},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"场景名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入场景名称"},model:{value:e.formInline.scene,callback:function(t){e.$set(e.formInline,"scene",t)},expression:"formInline.scene"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"场景积分值"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入场景积分值"},model:{value:e.formInline.graNum,callback:function(t){e.$set(e.formInline,"graNum",t)},expression:"formInline.graNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"积分场景说明"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入积分场景说明"},model:{value:e.formInline.explains,callback:function(t){e.$set(e.formInline,"explains",t)},expression:"formInline.explains"}})],1),e._v(" "),a("div",{staticClass:"admin-handleBar demo-form-inline"},[a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"primary",inline:!0},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("提交")])],1),e._v(" "),a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.returnBack(t)}}},[e._v("返回")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"图片预览",width:"60%",center:"",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{staticStyle:{width:"100%",height:"100%",border:"1px solid #e9e9e9","box-shadow":"0px 10px 18px 0px rgba(197,206,214,0.8)"},attrs:{src:e.dialogImageUrl,alt:"图片预览"}})])],1)},af=[],nf={render:tf,staticRenderFns:af},rf=nf,lf=a(0),of=M,sf=lf(ef,rf,!1,of,"data-v-b0203834",null),cf=sf.exports,uf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},df={getRulesList:"/api/graRule/query",addSchool:"/api/proCoupon/insert",getTableList:"/api/proCoupon/query",updateSchool:"/api/proCoupon/update"},mf={name:"addSchool",data:function(){var e=this,t=localStorage.getItem("adminId"),a=parseInt(e.$route.query.type,10);return{dialogVisible:!1,updateUser:t,rulesList:[],dialogImageUrl:"",id:e.$route.query.id,editType:a,formInline:{couTitle:"",couContext:"",couPrice:"",graRuleId:"",status:"0"},originalForm:{couTitle:"",couContext:"",couPrice:"",graRuleId:"",status:"0"}}},mounted:function(){var e=this;console.log(e.editType),e.editType&&e.getData(),e.getTableList()},methods:{getTableList:function(){var e=this;console.log("--------------------"),console.log(e.formInline),ze.a.get(df.getRulesList,{params:{updateUser:e.updateUser,pageSize:1e4,status:1,pageNum:1}}).then(function(t){console.log(t),200===t.data.code&&(e.rulesList=t.data.result.list,console.log(e.rulesList))}).catch(function(e){console.log(e)})},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm))},returnBack:function(){this.$router.push({path:"/026"})},handleAvatarSuccess:function(e,t){var a=this;console.log("触发======"),console.log(e),a.formInline.schoolPicture=e.result.url},handlePictureCardPreview:function(){var e=this;e.dialogImageUrl=e.formInline.schoolPicture,e.dialogVisible=!0},handlePictureCardDelete:function(){this.formInline.schoolPicture=""},handleClose:function(){var e=this;e.dialogImageUrl="",e.dialogVisible=!1},beforeAvatarUpload:function(e){console.log(e)},getData:function(){var e=this;ze.a.get(df.getTableList,{params:{id:e.id,updateUser:e.updateUser}}).then(function(t){if(console.log(t),200===t.data.code){e.selectOnOff=!1;var a=t.data.result[0];for(var n in e.formInline)e.formInline[n]=a[n];console.log(e.tableList)}}).catch(function(e){console.log(e)})},addColumn:function(){var e=this,t=0===parseInt(e.editType,10)?df.addSchool:df.updateSchool,a=0===parseInt(e.editType,10)?uf({},e.formInline,{updateUser:e.updateUser,createUser:e.updateUser}):uf({},e.formInline,{id:e.id,updateUser:e.updateUser});ze()({method:"post",url:t,headers:{"X-Requested-With":"XMLHttpRequest"},data:a}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(console.log("添加成功"),e.resetList()),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})}}},pf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"admin-main"},[a("h1",{staticClass:"admin-title"},[e._v("添加优惠券")]),e._v(" "),a("section",{staticClass:"admin-main-inner"},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:e.formInline,"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{label:"优惠券名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入优惠券名称"},model:{value:e.formInline.couTitle,callback:function(t){e.$set(e.formInline,"couTitle",t)},expression:"formInline.couTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠券价格"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入优惠券价格"},model:{value:e.formInline.couPrice,callback:function(t){e.$set(e.formInline,"couPrice",t)},expression:"formInline.couPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"积分规则"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"请选择积分规则"},model:{value:e.formInline.graRuleId,callback:function(t){e.$set(e.formInline,"graRuleId",t)},expression:"formInline.graRuleId"}},e._l(e.rulesList,function(e){return a("el-option",{key:e.id,attrs:{label:e.scene,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠券描述"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入优惠券描述"},model:{value:e.formInline.couContext,callback:function(t){e.$set(e.formInline,"couContext",t)},expression:"formInline.couContext"}})],1),e._v(" "),a("div",{staticClass:"admin-handleBar demo-form-inline"},[a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"primary",inline:!0},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("提交")])],1),e._v(" "),a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.returnBack(t)}}},[e._v("返回")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"图片预览",width:"60%",center:"",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{staticStyle:{width:"100%",height:"100%",border:"1px solid #e9e9e9","box-shadow":"0px 10px 18px 0px rgba(197,206,214,0.8)"},attrs:{src:e.dialogImageUrl,alt:"图片预览"}})])],1)},ff=[],gf={render:pf,staticRenderFns:ff},hf=gf,vf=a(0),bf=A,If=vf(mf,hf,!1,bf,"data-v-ee37e042",null),Cf=If.exports,Tf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_f={data:function(){var e=localStorage.getItem("adminId");return{updateUser:e,formInline:{usrId:"",orderState:"",isOffer:"",prodId:"",couponId:"",acceptId:"",columnId:"",updateUser:e,id:""},duringTime:[],updateDuringTime:[],originalForm:{usrId:"",orderState:"",isOffer:"",prodId:"",couponId:"",acceptId:"",columnId:"",updateUser:e,id:""},createPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},updatePickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onSubmit:function(){var e=this;console.log(e.duringTime);var t=e.duringTime.length?xt(e.duringTime[0]):"",a=e.duringTime.length?xt(e.duringTime[1]):"";e.$emit("getTableList",Tf({},e.formInline,{beginTime:t,endTime:a}))},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm)),e.duringTime=[],e.updateDuringTime=[]}}},Of=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"订单ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入订单ID"},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会员ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入会员ID"},model:{value:e.formInline.usrId,callback:function(t){e.$set(e.formInline,"usrId",t)},expression:"formInline.usrId\n"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入产品ID"},model:{value:e.formInline.prodId,callback:function(t){e.$set(e.formInline,"prodId",t)},expression:"formInline.prodId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠券ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入优惠券ID"},model:{value:e.formInline.couponId,callback:function(t){e.$set(e.formInline,"couponId",t)},expression:"formInline.couponId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"管理员ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入优惠券ID"},model:{value:e.formInline.acceptId,callback:function(t){e.$set(e.formInline,"acceptId",t)},expression:"formInline.acceptId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"栏目ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入优惠券ID"},model:{value:e.formInline.columnId,callback:function(t){e.$set(e.formInline,"columnId",t)},expression:"formInline.columnId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"订单状态"},model:{value:e.formInline.orderState,callback:function(t){e.$set(e.formInline,"orderState",t)},expression:"formInline.orderState"}},[a("el-option",{attrs:{label:"未支付",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"待实验",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"实验中",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"已完成",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"已退款",value:"5"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"报价状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"报价状态"},model:{value:e.formInline.isOffer,callback:function(t){e.$set(e.formInline,"isOffer",t)},expression:"formInline.isOffer"}},[a("el-option",{attrs:{label:"已报价",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"未报价",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"下单时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.createPickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.duringTime,callback:function(t){e.duringTime=t},expression:"duringTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.updatePickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.updateDuringTime,callback:function(t){e.updateDuringTime=t},expression:"updateDuringTime"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.resetList(t)}}},[e._v("重置")])],1)],1)],1)},yf=[],kf={render:Of,staticRenderFns:yf},Sf=kf,xf=a(0),Df=xf(_f,Sf,!1,null,null,null),$f=Df.exports,wf={props:{tableList:{default:function(){return[]},type:Array}},methods:{upLoadZip:function(e){var t=this;t.$router.push({path:"/addProTemplate",query:{type:1,id:e,updateUser:t.updateUser}})},selectionChange:function(e){var t=this;t.$emit("setSelect",!!e),t.$emit("setSelectData",e)},formatStatus:function(e,t){var a=e.status;return 0===parseInt(a,10)?"下架":"上架"},formatterOrderState:function(e,t){var a=parseInt(e.orderState,10),n="";switch(a){case 1:n="未支付";break;case 2:n="待实验";break;case 3:n="实验中";break;case 4:n="已完成";break;case 5:n="已退款"}return n},formatPayType:function(e,t){var a=e.status;return 1===parseInt(a,10)?"小程序":"网站"},formatInvoice:function(e,t){var a=e.isInvoice;return 1===parseInt(a,10)?"未开":"已开"},formatIsOffer:function(e,t){var a=e.isOffer;return 1===parseInt(a,10)?"是":"否"},formatterCreateTime:function(e,t){var a=e.placeTime;return kt(a)?"":St(a)},formatterPayTime:function(e,t){var a=e.payTime;return kt(a)?"":St(a)},formatterRefundTime:function(e,t){var a=e.refundTime;return kt(a)?"":St(a)}}},Lf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList,border:"","highlight-current-row":"","default-sort":{prop:"createTime",order:"descending"}},on:{"current-change":e.selectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"订单ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"usrId",label:"用户ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"会员名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payType",formatter:e.formatPayType,label:"订单来源"}}),e._v(" "),a("el-table-column",{attrs:{prop:"columnName",label:"所属栏目"}}),e._v(" "),a("el-table-column",{attrs:{prop:"columnId",label:"所属栏目ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"acceptId",label:"管理员ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"acceptName",label:"管理员名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"prodName",label:"产品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"prodId",label:"产品ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderFromId",label:"微信订单ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remarks",label:"用户留言"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isInvoice",formatter:e.formatInvoice,label:"发票状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isOffer",formatter:e.formatIsOffer,label:"用户已获取报价"}}),e._v(" "),a("el-table-column",{attrs:{width:"150",label:"订单文件"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.fileUrl?a("a",{attrs:{href:t.row.fileUrl}},[a("el-button",[e._v("下载查看")])],1):a("span",[e._v("未上传")])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"150",label:"交付文件"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.endUrl?a("a",{attrs:{href:t.row.endUrl}},[a("el-button",[e._v("下载查看")])],1):a("span",[e._v("未上传")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"couponId",label:"优惠券ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payMoney",label:"订单报价"}}),e._v(" "),a("el-table-column",{attrs:{prop:"actualMoney",label:"实际支付"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderState",formatter:e.formatterOrderState,label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",sortable:"",formatter:e.formatterCreateTime,label:"下单时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payTime",sortable:"",formatter:e.formatterPayTime,label:"支付时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"refundTime",sortable:"",formatter:e.formatterRefundTime,label:"退款时间"}})],1)],1)},Uf=[],Nf={render:Lf,staticRenderFns:Uf},Pf=Nf,zf=a(0),Ff=X,Ef=zf(wf,Pf,!1,Ff,"data-v-56e412c6",null),Rf=Ef.exports,Bf={props:{pageNum:{default:function(){return 0},type:Number},pageSize:{default:function(){return 0},type:Number},total:{default:function(){return 0},type:Number}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}},qf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminPage"},[a("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},jf=[],Hf={render:qf,staticRenderFns:jf},Mf=Hf,Af=a(0),Xf=Af(Bf,Mf,!1,null,null,null),Vf=Xf.exports,Wf={data:function(){return{updateUser:localStorage.getItem("adminId")}},props:{selectOnOff:{default:function(){return!1},type:Boolean},selectData:{default:function(){return{}},type:Object}},methods:{addColumn:function(){this.$router.push({path:"/addProTemplate",query:{type:0}})},upLoadResult:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.$router.push({path:"/upLoadResult",query:{type:1,id:e.selectData.id,updateUser:e.updateUser}}):e.$message.error("请选择一条数据")},refund:function(){var e=this;console.log(e.selectOnOff),e.selectOnOff?e.$confirm("您确定要退款该订单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){ze()({method:"post",url:"/api/pay/refund/"+e.selectData.id,headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:e.selectData.id,updateUser:e.updateUser}}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(e.$message({type:"success",message:"退款成功!"}),e.$emit("getTableList")),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"退款失败"})})}):e.$message.error("请选择一条数据")},startOrder:function(e){var t=this,a=this;console.log(a.selectOnOff),a.selectOnOff?a.$confirm("您确定修改订单状态?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=t,n={id:a.selectData.id,orderState:e,updateUser:a.updateUser,sysUserId:a.updateUser};ze()({method:"post",url:"/api/ordOrder/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:n}).then(function(e){console.log("进入成功");var t=e.data;200===parseInt(t.code,10)&&(a.$message({type:"success",message:"状态已修改!"}),a.$emit("getTableList")),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}):a.$message.error("请选择一条数据")},changeStatus:function(e){var t=this;console.log(t.selectOnOff),t.selectOnOff?t.$prompt("请输入价格","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/(^[1-9]\d*$)/,inputErrorMessage:"价格格式不正确"}).then(function(e){var a=e.value;t.$confirm("您确定提交该报价,用户支付后报价将不可修改?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){ze()({method:"post",url:"/api/ordOrder/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:t.selectData.id,isOffer:1,updateUser:t.updateUser,acceptId:t.updateUser,payMoney:a}}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&(t.$message({type:"success",message:"报价成功!"}),t.$emit("getTableList")),console.log(e.data)}).catch(function(e){console.log(e),t.$message({type:"info",message:"操作失败"})})})}):t.$message.error("请选择一条数据")},valid:function(e,t){var a=this;console.log("操作"),ze()({method:"post",url:"/api/proTemplate/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:a.selectData.id,updateUser:a.updateUser,status:e}}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&t&&t(),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}}},Jf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminAuditControl"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(1)}}},[e._v("修改订单价格")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.refund()}}},[e._v("退款")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.startOrder(3)}}},[e._v("开始")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.upLoadResult(t)}}},[e._v("上传交付文件")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.startOrder(4)}}},[e._v("结束")])],1)],1)],1)},Zf=[],Gf={render:Jf,staticRenderFns:Zf},Yf=Gf,Kf=a(0),Qf=Kf(Wf,Yf,!1,null,null,null),eg=Qf.exports,tg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ag={getTableList:"/api/ordOrder/query"},ng={name:"manageBanner",data:function(){return{updateUser:localStorage.getItem("adminId"),pageNum:1,pageSize:20,tableList:[],selectData:{},total:0,selectOnOff:!1}},watch:{selectOnOff:function(e){var t=this;e||(t.selectData={})}},methods:{handleSizeChange:function(e){var t=this;t.pageSize=e,t.getTableList()},handleCurrentChange:function(e){var t=this;t.pageNum=e,t.getTableList()},getTableList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(ag.getTableList,{params:Dt(e)?{updateUser:t.updateUser,pageSize:t.pageSize,pageNum:t.pageNum}:tg({pageSize:t.pageSize,pageNum:t.pageNum},e)}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,t.tableList=e.data.result.list,t.total=e.data.result.total,console.log(t.tableList))}).catch(function(e){console.log(e)})},setSelect:function(e){this.selectOnOff=e},setSelectData:function(e){var t=this;t.selectData=e,console.log("设置数据",t.selectData)}},mounted:function(){this.getTableList()},components:{HandleForm:$f,TableList:Rf,Pagination:Vf,ControlModule:eg}},ig=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("HandleForm",{on:{getTableList:e.getTableList}}),e._v(" "),a("TableList",{attrs:{tableList:e.tableList},on:{setSelect:e.setSelect,setSelectData:e.setSelectData}}),e._v(" "),a("Pagination",{attrs:{pageNum:e.pageNum,pageSize:e.pageSize,total:e.total},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}}),e._v(" "),a("ControlModule",{attrs:{selectOnOff:e.selectOnOff,selectData:e.selectData},on:{getTableList:e.getTableList}})],1)])},rg=[],lg={render:ig,staticRenderFns:rg},og=lg,sg=a(0),cg=V,ug=sg(ng,og,!1,cg,"data-v-5ba6b8ac",null),dg=ug.exports,mg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},pg={data:function(){var e=localStorage.getItem("adminId");return{updateUser:e,formInline:{names:"",updateUser:e,remark:"",status:"",id:""},originalForm:{names:"",updateUser:e,remark:"",status:"",id:""},duringTime:[],updateDuringTime:[],createPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},updatePickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onSubmit:function(){var e=this;console.log(e.duringTime);var t=e.duringTime.length?xt(e.duringTime[0]):"",a=e.duringTime.length?xt(e.duringTime[1]):"",n=e.updateDuringTime.length?xt(e.updateDuringTime[0]):"",i=e.updateDuringTime.length?xt(e.updateDuringTime[1]):"";e.$emit("getTableList",mg({},e.formInline,{beginTime:t,endTime:a,updateBeginTime:n,updateEndTime:i}))},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm)),e.duringTime=[],e.updateDuringTime=[]}}},fg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"模板ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入模板ID"},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模板名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入模板ID"},model:{value:e.formInline.names,callback:function(t){e.$set(e.formInline,"names",t)},expression:"formInline.names"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模板状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"模板状态"},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-option",{attrs:{label:"下架",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"上架",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"提交时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.createPickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.duringTime,callback:function(t){e.duringTime=t},expression:"duringTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"更新时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.updatePickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.updateDuringTime,callback:function(t){e.updateDuringTime=t},expression:"updateDuringTime"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.resetList(t)}}},[e._v("重置")])],1)],1)],1)},gg=[],hg={render:fg,staticRenderFns:gg},vg=hg,bg=a(0),Ig=bg(pg,vg,!1,null,null,null),Cg=Ig.exports,Tg={props:{tableList:{default:function(){return[]},type:Array}},methods:{upLoadZip:function(e){var t=this;t.$router.push({path:"/addProTemplate",query:{type:1,id:e,updateUser:t.updateUser}})},selectionChange:function(e){var t=this;t.$emit("setSelect",!!e),t.$emit("setSelectData",e)},formatStatus:function(e,t){var a=e.status;return 0===parseInt(a,10)?"下架":"上架"},formatterCreateTime:function(e,t){var a=e.createTime;return St(a)},formatterUpdateTime:function(e,t){var a=e.updateTime||e.createTime;return St(a)}}},_g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList,border:"","highlight-current-row":"","default-sort":{prop:"createTime",order:"descending"}},on:{"current-change":e.selectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"模板ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"names",label:"模板名称"}}),e._v("、\n        "),a("el-table-column",{attrs:{prop:"remark",label:"模板备注"}}),e._v(" "),a("el-table-column",{attrs:{label:"模板文件"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.temUrl?a("a",{attrs:{href:t.row.temUrl}},[a("el-button",[e._v("下载查看")])],1):a("el-button",{attrs:{type:"info",plain:""},on:{click:function(a){return e.upLoadZip(t.row.id)}}},[e._v("上传模板")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatStatus,label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",sortable:"",formatter:e.formatterCreateTime,label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",sortable:"",formatter:e.formatterUpdateTime,label:"更新时间"}})],1)],1)},Og=[],yg={render:_g,staticRenderFns:Og},kg=yg,Sg=a(0),xg=W,Dg=Sg(Tg,kg,!1,xg,"data-v-949c770c",null),$g=Dg.exports,wg={props:{pageNum:{default:function(){return 0},type:Number},pageSize:{default:function(){return 0},type:Number},total:{default:function(){return 0},type:Number}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}},Lg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminPage"},[a("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},Ug=[],Ng={render:Lg,staticRenderFns:Ug},Pg=Ng,zg=a(0),Fg=zg(wg,Pg,!1,null,null,null),Eg=Fg.exports,Rg={data:function(){return{updateUser:localStorage.getItem("adminId")}},props:{selectOnOff:{default:function(){return!1},type:Boolean},selectData:{default:function(){return{}},type:Object}},methods:{addColumn:function(){this.$router.push({path:"/addProTemplate",query:{type:0}})},editColumn:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.$router.push({path:"/addProTemplate",query:{type:1,id:e.selectData.id,updateUser:e.updateUser}}):e.$message.error("请选择一条数据")},changeStatus:function(e){var t=this;if(console.log(t.selectOnOff),t.selectOnOff){console.log("逻辑");var a="";a=0===parseInt(e,10)?"确定要下架该模板？":"确定要上架该模板？",t.$alert(a,"！提示信息",{confirmButtonText:"确定",callback:function(a){t.valid(e+"",function(){t.$emit("getTableList")})}})}else t.$message.error("请选择一条数据")},valid:function(e,t){var a=this;console.log("操作"),ze()({method:"post",url:"/api/proTemplate/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:a.selectData.id,updateUser:a.updateUser,status:e}}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&t&&t(),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}}},Bg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminAuditControl"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("添加")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.editColumn(t)}}},[e._v("编辑")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(1)}}},[e._v("上架")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(0)}}},[e._v("下架")])],1)],1)],1)},qg=[],jg={render:Bg,staticRenderFns:qg},Hg=jg,Mg=a(0),Ag=Mg(Rg,Hg,!1,null,null,null),Xg=Ag.exports,Vg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Wg={getTableList:"/api/proTemplate/query"},Jg={name:"manageBanner",data:function(){return{updateUser:localStorage.getItem("adminId"),pageNum:1,pageSize:20,tableList:[],selectData:{},total:0,selectOnOff:!1}},watch:{selectOnOff:function(e){var t=this;e||(t.selectData={})}},methods:{handleSizeChange:function(e){var t=this;t.pageSize=e,t.getTableList()},handleCurrentChange:function(e){var t=this;t.pageNum=e,t.getTableList()},getTableList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(Wg.getTableList,{params:Dt(e)?{updateUser:t.updateUser,pageSize:t.pageSize,pageNum:t.pageNum}:Vg({pageSize:t.pageSize,pageNum:t.pageNum},e)}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,t.tableList=e.data.result.list,t.total=e.data.result.total,console.log(t.tableList))}).catch(function(e){console.log(e)})},setSelect:function(e){this.selectOnOff=e},setSelectData:function(e){var t=this;t.selectData=e,console.log("设置数据",t.selectData)}},mounted:function(){this.getTableList()},components:{HandleForm:Cg,TableList:$g,Pagination:Eg,ControlModule:Xg}},Zg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("HandleForm",{on:{getTableList:e.getTableList}}),e._v(" "),a("TableList",{attrs:{tableList:e.tableList},on:{setSelect:e.setSelect,setSelectData:e.setSelectData}}),e._v(" "),a("Pagination",{attrs:{pageNum:e.pageNum,pageSize:e.pageSize,total:e.total},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}}),e._v(" "),a("ControlModule",{attrs:{selectOnOff:e.selectOnOff,selectData:e.selectData},on:{getTableList:e.getTableList}})],1)])},Gg=[],Yg={render:Zg,staticRenderFns:Gg},Kg=Yg,Qg=a(0),eh=J,th=Qg(Jg,Kg,!1,eh,"data-v-c84c48cc",null),ah=th.exports,nh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ih={data:function(){var e=localStorage.getItem("adminId");return{updateUser:e,formInline:{names:"",updateUser:e,remark:"",status:"",id:""},originalForm:{names:"",updateUser:e,remark:"",status:"",id:""},duringTime:[],updateDuringTime:[],createPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},updatePickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onSubmit:function(){var e=this;console.log(e.duringTime);var t=e.duringTime.length?xt(e.duringTime[0]):"",a=e.duringTime.length?xt(e.duringTime[1]):"",n=e.updateDuringTime.length?xt(e.updateDuringTime[0]):"",i=e.updateDuringTime.length?xt(e.updateDuringTime[1]):"";e.$emit("getTableList",nh({},e.formInline,{beginTime:t,endTime:a,updateBeginTime:n,updateEndTime:i}))},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm)),e.duringTime=[],e.updateDuringTime=[]}}},rh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"仪器ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入仪器ID"},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"仪器名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入仪器ID"},model:{value:e.formInline.names,callback:function(t){e.$set(e.formInline,"names",t)},expression:"formInline.names"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"仪器状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"仪器状态"},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-option",{attrs:{label:"下架",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"上架",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"提交时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.createPickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.duringTime,callback:function(t){e.duringTime=t},expression:"duringTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"更新时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.updatePickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.updateDuringTime,callback:function(t){e.updateDuringTime=t},expression:"updateDuringTime"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.resetList(t)}}},[e._v("重置")])],1)],1)],1)},lh=[],oh={render:rh,staticRenderFns:lh},sh=oh,ch=a(0),uh=ch(ih,sh,!1,null,null,null),dh=uh.exports,mh={props:{tableList:{default:function(){return[]},type:Array}},methods:{selectionChange:function(e){var t=this;t.$emit("setSelect",!!e),t.$emit("setSelectData",e)},formatterCoupon:function(e,t){for(var a=e.proConRelaList,n="",i=0;i<a.length;i++){var r=a[i];n+=0===i?""+r.conTitle:","+r.conTitle}return n||"暂无优惠券"},formatStatus:function(e,t){var a=e.status;return 0===parseInt(a,10)?"下架":"上架"},formatterCreateTime:function(e,t){var a=e.createTime;return St(a)},formatterUpdateTime:function(e,t){var a=e.updateTime||e.createTime;return St(a)}}},ph=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList,border:"","highlight-current-row":"","default-sort":{prop:"createTime",order:"descending"}},on:{"current-change":e.selectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"仪器ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"names",label:"仪器名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"models",label:"仪器型号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"样品单价"}}),e._v(" "),a("el-table-column",{attrs:{label:"仪器封面"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("img",{staticStyle:{"max-width":"500px","max-height":"500px",border:"1px solid #e9e9e9","box-shadow":"0px 10px 18px 0px rgba(197,206,214,0.8)"},attrs:{src:t.row.imgUrl,alt:""}}),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.imgUrl,alt:""}})])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"proConRelaList",formatter:e.formatterCoupon,label:"优惠券"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:e.formatStatus,label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",sortable:"",formatter:e.formatterCreateTime,label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",sortable:"",formatter:e.formatterUpdateTime,label:"更新时间"}})],1)],1)},fh=[],gh={render:ph,staticRenderFns:fh},hh=gh,vh=a(0),bh=Z,Ih=vh(mh,hh,!1,bh,"data-v-64d55f5d",null),Ch=Ih.exports,Th={props:{pageNum:{default:function(){return 0},type:Number},pageSize:{default:function(){return 0},type:Number},total:{default:function(){return 0},type:Number}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}},_h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminPage"},[a("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},Oh=[],yh={render:_h,staticRenderFns:Oh},kh=yh,Sh=a(0),xh=Sh(Th,kh,!1,null,null,null),Dh=xh.exports,$h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},wh={getTableList:"/api/proCoupon/query",unBindCoupon:"/api/proProduct/unBindCoupon",bindCoupon:"/api/proProduct/bindCoupon"},Lh={data:function(){return{dialogVisible:!1,proConRelaList:[],tableList:[],unBind:!1,formInline:{conId:""},proCon:{conId:""},updateUser:localStorage.getItem("adminId")}},props:{selectOnOff:{default:function(){return!1},type:Boolean},selectData:{default:function(){return{}},type:Object}},watch:{unBind:function(e){var t=this;t.proConRelaList=e?t.selectData.proConRelaList:[]}},mounted:function(){this.getList({status:1})},methods:{handleClose:function(){var e=this;e.dialogVisible=!1,e.unBind=!1,e.temDialogVisible=!1},onSubmit:function(){var e=this;ze()({method:"post",url:wh.bindCoupon,headers:{"X-Requested-With":"XMLHttpRequest"},data:{proId:e.selectData.id,updateUser:e.updateUser,conId:e.formInline.conId}}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(e.dialogVisible=!1,e.$emit("getTableList")),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})},addColumn:function(){this.$router.push({path:"/addProInstr",query:{type:0}})},onSubmitUnBind:function(){var e=this;ze()({method:"post",url:wh.unBindCoupon,headers:{"X-Requested-With":"XMLHttpRequest"},data:{updateUser:e.updateUser,id:e.proCon.conId}}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(e.unBind=!1,e.$emit("getTableList")),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})},getList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(wh.getTableList,{params:Dt(e)?{updateUser:t.updateUser}:$h({},e,{updateUser:t.updateUser})}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,t.tableList=e.data.result,console.log(t.tableList))}).catch(function(e){console.log(e)})},unBindCoupon:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.selectData.proConRelaList.length?e.unBind=!0:e.$message.error("该产品暂未绑定优惠券"):e.$message.error("请选择一条数据")},bindCoupon:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.dialogVisible=!0:e.$message.error("请选择一条数据")},changePrice:function(){var e=this;console.log(e.selectOnOff),e.selectOnOff?e.$prompt("请输入价格","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/(^[1-9]\d*$)/,inputErrorMessage:"价格格式不正确"}).then(function(t){var a=t.value;e.$confirm("您确定提交该报价,用户支付后报价将不可修改?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){ze()({method:"post",url:"/api/proInstr/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:e.selectData.id,updateUser:e.updateUser,price:a}}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(e.$message({type:"success",message:"报价成功!"}),e.$emit("getTableList")),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})})}):e.$message.error("请选择一条数据")},editSample:function(){var e=this;e.selectOnOff?e.$router.push({path:"/editSample",query:{id:e.selectData.id,updateUser:e.updateUser}}):e.$message.error("请选择一条数据")},editColumn:function(){var e=this;console.log(e.selectOnOff+"开关状态"),e.selectOnOff?e.$router.push({path:"/addProInstr",query:{type:1,id:e.selectData.id,updateUser:e.updateUser}}):e.$message.error("请选择一条数据")},changeStatus:function(e){var t=this;if(console.log(t.selectOnOff),t.selectOnOff){console.log("逻辑");var a="";a=0===parseInt(e,10)?"确定要下架该仪器？":"确定要上架该仪器？",t.$alert(a,"！提示信息",{confirmButtonText:"确定",callback:function(a){t.valid(e+"",function(){t.$emit("getTableList")})}})}else t.$message.error("请选择一条数据")},valid:function(e,t){var a=this;console.log("操作"),ze()({method:"post",url:"/api/proInstr/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:a.selectData.id,updateUser:a.updateUser,status:e}}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&t&&t(),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}}},Uh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"wrapper"},[a("div",{staticClass:"block adminAuditControl"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("添加")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.editColumn(t)}}},[e._v("编辑")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.editSample(t)}}},[e._v("样品模板")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.bindCoupon(t)}}},[e._v("绑定优惠券")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.unBindCoupon(t)}}},[e._v("解绑优惠券")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changePrice()}}},[e._v("修改单价")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(1)}}},[e._v("上架")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(0)}}},[e._v("下架")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"绑定优惠券",width:"60%",center:"","append-to-body":!0,visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"block"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"优惠券"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"优惠券"},model:{value:e.formInline.conId,callback:function(t){e.$set(e.formInline,"conId",t)},expression:"formInline.conId"}},e._l(e.tableList,function(e){return a("el-option",{key:e.id,attrs:{label:e.couTitle,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"解绑优惠券",width:"60%",center:"","append-to-body":!0,visible:e.unBind,"before-close":e.handleClose},on:{"update:visible":function(t){e.unBind=t}}},[a("div",{staticClass:"block"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.proCon,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"优惠券"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"优惠券"},model:{value:e.proCon.conId,callback:function(t){e.$set(e.proCon,"conId",t)},expression:"proCon.conId"}},e._l(e.proConRelaList,function(e){return a("el-option",{key:e.id,attrs:{label:e.conTitle,value:e.id}})}),1)],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmitUnBind}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:function(t){e.unBind=!1}}},[e._v("取消")])],1)],1)],1)],1)])],1)},Nh=[],Ph={render:Uh,staticRenderFns:Nh},zh=Ph,Fh=a(0),Eh=Fh(Lh,zh,!1,null,null,null),Rh=Eh.exports,Bh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},qh={getTableList:"/api/proInstr/query"},jh={name:"manageBanner",data:function(){return{updateUser:localStorage.getItem("adminId"),pageNum:1,pageSize:20,tableList:[],selectData:{},total:0,selectOnOff:!1}},watch:{selectOnOff:function(e){var t=this;e||(t.selectData={})}},methods:{handleSizeChange:function(e){var t=this;t.pageSize=e,t.getTableList()},handleCurrentChange:function(e){var t=this;t.pageNum=e,t.getTableList()},getTableList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(qh.getTableList,{params:Dt(e)?{updateUser:t.updateUser,pageSize:t.pageSize,pageNum:t.pageNum}:Bh({pageSize:t.pageSize,pageNum:t.pageNum},e)}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,t.tableList=e.data.result.list,t.total=e.data.result.total,console.log(t.tableList))}).catch(function(e){console.log(e)})},setSelect:function(e){this.selectOnOff=e},setSelectData:function(e){var t=this;t.selectData=e,console.log("设置数据",t.selectData)}},mounted:function(){this.getTableList()},components:{HandleForm:dh,TableList:Ch,Pagination:Dh,ControlModule:Rh}},Hh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("HandleForm",{on:{getTableList:e.getTableList}}),e._v(" "),a("TableList",{attrs:{tableList:e.tableList},on:{setSelect:e.setSelect,setSelectData:e.setSelectData}}),e._v(" "),a("Pagination",{attrs:{pageNum:e.pageNum,pageSize:e.pageSize,total:e.total},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}}),e._v(" "),a("ControlModule",{attrs:{selectOnOff:e.selectOnOff,selectData:e.selectData},on:{getTableList:e.getTableList}})],1)])},Mh=[],Ah={render:Hh,staticRenderFns:Mh},Xh=Ah,Vh=a(0),Wh=G,Jh=Vh(jh,Xh,!1,Wh,"data-v-5439a2f9",null),Zh=Jh.exports,Gh=a(55),Yh=a.n(Gh),Kh={update:"/api/sysEnterprise/update",getHtml:"/api/sysEnterprise/select"},Qh={name:"editProduce",data:function(){var e=this,t=localStorage.getItem("adminId");return{editor:null,id:e.$route.query.id,editOnOff:!1,updateUser:t}},watch:{editOnOff:function(e){var t=Yh()(".html-mask"),a=Yh()(".w-e-text");e?(t.show(),a.hide()):(t.hide(),a.show())}},mounted:function(){this.initEdit()},methods:{returnBack:function(){this.$router.push({path:"/033"})},initEdit:function(){var e=this,t=a(56);e.editor=new t("#editor"),e.editor.customConfig.onchange=function(e){console.log(e),Yh()(".html-mask").text(e)},e.editor.customConfig.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","code","undo","redo"],e.editor.create(),Yh()(".w-e-menu").eq(1).before('<div class="w-e-menu" style="z-index:10001;"><i class="w-e-icon-html"></i></div>'),Yh()(".w-e-text-container").append("<div class='html-mask' contenteditable=\"true\" style='z-index: 10001;display: none;'></div>"),Yh()(".w-e-icon-html").click(function(){var t=Yh()(this);console.log(t),t.toggleClass("active"),e.editOnOff=!e.editOnOff}),Yh()(".html-mask").on("input",function(){var t=Yh()(this);console.log("触发触发触发"),e.editor.txt.html(t.text()),console.log("写入")})},getInfo:function(){var e=this;ze.a.get(Kh.getHtml,{params:{types:1,updateUser:e.updateUser,id:e.id}}).then(function(t){console.log(t),200===t.data.code&&e.editor.txt.html(t.data.result.context)}).catch(function(e){console.log(e)})},submitInfo:function(){var e=this;console.log(e.editor.txt.html()),ze()({method:"post",url:Kh.update,headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:e.id,types:1,context:e.editor.txt.html(),updateUser:e.updateUser}}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(console.log("添加成功"),e.$message({type:"success",message:"修改成功"}),e.$router.push({path:"/034"})),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})}}},ev=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"admin-main"},[a("h1",{staticClass:"admin-title"},[e._v("编辑企业简介")]),e._v(" "),a("section",{staticClass:"admin-main-inner"},[a("article",{attrs:{id:"editor"}}),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{"label-width":"80px","label-position":"left"}},[a("div",{staticClass:"admin-handleBar demo-form-inline"},[a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"primary",inline:!0},nativeOn:{click:function(t){return e.submitInfo(t)}}},[e._v("提交")])],1),e._v(" "),a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.returnBack(t)}}},[e._v("返回")])],1)],1)])],1)])},tv=[],av={render:ev,staticRenderFns:tv},nv=av,iv=a(0),rv=Y,lv=iv(Qh,nv,!1,rv,null,null),ov=lv.exports,sv={update:"/api/sysEnterprise/update",getHtml:"/api/sysEnterprise/select"},cv={name:"editProduce",data:function(){var e=this,t=localStorage.getItem("adminId");return{editor:null,id:e.$route.query.id,editOnOff:!1,updateUser:t}},watch:{editOnOff:function(e){var t=Yh()(".html-mask"),a=Yh()(".w-e-text");e?(t.show(),a.hide()):(t.hide(),a.show())}},mounted:function(){this.initEdit()},methods:{returnBack:function(){this.$router.push({path:"/034"})},initEdit:function(){var e=this,t=a(56);e.editor=new t("#editor"),e.editor.customConfig.onchange=function(e){console.log(e),Yh()(".html-mask").text(e)},e.editor.customConfig.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","code","undo","redo"],e.editor.create(),Yh()(".w-e-menu").eq(1).before('<div class="w-e-menu" style="z-index:10001;"><i class="w-e-icon-html"></i></div>'),Yh()(".w-e-text-container").append("<div class='html-mask' contenteditable=\"true\" style='z-index: 10001;display: none;'></div>"),Yh()(".w-e-icon-html").click(function(){var t=Yh()(this);console.log(t),t.toggleClass("active"),e.editOnOff=!e.editOnOff}),Yh()(".html-mask").on("input",function(){var t=Yh()(this);console.log("触发触发触发"),e.editor.txt.html(t.text()),console.log("写入")})},getInfo:function(){var e=this;ze.a.get(sv.getHtml,{params:{types:2,updateUser:e.updateUser,id:e.id}}).then(function(t){console.log(t),200===t.data.code&&e.editor.txt.html(t.data.result.context)}).catch(function(e){console.log(e)})},submitInfo:function(){var e=this;console.log(e.editor.txt.html()),ze()({method:"post",url:sv.update,headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:e.id,types:2,context:e.editor.txt.html(),updateUser:e.updateUser}}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(console.log("添加成功"),e.$message({type:"success",message:"修改成功"}),e.$router.push({path:"/034"})),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})}}},uv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"admin-main"},[a("h1",{staticClass:"admin-title"},[e._v("编辑联系我们")]),e._v(" "),a("section",{staticClass:"admin-main-inner"},[a("article",{attrs:{id:"editor"}}),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{"label-width":"80px","label-position":"left"}},[a("div",{staticClass:"admin-handleBar demo-form-inline"},[a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"primary",inline:!0},nativeOn:{click:function(t){return e.submitInfo(t)}}},[e._v("提交")])],1),e._v(" "),a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.returnBack(t)}}},[e._v("返回")])],1)],1)])],1)])},dv=[],mv={render:uv,staticRenderFns:dv},pv=mv,fv=a(0),gv=K,hv=fv(cv,pv,!1,gv,null,null),vv=hv.exports,bv={name:"editProduce",props:{editName:{default:function(){return""},type:String},editHtmlContent:{default:function(){return""},type:String}},data:function(){var e=this,t=localStorage.getItem("adminId");return{editor:null,id:e.$route.query.id,editOnOff:!1,updateUser:t}},watch:{editOnOff:function(e){var t=Yh()(".html-mask"),a=Yh()(".w-e-text");e?(t.show(),a.hide()):(t.hide(),a.show())},editHtmlContent:function(){var e=this,t=Yh()(".html-mask");console.log(e.editHtmlContent),e.editor.txt.html(e.editHtmlContent),t.text(e.editHtmlContent)}},mounted:function(){var e=this;e.initEdit();var t=Yh()(".html-mask");console.log(e.editHtmlContent),e.editor.txt.html(e.editHtmlContent),t.text(e.editHtmlContent)},methods:{initEdit:function(){var e=this,t=a(56);e.editor=new t("#editor"),e.editor.customConfig.onchange=function(e){console.log(e),Yh()(".html-mask").text(e)},e.editor.customConfig.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","code","undo","redo"],e.editor.create(),Yh()(".w-e-menu").eq(1).before('<div class="w-e-menu" style="z-index:10001;"><i class="w-e-icon-html"></i></div>'),Yh()(".w-e-text-container").append("<div class='html-mask' contenteditable=\"true\" style='z-index: 10001;display: none;'></div>"),Yh()(".w-e-icon-html").click(function(){var t=Yh()(this);console.log(t),t.toggleClass("active"),e.editOnOff=!e.editOnOff}),Yh()(".html-mask").on("input",function(){var t=Yh()(this);console.log("触发触发触发"),e.editor.txt.html(t.text()),console.log("写入")})},closePanel:function(){this.$emit("closePanel")},submitInfo:function(){var e=this;e.$emit("submitInfo",e.editor.txt.html())}}},Iv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"admin-main"},[a("h1",{staticClass:"admin-title",domProps:{textContent:e._s(e.editName)}}),e._v(" "),a("section",{staticClass:"admin-main-inner"},[a("article",{attrs:{id:"editor"}}),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{"label-width":"80px","label-position":"left"}},[a("div",{staticClass:"admin-handleBar demo-form-inline"},[a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"primary",inline:!0},nativeOn:{click:function(t){return e.submitInfo(t)}}},[e._v("提交")])],1),e._v(" "),a("el-form-item",{staticClass:"form-button",nativeOn:{click:function(t){return e.closePanel(t)}}},[a("el-button",{attrs:{type:"default"}},[e._v("返回")])],1)],1)])],1)])},Cv=[],Tv={render:Iv,staticRenderFns:Cv},_v=Tv,Ov=a(0),yv=Q,kv=Ov(bv,_v,!1,yv,null,null),Sv=kv.exports,xv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Dv={addTab:"/api/sysColumn/insert",updateTab:"/api/sysColumn/update",getTableList:"/api/sysColumn/query"},$v={name:"addTab",data:function(){var e=this,t=localStorage.getItem("adminId"),a=parseInt(e.$route.query.type,10);return{updateUser:t,id:e.$route.query.id,editType:a,formInline:{names:"",link:"",orderBy:"",status:"0",describes:""},originalForm:{names:"",link:"",orderBy:"",status:"0",describes:""}}},mounted:function(){var e=this;console.log(e.editType),e.editType&&e.getData()},methods:{resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm))},returnBack:function(){this.$router.push({path:"/032"})},getData:function(){var e=this;ze.a.get(Dv.getTableList,{params:{id:e.id,updateUser:e.updateUser,createUser:e.updateUser}}).then(function(t){if(console.log(t),200===t.data.code){e.selectOnOff=!1;var a=t.data.result[0];for(var n in e.formInline)e.formInline[n]=a[n];console.log(e.tableList)}}).catch(function(e){console.log(e)})},addColumn:function(){var e=this,t=0===parseInt(e.editType,10)?Dv.addTab:Dv.updateTab,a=0===parseInt(e.editType,10)?xv({},e.formInline,{updateUser:e.updateUser,createUser:e.updateUser}):xv({},e.formInline,{id:e.id,updateUser:e.updateUser});ze()({method:"post",url:t,headers:{"X-Requested-With":"XMLHttpRequest"},data:a}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(console.log("添加成功"),e.resetList()),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})}}},wv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"admin-main"},[a("h1",{staticClass:"admin-title"},[e._v("添加栏目")]),e._v(" "),a("section",{staticClass:"admin-main-inner"},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{staticClass:"block",attrs:{label:"栏目名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入栏目名称"},model:{value:e.formInline.names,callback:function(t){e.$set(e.formInline,"names",t)},expression:"formInline.names"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"栏目链接"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入栏目链接"},model:{value:e.formInline.link,callback:function(t){e.$set(e.formInline,"link",t)},expression:"formInline.link"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"栏目排序"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入栏目排序"},model:{value:e.formInline.orderBy,callback:function(t){e.$set(e.formInline,"orderBy",t)},expression:"formInline.orderBy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"栏目描述"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入栏目描述"},model:{value:e.formInline.describes,callback:function(t){e.$set(e.formInline,"describes",t)},expression:"formInline.describes"}})],1),e._v(" "),a("div",{staticClass:"admin-handleBar demo-form-inline"},[a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"primary",inline:!0},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("提交")])],1),e._v(" "),a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.returnBack(t)}}},[e._v("返回")])],1)],1)],1)],1)])},Lv=[],Uv={render:wv,staticRenderFns:Lv},Nv=Uv,Pv=a(0),zv=ee,Fv=Pv($v,Nv,!1,zv,"data-v-23054fe0",null),Ev=Fv.exports,Rv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Bv={addBanner:"/api/sysBanner/insert",getTableList:"/api/sysBanner/query",updateBanner:"/api/sysBanner/update"},qv={name:"addTab",data:function(){var e=this,t=localStorage.getItem("adminId"),a=parseInt(e.$route.query.type,10);return{dialogVisible:!1,updateUser:t,dialogImageUrl:"",id:e.$route.query.id,editType:a,formInline:{link:"",orderBy:"",status:"0",describes:"",imgUrl:""},originalForm:{link:"",orderBy:"",status:"0",describes:"",imgUrl:""}}},mounted:function(){var e=this;console.log(e.editType),e.editType&&e.getData()},methods:{resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm))},returnBack:function(){this.$router.push({path:"/031"})},handleAvatarSuccess:function(e,t){var a=this;console.log("触发======"),console.log(e),a.formInline.imgUrl=e.result.url},handlePictureCardPreview:function(){var e=this;e.dialogImageUrl=e.formInline.imgUrl,e.dialogVisible=!0},handlePictureCardDelete:function(){this.formInline.imgUrl=""},handleClose:function(){var e=this;e.dialogImageUrl="",e.dialogVisible=!1},beforeAvatarUpload:function(e){console.log(e)},getData:function(){var e=this;ze.a.get(Bv.getTableList,{params:{id:e.id,updateUser:e.updateUser}}).then(function(t){if(console.log(t),200===t.data.code){e.selectOnOff=!1;var a=t.data.result[0];for(var n in e.formInline)e.formInline[n]=a[n];console.log(e.tableList)}}).catch(function(e){console.log(e)})},addColumn:function(){var e=this,t=0===parseInt(e.editType,10)?Bv.addBanner:Bv.updateBanner,a=0===parseInt(e.editType,10)?Rv({},e.formInline,{updateUser:e.updateUser,createUser:e.updateUser}):Rv({},e.formInline,{id:e.id,updateUser:e.updateUser});ze()({method:"post",url:t,headers:{"X-Requested-With":"XMLHttpRequest"},data:a}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(console.log("添加成功"),e.resetList()),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})}}},jv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"admin-main"},[a("h1",{staticClass:"admin-title"},[e._v("添加轮播")]),e._v(" "),a("section",{staticClass:"admin-main-inner"},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"轮播链接"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入轮播链接"},model:{value:e.formInline.link,callback:function(t){e.$set(e.formInline,"link",t)},expression:"formInline.link"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"轮播排序"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入轮播排序"},model:{value:e.formInline.orderBy,callback:function(t){e.$set(e.formInline,"orderBy",t)},expression:"formInline.orderBy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"轮播描述"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入轮播描述"},model:{value:e.formInline.describes,callback:function(t){e.$set(e.formInline,"describes",t)},expression:"formInline.describes"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传图片"}},[a("div",{staticClass:"upload-wrapper"},[e.formInline.imgUrl?a("div",{staticClass:"upload-mask"},[a("i",{staticClass:"handleItem previewImage el-icon-search",on:{click:e.handlePictureCardPreview}}),e._v(" "),a("i",{staticClass:"handleItem deleteImage el-icon-delete",on:{click:e.handlePictureCardDelete}})]):e._e(),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/upload/uploadImg","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.formInline.imgUrl?a("img",{staticClass:"avatar",attrs:{src:e.formInline.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("div",{staticStyle:{"margin-bottom":"10px",width:"300px",color:"#333"}},[e._v("建议尺寸：988*412或更高倍数的")])],1)]),e._v(" "),a("div",{staticClass:"admin-handleBar demo-form-inline",staticStyle:{"margin-top":"60px"}},[a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"primary",inline:!0},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("提交")])],1),e._v(" "),a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.returnBack(t)}}},[e._v("返回")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"图片预览",width:"60%",center:"",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{staticStyle:{width:"100%",height:"100%",border:"1px solid #e9e9e9","box-shadow":"0px 10px 18px 0px rgba(197,206,214,0.8)"},attrs:{src:e.dialogImageUrl,alt:"图片预览"}})])],1)},Hv=[],Mv={render:jv,staticRenderFns:Hv},Av=Mv,Xv=a(0),Vv=te,Wv=Xv(qv,Av,!1,Vv,"data-v-4a9da985",null),Jv=Wv.exports,Zv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Gv={addSchool:"/api/sysSchool/insert",getTableList:"/api/sysSchool/query",updateSchool:"/api/sysSchool/update"},Yv={name:"addSchool",data:function(){var e=this,t=localStorage.getItem("adminId"),a=parseInt(e.$route.query.type,10);return{dialogVisible:!1,updateUser:t,dialogImageUrl:"",id:e.$route.query.id,editType:a,formInline:{names:"",contactName:"",contactPhone:"",status:"0",cooDirection:"",orderBy:"",schoolPicture:""},originalForm:{names:"",contactName:"",contactPhone:"",status:"0",cooDirection:"",orderBy:"",schoolPicture:""}}},mounted:function(){var e=this;console.log(e.editType),e.editType&&e.getData()},methods:{resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm))},returnBack:function(){this.$router.push({path:"/024"})},handleAvatarSuccess:function(e,t){var a=this;console.log("触发======"),console.log(e),a.formInline.schoolPicture=e.result.url},handlePictureCardPreview:function(){var e=this;e.dialogImageUrl=e.formInline.schoolPicture,e.dialogVisible=!0},handlePictureCardDelete:function(){this.formInline.schoolPicture=""},handleClose:function(){var e=this;e.dialogImageUrl="",e.dialogVisible=!1},beforeAvatarUpload:function(e){console.log(e)},getData:function(){var e=this;ze.a.get(Gv.getTableList,{params:{id:e.id,updateUser:e.updateUser}}).then(function(t){if(console.log(t),200===t.data.code){e.selectOnOff=!1;var a=t.data.result[0];for(var n in e.formInline)e.formInline[n]=a[n];console.log(e.tableList)}}).catch(function(e){console.log(e)})},addColumn:function(){var e=this,t=0===parseInt(e.editType,10)?Gv.addSchool:Gv.updateSchool,a=0===parseInt(e.editType,10)?Zv({},e.formInline,{updateUser:e.updateUser,createUser:e.updateUser}):Zv({},e.formInline,{id:e.id,updateUser:e.updateUser});ze()({method:"post",url:t,headers:{"X-Requested-With":"XMLHttpRequest"},data:a}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(console.log("添加成功"),e.resetList()),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})}}},Kv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"admin-main"},[a("h1",{staticClass:"admin-title"},[e._v("添加高校")]),e._v(" "),a("section",{staticClass:"admin-main-inner"},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"高校名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入高校名称"},model:{value:e.formInline.names,callback:function(t){e.$set(e.formInline,"names",t)},expression:"formInline.names"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合作方向"}},[a("el-radio-group",{model:{value:e.formInline.cooDirection,callback:function(t){e.$set(e.formInline,"cooDirection",t)},expression:"formInline.cooDirection"}},[a("el-radio",{attrs:{label:"1"}},[e._v("实验测试")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("科研绘图")]),e._v(" "),a("el-radio",{attrs:{label:"3"}},[e._v("数据分析")]),e._v(" "),a("el-radio",{attrs:{label:"4"}},[e._v("实验耗材")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"高校排序"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入高校排序"},model:{value:e.formInline.orderBy,callback:function(t){e.$set(e.formInline,"orderBy",t)},expression:"formInline.orderBy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"高校联系人"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入联系人姓名"},model:{value:e.formInline.contactName,callback:function(t){e.$set(e.formInline,"contactName",t)},expression:"formInline.contactName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"高校联系电话"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入联系人电话"},model:{value:e.formInline.contactPhone,callback:function(t){e.$set(e.formInline,"contactPhone",t)},expression:"formInline.contactPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传图片"}},[a("div",{staticClass:"upload-wrapper"},[e.formInline.schoolPicture?a("div",{staticClass:"upload-mask"},[a("i",{staticClass:"handleItem previewImage el-icon-search",on:{click:e.handlePictureCardPreview}}),e._v(" "),a("i",{staticClass:"handleItem deleteImage el-icon-delete",on:{click:e.handlePictureCardDelete}})]):e._e(),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/upload/uploadImg","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.formInline.schoolPicture?a("img",{staticClass:"avatar",attrs:{src:e.formInline.schoolPicture}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("div",{staticStyle:{"margin-bottom":"10px",width:"300px",color:"#333"}},[e._v("建议尺寸：229*108或更高倍数的")])]),e._v(" "),a("div",{staticClass:"admin-handleBar demo-form-inline",staticStyle:{"margin-top":"40px"}},[a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"primary",inline:!0},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("提交")])],1),e._v(" "),a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.returnBack(t)}}},[e._v("返回")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"图片预览",width:"60%",center:"",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{staticStyle:{width:"100%",height:"100%",border:"1px solid #e9e9e9","box-shadow":"0px 10px 18px 0px rgba(197,206,214,0.8)"},attrs:{src:e.dialogImageUrl,alt:"图片预览"}})])],1)},Qv=[],eb={render:Kv,staticRenderFns:Qv},tb=eb,ab=a(0),nb=ae,ib=ab(Yv,tb,!1,nb,"data-v-2596487f",null),rb=ib.exports,lb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ob={addProduct:"/api/proProduct/insert",getTableList:"/api/proProduct/query",updateProduct:"/api/proProduct/update",getColumnList:"/api/sysColumn/query"},sb={name:"addProduct",data:function(){var e=this,t=localStorage.getItem("adminId"),a=parseInt(e.$route.query.type,10);return{dialogVisible:!1,updateUser:t,dialogImageUrl:"",id:e.$route.query.id,columnList:[],editType:a,formInline:{names:"",describes:"",status:"0",columnId:"",imgUrl:""},originalForm:{names:"",describes:"",status:"0",columnId:"",imgUrl:""}}},mounted:function(){var e=this;console.log(e.editType),e.getColumnList(),e.editType&&e.getData()},methods:{getColumnList:function(){var e=this;ze.a.get(ob.getColumnList,{params:{updateUser:e.updateUser}}).then(function(t){console.log(t),200===t.data.code&&(e.selectOnOff=!1,console.log("设置完账号"+e.selectOnOff),e.columnList=t.data.result)}).catch(function(e){console.log(e)})},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm))},handleAvatarSuccess:function(e,t){var a=this;console.log("触发======"),console.log(e),a.formInline.imgUrl=e.result.url},returnBack:function(){this.$router.push({path:"/023"})},handlePictureCardPreview:function(){var e=this;e.dialogImageUrl=e.formInline.imgUrl,e.dialogVisible=!0},handlePictureCardDelete:function(){this.formInline.imgUrl=""},handleClose:function(){var e=this;e.dialogImageUrl="",e.dialogVisible=!1},beforeAvatarUpload:function(e){console.log(e)},getData:function(){var e=this;ze.a.get(ob.getTableList,{params:{id:e.id,updateUser:e.updateUser}}).then(function(t){if(console.log(t),200===t.data.code){e.selectOnOff=!1;var a=t.data.result[0];for(var n in e.formInline)e.formInline[n]=a[n];console.log(e.tableList)}}).catch(function(e){console.log(e)})},addColumn:function(){var e=this,t=0===parseInt(e.editType,10)?ob.addProduct:ob.updateProduct,a=0===parseInt(e.editType,10)?lb({},e.formInline,{updateUser:e.updateUser,createUser:e.updateUser}):lb({},e.formInline,{id:e.id,updateUser:e.updateUser});ze()({method:"post",url:t,headers:{"X-Requested-With":"XMLHttpRequest"},data:a}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(console.log("添加成功"),e.resetList()),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})}}},cb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"admin-main"},[a("h1",{staticClass:"admin-title"},[e._v("添加产品")]),e._v(" "),a("section",{staticClass:"admin-main-inner"},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"产品名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入产品名称"},model:{value:e.formInline.names,callback:function(t){e.$set(e.formInline,"names",t)},expression:"formInline.names"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品描述"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入产品描述"},model:{value:e.formInline.describes,callback:function(t){e.$set(e.formInline,"describes",t)},expression:"formInline.describes"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属栏目"}},[a("el-select",{attrs:{placeholder:"请选择所属栏目"},model:{value:e.formInline.columnId,callback:function(t){e.$set(e.formInline,"columnId",t)},expression:"formInline.columnId"}},e._l(e.columnList,function(e){return a("el-option",{key:e.id,attrs:{label:e.names,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"上传图片"}},[a("div",{staticClass:"upload-wrapper"},[e.formInline.imgUrl?a("div",{staticClass:"upload-mask"},[a("i",{staticClass:"handleItem previewImage el-icon-search",on:{click:e.handlePictureCardPreview}}),e._v(" "),a("i",{staticClass:"handleItem deleteImage el-icon-delete",on:{click:e.handlePictureCardDelete}})]):e._e(),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/upload/uploadImg","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.formInline.imgUrl?a("img",{staticClass:"avatar",attrs:{src:e.formInline.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("div",{staticStyle:{"margin-bottom":"10px",width:"300px",color:"#333"}},[e._v("建议尺寸：305*280或更高倍数的")])],1)]),e._v(" "),a("div",{staticClass:"admin-handleBar demo-form-inline",staticStyle:{"margin-top":"40px"}},[a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"primary",inline:!0},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("提交")])],1),e._v(" "),a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.returnBack(t)}}},[e._v("返回")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"图片预览",width:"60%",center:"",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{staticStyle:{width:"100%",height:"100%",border:"1px solid #e9e9e9","box-shadow":"0px 10px 18px 0px rgba(197,206,214,0.8)"},attrs:{src:e.dialogImageUrl,alt:"图片预览"}})])],1)},ub=[],db={render:cb,staticRenderFns:ub},mb=db,pb=a(0),fb=ne,gb=pb(sb,mb,!1,fb,"data-v-7d839bb4",null),hb=gb.exports,vb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},bb={addProTemplate:"/api/proTemplate/insert",getTableList:"/api/proTemplate/query",addForm:"/api/proSpecimen/batchInsert",updateProTemplate:"/api/proTemplate/update"},Ib={name:"addProTemplate",data:function(){var e=this,t=localStorage.getItem("adminId"),a=parseInt(e.$route.query.type,10);return{dialogVisible:!1,updateUser:t,dialogImageUrl:"",id:e.$route.query.id,editType:a,formInline:{names:"",remark:"",status:"0",temUrl:""},originalForm:{names:"",remark:"",status:"0",temUrl:""}}},mounted:function(){var e=this;console.log(e.editType),e.editType&&e.getData()},methods:{resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm))},returnBack:function(){this.$router.push({path:"/022"})},handleAvatarSuccess:function(e,t){var a=this;console.log("触发======"),console.log(e),a.formInline.temUrl=e.result.url},handlePictureCardDelete:function(){this.formInline.temUrl=""},handleClose:function(){var e=this;e.dialogImageUrl="",e.dialogVisible=!1},beforeAvatarUpload:function(e){console.log(e)},getData:function(){var e=this;ze.a.get(bb.getTableList,{params:{id:e.id,updateUser:e.updateUser}}).then(function(t){if(console.log(t),200===t.data.code){e.selectOnOff=!1;var a=t.data.result[0];for(var n in e.formInline)e.formInline[n]=a[n];console.log(e.tableList)}}).catch(function(e){console.log(e)})},addColumn:function(){var e=this,t=0===parseInt(e.editType,10)?bb.addProTemplate:bb.updateProTemplate,a=0===parseInt(e.editType,10)?vb({},e.formInline,{updateUser:e.updateUser,createUser:e.updateUser}):vb({},e.formInline,{id:e.id,updateUser:e.updateUser});ze()({method:"post",url:t,headers:{"X-Requested-With":"XMLHttpRequest"},data:a}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(console.log("添加成功"),e.resetList()),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})}}},Cb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"admin-main"},[n("h1",{staticClass:"admin-title"},[e._v("添加模板")]),e._v(" "),n("section",{staticClass:"admin-main-inner"},[n("el-form",{staticClass:"demo-form-inline",attrs:{model:e.formInline,"label-width":"80px","label-position":"left"}},[n("el-form-item",{attrs:{label:"模板名称"}},[n("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入模板名称"},model:{value:e.formInline.names,callback:function(t){e.$set(e.formInline,"names",t)},expression:"formInline.names"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"模板描述"}},[n("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入模板描述"},model:{value:e.formInline.remark,callback:function(t){e.$set(e.formInline,"remark",t)},expression:"formInline.remark"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"上传模板"}},[n("div",{staticClass:"upload-wrapper"},[e.formInline.temUrl?n("div",{staticClass:"upload-mask"},[n("a",{staticClass:"handleItem previewImage el-icon-download",attrs:{href:e.formInline.temUrl}}),e._v(" "),n("i",{staticClass:"handleItem deleteImage el-icon-delete",on:{click:e.handlePictureCardDelete}})]):e._e(),e._v(" "),n("el-upload",{staticClass:"avatar-uploader",attrs:{accept:".zip",action:"/api/upload/uploadImg","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.formInline.temUrl?n("img",{staticClass:"avatar",attrs:{src:a(231)}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),e._v(" "),n("div",{staticClass:"admin-handleBar demo-form-inline"},[n("el-form-item",{staticClass:"form-button"},[n("el-button",{attrs:{type:"primary",inline:!0},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("提交")])],1),e._v(" "),n("el-form-item",{staticClass:"form-button"},[n("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.returnBack(t)}}},[e._v("返回")])],1)],1)],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"图片预览",width:"60%",center:"",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("img",{staticStyle:{width:"100%",height:"100%",border:"1px solid #e9e9e9","box-shadow":"0px 10px 18px 0px rgba(197,206,214,0.8)"},attrs:{src:e.dialogImageUrl,alt:"图片预览"}})])],1)},Tb=[],_b={render:Cb,staticRenderFns:Tb},Ob=_b,yb=a(0),kb=ie,Sb=yb(Ib,Ob,!1,kb,"data-v-9108f3a0",null),xb=Sb.exports,Db=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},$b={addProInstr:"/api/proInstr/insert",getTableList:"/api/proInstr/query",updateProInstr:"/api/proInstr/update"},wb={name:"addProInstr",data:function(){var e=this,t=localStorage.getItem("adminId"),a=parseInt(e.$route.query.type,10);return{dialogVisible:!1,editName:"",editVisible:!1,updateUser:t,dialogImageUrl:"",editHtmlContent:"",id:e.$route.query.id,editType:a,editHtmlType:0,formInline:{names:"",knows:"",models:"",status:"0",imgUrl:"",testItems:"",sampleNeed:"",question:""},originalForm:{names:"",knows:"",models:"",status:"0",imgUrl:"",testItems:"",sampleNeed:"",question:""}}},components:{EditProlnstr:Sv},mounted:function(){var e=this;console.log(e.editType),e.editType&&e.getData()},methods:{resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm))},showEditPanel:function(e){var t=this;t.editHtmlType=e,t.editHtmlContent="",t.editVisible=!0;var a="";switch(parseInt(t.editHtmlType,10)){case 0:a="测试项目",t.editHtmlContent=t.formInline.testItems;break;case 1:a="样品要求",t.editHtmlContent=t.formInline.sampleNeed;break;case 2:a="常见问题",t.editHtmlContent=t.formInline.question;break;case 3:a="预约须知",t.editHtmlContent=t.formInline.knows}t.editName=a},handleAvatarSuccess:function(e,t){var a=this;console.log("触发======"),console.log(e),a.formInline.imgUrl=e.result.url},handlePictureCardPreview:function(){var e=this;e.dialogImageUrl=e.formInline.imgUrl,e.dialogVisible=!0},handlePictureCardDelete:function(){this.formInline.imgUrl=""},handleClose:function(){var e=this;e.dialogImageUrl="",e.dialogVisible=!1},editClose:function(){this.editVisible=!1},submitInfo:function(e){var t=this,a="";switch(parseInt(t.editHtmlType,10)){case 0:a="testItems";break;case 1:a="sampleNeed";break;case 2:a="question";break;case 3:a="knows"}t.formInline[a]=e,console.log(t.formInline),t.editClose()},beforeAvatarUpload:function(e){console.log(e)},getData:function(){var e=this;ze.a.get($b.getTableList,{params:{id:e.id,updateUser:e.updateUser}}).then(function(t){if(console.log(t),200===t.data.code){e.selectOnOff=!1;var a=t.data.result[0];for(var n in e.formInline)e.formInline[n]=a[n];console.log(e.tableList)}}).catch(function(e){console.log(e)})},returnBack:function(){this.$router.push({path:"/021"})},addColumn:function(){var e=this,t=0===parseInt(e.editType,10)?$b.addProInstr:$b.updateProInstr,a=0===parseInt(e.editType,10)?Db({},e.formInline,{updateUser:e.updateUser,createUser:e.updateUser}):Db({},e.formInline,{id:e.id,updateUser:e.updateUser});ze()({method:"post",url:t,headers:{"X-Requested-With":"XMLHttpRequest"},data:a}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(console.log("添加成功"),e.resetList()),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})}}},Lb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"admin-main admin-editProlnstr"},[a("h1",{staticClass:"admin-title"},[e._v("添加仪器")]),e._v(" "),a("section",{staticClass:"admin-main-inner"},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:e.formInline,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"仪器名称"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入仪器名称"},model:{value:e.formInline.names,callback:function(t){e.$set(e.formInline,"names",t)},expression:"formInline.names"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"仪器型号"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入仪器名称"},model:{value:e.formInline.models,callback:function(t){e.$set(e.formInline,"models",t)},expression:"formInline.models"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"仪器封面"}},[a("div",{staticClass:"upload-wrapper"},[e.formInline.imgUrl?a("div",{staticClass:"upload-mask"},[a("i",{staticClass:"handleItem previewImage el-icon-search",on:{click:e.handlePictureCardPreview}}),e._v(" "),a("i",{staticClass:"handleItem deleteImage el-icon-delete",on:{click:e.handlePictureCardDelete}})]):e._e(),e._v(" "),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/upload/uploadImg","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.formInline.imgUrl?a("img",{staticClass:"avatar",attrs:{src:e.formInline.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("div",{staticStyle:{"margin-bottom":"10px",width:"300px",color:"#333"}},[e._v("建议尺寸：305*280或更高倍数的")])],1)]),e._v(" "),a("el-form-item",{staticStyle:{"margin-top":"60px"},attrs:{label:"预约须知"}},[a("div",{staticClass:"proInstr-content"},[a("section",{staticClass:"inner-content",domProps:{innerHTML:e._s(e.formInline.knows)}}),e._v(" "),a("section",{staticClass:"edit-mask"},[a("i",{staticClass:"el-icon-edit",on:{click:function(t){return e.showEditPanel(3)}}})])])]),e._v(" "),a("el-form-item",{attrs:{label:"测试项目"}},[a("div",{staticClass:"proInstr-content"},[a("section",{staticClass:"inner-content",domProps:{innerHTML:e._s(e.formInline.testItems)}}),e._v(" "),a("section",{staticClass:"edit-mask"},[a("i",{staticClass:"el-icon-edit",on:{click:function(t){return e.showEditPanel(0)}}})])])]),e._v(" "),a("el-form-item",{attrs:{label:"样品要求"}},[a("div",{staticClass:"proInstr-content"},[a("section",{staticClass:"inner-content",domProps:{innerHTML:e._s(e.formInline.sampleNeed)}}),e._v(" "),a("section",{staticClass:"edit-mask"},[a("i",{staticClass:"el-icon-edit",on:{click:function(t){return e.showEditPanel(1)}}})])])]),e._v(" "),a("el-form-item",{attrs:{label:"常见问题"}},[a("div",{staticClass:"proInstr-content"},[a("section",{staticClass:"inner-content",domProps:{innerHTML:e._s(e.formInline.question)}}),e._v(" "),a("section",{staticClass:"edit-mask"},[a("i",{staticClass:"el-icon-edit",on:{click:function(t){return e.showEditPanel(2)}}})])])]),e._v(" "),a("div",{staticClass:"admin-handleBar demo-form-inline"},[a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"primary",inline:!0},nativeOn:{click:function(t){return e.addColumn(t)}}},[e._v("提交")])],1),e._v(" "),a("el-form-item",{staticClass:"form-button"},[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.returnBack(t)}}},[e._v("返回")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.editName,width:"1200px",center:"",visible:e.editVisible,"before-close":e.editClose},on:{"update:visible":function(t){e.editVisible=t}}},[a("EditProlnstr",{attrs:{editName:e.editName,editHtmlContent:e.editHtmlContent},on:{closePanel:e.editClose,submitInfo:e.submitInfo}})],1)],1)},Ub=[],Nb={render:Lb,staticRenderFns:Ub},Pb=Nb,zb=a(0),Fb=re,Eb=zb(wb,Pb,!1,Fb,"data-v-76df7c38",null),Rb=Eb.exports,Bb=a(236),qb=a.n(Bb),jb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Hb={addSample:"/api/proSample/insert",deleteSample:"/api/proSample/delete",updateOrderBy:"/api/proSample/updateOrderBy",getList:"/api/proSample/query"},Mb={name:"sampleItem",data:function(){var e=this;return{list:[],updateUser:localStorage.getItem("adminId"),id:e.$route.query.id,editVisible:!1,dynamicForm:{},form:{title:"",controlType:"",isMust:"",choiceNum:"",tipsContent:"",choiceContent:""},originalForm:{title:"",controlType:"",isMust:"",choiceNum:"",tipsContent:"",choiceContent:""}}},components:{vuedraggable:qb.a},computed:{choiceContent:function(){var e=this,t="",a=0;for(var n in e.dynamicForm)t+=0===a?e.dynamicForm[n]:","+e.dynamicForm[n],a++;return t},choiceContentOnOff:function(){var e=this,t=0;for(var a in e.dynamicForm)kt(e.dynamicForm[a])||t++;return parseInt(e.form.choiceNum,10)===t}},watch:{dynamicForm:{handler:function(e){console.log(e)},deep:!0},editVisible:function(e){var t=this;e||(t.form=t.originalForm)},"form.choiceNum":function(e){var t=this;if(!kt(e))if(De(e)){for(var a={},n=0;n<e;n++){var i="input"+n;a[i]=""}t.dynamicForm=a}else t.$alert("【选项个数】必须是阿拉伯数字",{confirmButtonText:"知道了"}).then(function(){t.form.choiceNum=""}).catch(function(e){})},list:function(e){var t=this;console.log("========="),console.log(e),console.log("=========");for(var a=[],n=Hb.updateOrderBy,i=0;i<e.length;i++){var r={id:e[i].id,orderBy:i};a.push(r)}ze()({method:"post",url:n,headers:{"X-Requested-With":"XMLHttpRequest"},data:a}).then(function(e){}).catch(function(e){t.$message({type:"info",message:"操作失败"})})}},mounted:function(){this.getList()},methods:{editClose:function(){this.editVisible=!1},getList:function(){var e=this;ze.a.get(Hb.getList,{params:{instrId:e.id,updateUser:e.updateUser}}).then(function(t){console.log(t),200===t.data.code&&(e.selectOnOff=!1,e.list=t.data.result,e.editVisible=!1)}).catch(function(e){console.log(e)})},deleteSample:function(e){var t=this,a=Hb.deleteSample;t.$confirm("您确定要删除该控件?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var n={id:e,updateUser:t.updateUser};ze()({method:"post",url:a,headers:{"X-Requested-With":"XMLHttpRequest"},data:n}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&(t.$message({type:"success",message:"删除成功!"}),t.getList()),console.log(e.data)}).catch(function(e){console.log(e),t.$message({type:"info",message:"操作失败"})})})},addForm:function(){this.editVisible=!0},returnBack:function(){this.$router.push({path:"/021"})},onSubmit:function(){var e=this;if(console.log("submit!"),kt(e.form.title))return e.$message.error("请输入控件标题"),!1;if(kt(e.form.controlType))return e.$message.error("请选择控件类型"),!1;if(kt(e.form.isMust))return e.$message.error("请确定该控件是否是必填"),!1;if((1===parseInt(e.form.controlType,10)||2===parseInt(e.form.controlType,10))&&kt(e.form.choiceNum))return e.$message.error("请输入选项个数"),!1;if((1===parseInt(e.form.controlType,10)||2===parseInt(e.form.controlType,10))&&parseInt(e.form.choiceNum,10)&&(kt(e.choiceContent)||!e.choiceContentOnOff))return e.$message.error("请输入完整的选项内容"),!1;e.form.choiceContent=e.choiceContent;var t=Hb.addSample,a=jb({},e.form,{instrId:e.id,orderBy:1,updateUser:e.updateUser});ze()({method:"post",url:t,headers:{"X-Requested-With":"XMLHttpRequest"},data:a}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&(console.log("添加成功"),e.getList()),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})}}},Ab=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"sample-item"},[e._m(0),e._v(" "),0===e.list.length?a("section",{staticClass:"sample-form-module nothing"},[e._v("\n        该仪器暂无表单控件点击蓝色按钮添加\n    ")]):e._e(),e._v(" "),a("vuedraggable",{staticClass:"wrapper",model:{value:e.list,callback:function(t){e.list=t},expression:"list"}},[a("transition-group",e._l(e.list,function(t,n){return a("section",{key:t.id,staticClass:"sample-form-module",class:{"sample-form-input":3===parseInt(t.controlType,10),"sample-form-check":2===parseInt(t.controlType,10),"sample-form-radio":1===parseInt(t.controlType,10),"sample-form-text":4===parseInt(t.controlType,10)}},[a("section",{staticClass:"form-panel"},[a("span",{staticClass:"label"},[0===parseInt(t.isMust,10)?a("i",[e._v("*")]):e._e(),e._v("\n          "+e._s(t.title)+"：\n        ")]),e._v(" "),3===parseInt(t.controlType,10)?a("span",{staticClass:"wrap"},[a("input",{attrs:{type:"text",placeholder:"请输入"+t.title,disabled:""}})]):e._e(),e._v(" "),4===parseInt(t.controlType,10)?a("span",{staticClass:"wrap"},[a("textarea",{attrs:{name:"",cols:"30",rows:"10",placeholder:"请输入"+t.title,disabled:""}})]):e._e(),e._v(" "),1===parseInt(t.controlType,10)||2===parseInt(t.controlType,10)?a("span",{staticClass:"wrap"},e._l(t.choiceContent.split(","),function(t,i){return a("span",{key:n+"-"+i,staticClass:"radio-item"},[a("i"),e._v(" "),a("em",{domProps:{textContent:e._s(t)}})])}),0):e._e(),e._v(" "),0===parseInt(t.isMust,10)?a("span",{staticClass:"require"},[e._v("必填")]):e._e(),e._v(" "),a("span",{staticClass:"sample-delete",on:{click:function(a){return e.deleteSample(t.id)}}},[a("i"),e._v("\n            删除\n          ")])]),e._v(" "),t.tipsContent?a("section",{staticClass:"tips"},[a("i",[e._v("!")]),e._v(" "),a("em",{domProps:{textContent:e._s(t.tipsContent)}})]):e._e()])}),0)],1),e._v(" "),a("section",{staticClass:"sample-form-module sample-form-add"},[a("section",{staticClass:"addHandle",on:{click:e.addForm}},[a("em",{staticClass:"addIcon el-icon-circle-plus"}),e._v(" "),a("span",[e._v("添加表单控件")])]),e._v(" "),a("section",{staticClass:"addHandle addHandleBack",on:{click:e.returnBack}},[a("span",[e._v("返回")])])]),e._v(" "),a("el-dialog",{attrs:{title:"图片预览",width:"50%",center:"",visible:e.editVisible,"before-close":e.editClose},on:{"update:visible":function(t){e.editVisible=t}}},[a("div",{staticClass:"block"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"控件标题"}},[a("el-input",{staticClass:"adminInputEl",model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"控件类型"}},[a("el-radio-group",{model:{value:e.form.controlType,callback:function(t){e.$set(e.form,"controlType",t)},expression:"form.controlType"}},[a("el-radio",{attrs:{label:"1"}},[e._v("单选")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("多选")]),e._v(" "),a("el-radio",{attrs:{label:"3"}},[e._v("输入框")]),e._v(" "),a("el-radio",{attrs:{label:"4"}},[e._v("文本框")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"必填"}},[a("el-radio-group",{model:{value:e.form.isMust,callback:function(t){e.$set(e.form,"isMust",t)},expression:"form.isMust"}},[a("el-radio",{attrs:{label:"0"}},[e._v("必传")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("非必传")])],1)],1),e._v(" "),1===parseInt(e.form.controlType,10)||2===parseInt(e.form.controlType,10)?a("el-form-item",{attrs:{label:"选项个数"}},[a("el-input",{staticClass:"adminInputEl",model:{value:e.form.choiceNum,callback:function(t){e.$set(e.form,"choiceNum",t)},expression:"form.choiceNum"}}),e._v("个\n                ")],1):e._e(),e._v(" "),1!==parseInt(e.form.controlType,10)&&2!==parseInt(e.form.controlType,10)||!e.form.choiceNum?e._e():a("el-form-item",{attrs:{label:"每个选项内容"}},e._l(parseInt(e.form.choiceNum,10),function(t){return a("el-input",{key:t,staticClass:"adminInputEl",model:{value:e.dynamicForm["input"+(t-1)],callback:function(a){e.$set(e.dynamicForm,"input"+(t-1),a)},expression:"dynamicForm['input'+(i-1)]"}})}),1),e._v(" "),a("el-form-item",{attrs:{label:"提示内容"}},[a("el-input",{staticClass:"adminInputEl",attrs:{type:"textarea"},model:{value:e.form.tipsContent,callback:function(t){e.$set(e.form,"tipsContent",t)},expression:"form.tipsContent"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取消")])],1)],1)],1)])],1)},Xb=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",{staticClass:"instrument-title"},[a("i"),e._v(" "),a("span",[e._v("样品模板："),a("em",[e._v("注意：拖动可以改变表单顺序")])])])}],Vb={render:Ab,staticRenderFns:Xb},Wb=Vb,Jb=a(0),Zb=le,Gb=Jb(Mb,Wb,!1,Zb,"data-v-023b6eec",null),Yb=Gb.exports,Kb={name:"editSample",components:{SampleItem:Yb}},Qb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"admin-main"},[a("h1",{staticClass:"admin-title"},[e._v("编辑样品模板")]),e._v(" "),a("section",{staticClass:"admin-main-inner"},[a("SampleItem")],1)])},eI=[],tI={render:Qb,staticRenderFns:eI},aI=tI,nI=a(0),iI=nI(Kb,aI,!1,null,null,null),rI=iI.exports,lI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},oI={data:function(){var e=localStorage.getItem("adminId");return{formInline:{updateUser:e,id:"",grade:"",phoneNum:"",realName:"",identityNum:"",deleteFlag:""},duringTime:[],updateDuringTime:[],originalForm:{updateUser:e,id:"",grade:"",phoneNum:"",realName:"",identityNum:"",deleteFlag:""},createPickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},updatePickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},methods:{onSubmit:function(){var e=this;console.log(e.duringTime);var t=e.duringTime.length?xt(e.duringTime[0]):"",a=e.duringTime.length?xt(e.duringTime[1]):"",n=e.updateDuringTime.length?xt(e.updateDuringTime[0]):"",i=e.updateDuringTime.length?xt(e.updateDuringTime[1]):"";e.$emit("getTableList",lI({},e.formInline,{beginTime:t,endTime:a,updateBeginTime:n,updateEndTime:i}))},resetList:function(){var e=this;e.formInline=JSON.parse(JSON.stringify(e.originalForm)),e.duringTime=[],e.updateDuringTime=[]}}},sI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"管理员ID"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入管理员ID"},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"管理员姓名"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入管理员名称"},model:{value:e.formInline.realName,callback:function(t){e.$set(e.formInline,"realName",t)},expression:"formInline.realName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"管理员状态"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"管理员状态"},model:{value:e.formInline.deleteFlag,callback:function(t){e.$set(e.formInline,"deleteFlag",t)},expression:"formInline.deleteFlag"}},[a("el-option",{attrs:{label:"下架",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"上架",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"管理员级别"}},[a("el-select",{staticClass:"adminInputEl",attrs:{placeholder:"管理员状态"},model:{value:e.formInline.grade,callback:function(t){e.$set(e.formInline,"grade",t)},expression:"formInline.grade"}},[a("el-option",{attrs:{label:"超级管理员",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"管理员",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"运营人员",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入管理员身份证号"},model:{value:e.formInline.identityNum,callback:function(t){e.$set(e.formInline,"identityNum",t)},expression:"formInline.identityNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系方式"}},[a("el-input",{staticClass:"adminInputEl",attrs:{placeholder:"请输入管理员联系方式"},model:{value:e.formInline.phoneNum,callback:function(t){e.$set(e.formInline,"phoneNum",t)},expression:"formInline.phoneNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"提交时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.createPickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.duringTime,callback:function(t){e.duringTime=t},expression:"duringTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"更新时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.updatePickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.updateDuringTime,callback:function(t){e.updateDuringTime=t},expression:"updateDuringTime"}})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.resetList(t)}}},[e._v("重置")])],1)],1)],1)},cI=[],uI={render:sI,staticRenderFns:cI},dI=uI,mI=a(0),pI=mI(oI,dI,!1,null,null,null),fI=pI.exports,gI={props:{tableList:{default:function(){return[]},type:Array}},methods:{selectionChange:function(e){var t=this;t.$emit("setSelect",!!e),t.$emit("setSelectData",e)},formatStatus:function(e,t){var a=e.deleteFlag;return 0===parseInt(a,10)?"无效":"激活"},formatterTime:function(e,t){var a=e.createTime;return St(a)},formatterGrade:function(e,t){var a=parseInt(e.grade,10),n="";switch(a){case 0:n="超级管理员";break;case 1:n="管理员";break;case 2:n="运营人员"}return n},formatterGender:function(e,t){var a=parseInt(e.gender,10),n="";switch(a){case 2:n="女";break;case 1:n="男"}return n}}},hI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableList,border:"","highlight-current-row":"","default-sort":{prop:"createTime",order:"descending"}},on:{"current-change":e.selectionChange}},[a("el-table-column",{attrs:{prop:"id",label:"管理员ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"realName",label:"管理员姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gender",formatter:e.formatterGender,label:"性别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"identityNum",label:"身份证号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phoneNum",label:"联系方式"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deleteFlag",formatter:e.formatStatus,label:"管理员状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"电子信箱"}}),e._v(" "),a("el-table-column",{attrs:{prop:"grade",sortable:"",formatter:e.formatterGrade,label:"级别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",sortable:"",formatter:e.formatterTime,label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",sortable:"",formatter:e.formatterTime,label:"更新时间"}})],1)],1)},vI=[],bI={render:hI,staticRenderFns:vI},II=bI,CI=a(0),TI=oe,_I=CI(gI,II,!1,TI,"data-v-202f0256",null),OI=_I.exports,yI={props:{pageNum:{default:function(){return 0},type:Number},pageSize:{default:function(){return 0},type:Number},total:{default:function(){return 0},type:Number}},methods:{handleSizeChange:function(e){this.$emit("handleSizeChange",e)},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)}}},kI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminPage"},[a("el-pagination",{attrs:{background:"","current-page":e.pageNum,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},SI=[],xI={render:kI,staticRenderFns:SI},DI=xI,$I=a(0),wI=$I(yI,DI,!1,null,null,null),LI=wI.exports,UI={data:function(){return{updateUser:localStorage.getItem("adminId"),grade:parseInt(localStorage.getItem("grade"),10)}},props:{selectOnOff:{default:function(){return!1},type:Boolean},selectData:{default:function(){return{}},type:Object}},methods:{resetPassword:function(){var e=this;if(e.selectOnOff){if(e.selectData.id===e.updateUser&&0===e.grade)return e.$message.error("您可以修改自己的密码"),!1;e.$confirm("您确定要重置改用户密码?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){ze()({method:"post",url:"/api/sysUser/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:e.selectData.id,updateUser:e.updateUser,password:Ee()("xueyanhui123456")}}).then(function(t){console.log("进入成功");var a=t.data;200===parseInt(a.code,10)&&e.$message({type:"success",message:"修改成功"}),console.log(t.data)}).catch(function(t){console.log(t),e.$message({type:"info",message:"操作失败"})})})}else e.$message.error("请选择一条数据")},changeStatus:function(e){var t=this;if(console.log(t.selectOnOff),t.selectOnOff){console.log("逻辑");var a="";a=0===parseInt(e,10)?"确定要拉黑该管理员？":"确定要激活该管理员？",t.$alert(a,"！提示信息",{confirmButtonText:"确定",callback:function(a){t.valid(e+"",function(){t.$emit("getTableList")})}})}else t.$message.error("请选择一条数据")},valid:function(e,t){var a=this;console.log("操作");var n=parseInt(localStorage.getItem("grade"),10);if(a.selectData.id===a.updateUser&&0===n)return a.$message.error("超级管理员自己不能操作自己"),!1;ze()({method:"post",url:"/api/sysUser/update",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:a.selectData.id,updateUser:a.updateUser,deleteFlag:e}}).then(function(e){console.log("进入成功");var a=e.data;200===parseInt(a.code,10)&&t&&t(),console.log(e.data)}).catch(function(e){console.log(e),a.$message({type:"info",message:"操作失败"})})}}},NI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block adminAuditControl"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[0===e.grade?a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.resetPassword(t)}}},[e._v("重置密码")]):e._e()],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(1)}}},[e._v("激活")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default"},nativeOn:{click:function(t){return e.changeStatus(0)}}},[e._v("无效")])],1)],1)],1)},PI=[],zI={render:NI,staticRenderFns:PI},FI=zI,EI=a(0),RI=EI(UI,FI,!1,null,null,null),BI=RI.exports,qI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},jI={getTableList:"/api/sysUser/query"},HI={name:"manageTab",data:function(){return{updateUser:localStorage.getItem("adminId"),pageNum:1,pageSize:20,tableList:[],selectData:{},total:0,selectOnOff:!1}},watch:{selectOnOff:function(e){var t=this;e||(t.selectData={})}},methods:{handleSizeChange:function(e){var t=this;t.pageSize=e,t.getTableList()},handleCurrentChange:function(e){var t=this;t.pageNum=e,t.getTableList()},getTableList:function(e){var t=this;console.log("--------------------"),console.log(t.formInline),ze.a.get(jI.getTableList,{params:Dt(e)?{updateUser:t.updateUser,pageSize:t.pageSize,pageNum:t.pageNum}:qI({pageSize:t.pageSize,pageNum:t.pageNum},e)}).then(function(e){console.log(e),200===e.data.code&&(t.selectOnOff=!1,console.log("设置完账号"+t.selectOnOff),t.tableList=e.data.result.list,t.total=e.data.result.total,console.log(t.tableList))}).catch(function(e){console.log(e)})},setSelect:function(e){var t=this;t.selectOnOff=e,console.log(t.selectOnOff+"在这里设置了账号")},setSelectData:function(e){var t=this;t.selectData=e,console.log("设置数据",t.selectData)}},mounted:function(){this.getTableList()},components:{HandleForm:fI,TableList:OI,Pagination:LI,ControlModule:BI}},MI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"adminContentContainer"},[a("section",{staticClass:"adminContentInner"},[a("HandleForm",{on:{getTableList:e.getTableList}}),e._v(" "),a("TableList",{attrs:{tableList:e.tableList},on:{setSelect:e.setSelect,setSelectData:e.setSelectData}}),e._v(" "),a("Pagination",{attrs:{pageNum:e.pageNum,pageSize:e.pageSize,total:e.total},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}}),e._v(" "),a("ControlModule",{attrs:{selectOnOff:e.selectOnOff,selectData:e.selectData},on:{getTableList:e.getTableList}})],1)])},AI=[],XI={render:MI,staticRenderFns:AI},VI=XI,WI=a(0),JI=se,ZI=WI(HI,VI,!1,JI,"data-v-66b52a90",null),GI=ZI.exports,YI={linkActiveClass:"active",routes:[{path:"*",redirect:"/index"},{path:"/index",component:ga},{path:"/011",component:dg},{path:"/upLoadResult",component:ud},{path:"/upLoadInvoice",component:Td},{path:"/021",component:Zh},{path:"/052",component:GI},{path:"/022",component:ah},{path:"/023",component:gm},{path:"/024",component:lc},{path:"/053",component:fl},{path:"/013",component:ro},{path:"/012",component:Yo},{path:"/sampleInfo",component:gs},{path:"/003",component:Yc},{path:"/004",component:Hu},{path:"/replyDemand",component:Qu},{path:"/addCoupon",component:Cf},{path:"/026",component:Yp},{path:"/025",component:lp},{path:"/032",component:Vi},{path:"/002",component:An},{path:"/replyFeedBack",component:ti},{path:"/033",component:ar},{path:"/034",component:mr},{path:"/031",component:nl},{path:"/addTab",component:Ev},{path:"/addBanner",component:Jv},{path:"/addSchool",component:rb},{path:"/addIntegral",component:cf},{path:"/addProduct",component:hb},{path:"/addProInstr",component:Rb},{path:"/editSample",component:rI},{path:"/addProTemplate",component:xb},{path:"/editProduce",component:ov},{path:"/editLinkUs",component:vv},{path:"/editProlnstr",component:Sv},{path:"/001",component:Ka}]};ce.default.use(de.a),ce.default.use(he.a),ce.default.use(me.a),ce.default.use(fe.a);var KI=me.a.prototype.push;me.a.prototype.push=function(e){return KI.call(this,e).catch(function(e){return e})};var QI=new me.a(YI);new ce.default({el:"#app",router:QI,store:xe,render:function(e){return e(na)}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,function(e,t){},,function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,a){e.exports=a.p+"images/userLogo.4c0f19c.jpg"},function(e,t){},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,a){e.exports=a.p+"images/zipBg.1f14f42.png"},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t){},function(e,t){}]),[82]);